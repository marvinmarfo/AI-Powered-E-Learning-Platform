function LI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function VI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ux={exports:{}},Bc={},Bx={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ja=Symbol.for("react.element"),OI=Symbol.for("react.portal"),MI=Symbol.for("react.fragment"),FI=Symbol.for("react.strict_mode"),UI=Symbol.for("react.profiler"),BI=Symbol.for("react.provider"),$I=Symbol.for("react.context"),zI=Symbol.for("react.forward_ref"),WI=Symbol.for("react.suspense"),HI=Symbol.for("react.memo"),qI=Symbol.for("react.lazy"),Y0=Symbol.iterator;function KI(t){return t===null||typeof t!="object"?null:(t=Y0&&t[Y0]||t["@@iterator"],typeof t=="function"?t:null)}var $x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zx=Object.assign,Wx={};function eo(t,e,n){this.props=t,this.context=e,this.refs=Wx,this.updater=n||$x}eo.prototype.isReactComponent={};eo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};eo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Hx(){}Hx.prototype=eo.prototype;function Dp(t,e,n){this.props=t,this.context=e,this.refs=Wx,this.updater=n||$x}var Lp=Dp.prototype=new Hx;Lp.constructor=Dp;zx(Lp,eo.prototype);Lp.isPureReactComponent=!0;var X0=Array.isArray,qx=Object.prototype.hasOwnProperty,Vp={current:null},Kx={key:!0,ref:!0,__self:!0,__source:!0};function Gx(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)qx.call(e,r)&&!Kx.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),d=0;d<a;d++)l[d]=arguments[d+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ja,type:t,key:i,ref:o,props:s,_owner:Vp.current}}function GI(t,e){return{$$typeof:Ja,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Op(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ja}function QI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var J0=/\/+/g;function Xd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?QI(""+t.key):e.toString(36)}function mu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ja:case OI:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Xd(o,0):r,X0(s)?(n="",t!=null&&(n=t.replace(J0,"$&/")+"/"),mu(s,e,n,"",function(d){return d})):s!=null&&(Op(s)&&(s=GI(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(J0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",X0(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Xd(i,a);o+=mu(i,e,n,l,s)}else if(l=KI(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Xd(i,a++),o+=mu(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Fl(t,e,n){if(t==null)return t;var r=[],s=0;return mu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function YI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _t={current:null},gu={transition:null},XI={ReactCurrentDispatcher:_t,ReactCurrentBatchConfig:gu,ReactCurrentOwner:Vp};function Qx(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:Fl,forEach:function(t,e,n){Fl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Fl(t,function(){e++}),e},toArray:function(t){return Fl(t,function(e){return e})||[]},only:function(t){if(!Op(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Component=eo;ne.Fragment=MI;ne.Profiler=UI;ne.PureComponent=Dp;ne.StrictMode=FI;ne.Suspense=WI;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XI;ne.act=Qx;ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=zx({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Vp.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)qx.call(e,l)&&!Kx.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var d=0;d<l;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:Ja,type:t.type,key:s,ref:i,props:r,_owner:o}};ne.createContext=function(t){return t={$$typeof:$I,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:BI,_context:t},t.Consumer=t};ne.createElement=Gx;ne.createFactory=function(t){var e=Gx.bind(null,t);return e.type=t,e};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:zI,render:t}};ne.isValidElement=Op;ne.lazy=function(t){return{$$typeof:qI,_payload:{_status:-1,_result:t},_init:YI}};ne.memo=function(t,e){return{$$typeof:HI,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=gu.transition;gu.transition={};try{t()}finally{gu.transition=e}};ne.unstable_act=Qx;ne.useCallback=function(t,e){return _t.current.useCallback(t,e)};ne.useContext=function(t){return _t.current.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t){return _t.current.useDeferredValue(t)};ne.useEffect=function(t,e){return _t.current.useEffect(t,e)};ne.useId=function(){return _t.current.useId()};ne.useImperativeHandle=function(t,e,n){return _t.current.useImperativeHandle(t,e,n)};ne.useInsertionEffect=function(t,e){return _t.current.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return _t.current.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return _t.current.useMemo(t,e)};ne.useReducer=function(t,e,n){return _t.current.useReducer(t,e,n)};ne.useRef=function(t){return _t.current.useRef(t)};ne.useState=function(t){return _t.current.useState(t)};ne.useSyncExternalStore=function(t,e,n){return _t.current.useSyncExternalStore(t,e,n)};ne.useTransition=function(){return _t.current.useTransition()};ne.version="18.3.1";Bx.exports=ne;var v=Bx.exports;const Nt=VI(v),Xh=LI({__proto__:null,default:Nt},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JI=v,ZI=Symbol.for("react.element"),eS=Symbol.for("react.fragment"),tS=Object.prototype.hasOwnProperty,nS=JI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rS={key:!0,ref:!0,__self:!0,__source:!0};function Yx(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)tS.call(e,r)&&!rS.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:ZI,type:t,key:i,ref:o,props:s,_owner:nS.current}}Bc.Fragment=eS;Bc.jsx=Yx;Bc.jsxs=Yx;Ux.exports=Bc;var c=Ux.exports,Jh={},Xx={exports:{}},Vt={},Jx={exports:{}},Zx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,H){var J=$.length;$.push(H);e:for(;0<J;){var Y=J-1>>>1,oe=$[Y];if(0<s(oe,H))$[Y]=H,$[J]=oe,J=Y;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var H=$[0],J=$.pop();if(J!==H){$[0]=J;e:for(var Y=0,oe=$.length,we=oe>>>1;Y<we;){var Mt=2*(Y+1)-1,Ft=$[Mt],ft=Mt+1,Ut=$[ft];if(0>s(Ft,J))ft<oe&&0>s(Ut,Ft)?($[Y]=Ut,$[ft]=J,Y=ft):($[Y]=Ft,$[Mt]=J,Y=Mt);else if(ft<oe&&0>s(Ut,J))$[Y]=Ut,$[ft]=J,Y=ft;else break e}}return H}function s($,H){var J=$.sortIndex-H.sortIndex;return J!==0?J:$.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],d=[],h=1,f=null,m=3,y=!1,x=!1,S=!1,P=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E($){for(var H=n(d);H!==null;){if(H.callback===null)r(d);else if(H.startTime<=$)r(d),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(d)}}function R($){if(S=!1,E($),!x)if(n(l)!==null)x=!0,Ee(V);else{var H=n(d);H!==null&&$e(R,H.startTime-$)}}function V($,H){x=!1,S&&(S=!1,k(_),_=-1),y=!0;var J=m;try{for(E(H),f=n(l);f!==null&&(!(f.expirationTime>H)||$&&!N());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,m=f.priorityLevel;var oe=Y(f.expirationTime<=H);H=t.unstable_now(),typeof oe=="function"?f.callback=oe:f===n(l)&&r(l),E(H)}else r(l);f=n(l)}if(f!==null)var we=!0;else{var Mt=n(d);Mt!==null&&$e(R,Mt.startTime-H),we=!1}return we}finally{f=null,m=J,y=!1}}var O=!1,C=null,_=-1,I=5,b=-1;function N(){return!(t.unstable_now()-b<I)}function j(){if(C!==null){var $=t.unstable_now();b=$;var H=!0;try{H=C(!0,$)}finally{H?A():(O=!1,C=null)}}else O=!1}var A;if(typeof w=="function")A=function(){w(j)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,et=de.port2;de.port1.onmessage=j,A=function(){et.postMessage(null)}}else A=function(){P(j,0)};function Ee($){C=$,O||(O=!0,A())}function $e($,H){_=P(function(){$(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,Ee(V))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var J=m;m=H;try{return $()}finally{m=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,H){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var J=m;m=$;try{return H()}finally{m=J}},t.unstable_scheduleCallback=function($,H,J){var Y=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Y+J:Y):J=Y,$){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=J+oe,$={id:h++,callback:H,priorityLevel:$,startTime:J,expirationTime:oe,sortIndex:-1},J>Y?($.sortIndex=J,e(d,$),n(l)===null&&$===n(d)&&(S?(k(_),_=-1):S=!0,$e(R,J-Y))):($.sortIndex=oe,e(l,$),x||y||(x=!0,Ee(V))),$},t.unstable_shouldYield=N,t.unstable_wrapCallback=function($){var H=m;return function(){var J=m;m=H;try{return $.apply(this,arguments)}finally{m=J}}}})(Zx);Jx.exports=Zx;var sS=Jx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iS=v,Dt=sS;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ew=new Set,xa={};function Ws(t,e){Vi(t,e),Vi(t+"Capture",e)}function Vi(t,e){for(xa[t]=e,t=0;t<e.length;t++)ew.add(e[t])}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zh=Object.prototype.hasOwnProperty,oS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Z0={},ey={};function aS(t){return Zh.call(ey,t)?!0:Zh.call(Z0,t)?!1:oS.test(t)?ey[t]=!0:(Z0[t]=!0,!1)}function lS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function uS(t,e,n,r){if(e===null||typeof e>"u"||lS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Et(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Je[t]=new Et(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Je[e]=new Et(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Je[t]=new Et(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Je[t]=new Et(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Je[t]=new Et(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Je[t]=new Et(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Je[t]=new Et(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Je[t]=new Et(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Je[t]=new Et(t,5,!1,t.toLowerCase(),null,!1,!1)});var Mp=/[\-:]([a-z])/g;function Fp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Mp,Fp);Je[e]=new Et(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Mp,Fp);Je[e]=new Et(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Mp,Fp);Je[e]=new Et(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Je[t]=new Et(t,1,!1,t.toLowerCase(),null,!1,!1)});Je.xlinkHref=new Et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Je[t]=new Et(t,1,!1,t.toLowerCase(),null,!0,!0)});function Up(t,e,n,r){var s=Je.hasOwnProperty(e)?Je[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(uS(e,n,s,r)&&(n=null),r||s===null?aS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ur=iS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ul=Symbol.for("react.element"),li=Symbol.for("react.portal"),ui=Symbol.for("react.fragment"),Bp=Symbol.for("react.strict_mode"),ef=Symbol.for("react.profiler"),tw=Symbol.for("react.provider"),nw=Symbol.for("react.context"),$p=Symbol.for("react.forward_ref"),tf=Symbol.for("react.suspense"),nf=Symbol.for("react.suspense_list"),zp=Symbol.for("react.memo"),xr=Symbol.for("react.lazy"),rw=Symbol.for("react.offscreen"),ty=Symbol.iterator;function Co(t){return t===null||typeof t!="object"?null:(t=ty&&t[ty]||t["@@iterator"],typeof t=="function"?t:null)}var Se=Object.assign,Jd;function Bo(t){if(Jd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Jd=e&&e[1]||""}return`
`+Jd+t}var Zd=!1;function eh(t,e){if(!t||Zd)return"";Zd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Zd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Bo(t):""}function cS(t){switch(t.tag){case 5:return Bo(t.type);case 16:return Bo("Lazy");case 13:return Bo("Suspense");case 19:return Bo("SuspenseList");case 0:case 2:case 15:return t=eh(t.type,!1),t;case 11:return t=eh(t.type.render,!1),t;case 1:return t=eh(t.type,!0),t;default:return""}}function rf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ui:return"Fragment";case li:return"Portal";case ef:return"Profiler";case Bp:return"StrictMode";case tf:return"Suspense";case nf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case nw:return(t.displayName||"Context")+".Consumer";case tw:return(t._context.displayName||"Context")+".Provider";case $p:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zp:return e=t.displayName||null,e!==null?e:rf(t.type)||"Memo";case xr:e=t._payload,t=t._init;try{return rf(t(e))}catch{}}return null}function dS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rf(e);case 8:return e===Bp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hS(t){var e=sw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bl(t){t._valueTracker||(t._valueTracker=hS(t))}function iw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=sw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Mu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function sf(t,e){var n=e.checked;return Se({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ny(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Gr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ow(t,e){e=e.checked,e!=null&&Up(t,"checked",e,!1)}function of(t,e){ow(t,e);var n=Gr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?af(t,e.type,n):e.hasOwnProperty("defaultValue")&&af(t,e.type,Gr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ry(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function af(t,e,n){(e!=="number"||Mu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var $o=Array.isArray;function Si(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Gr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function lf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Se({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function sy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if($o(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gr(n)}}function aw(t,e){var n=Gr(e.value),r=Gr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function iy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function lw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?lw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $l,uw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($l=$l||document.createElement("div"),$l.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$l.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ea={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fS=["Webkit","ms","Moz","O"];Object.keys(ea).forEach(function(t){fS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ea[e]=ea[t]})});function cw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ea.hasOwnProperty(t)&&ea[t]?(""+e).trim():e+"px"}function dw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=cw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var pS=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cf(t,e){if(e){if(pS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function df(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hf=null;function Wp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ff=null,bi=null,Ci=null;function oy(t){if(t=tl(t)){if(typeof ff!="function")throw Error(U(280));var e=t.stateNode;e&&(e=qc(e),ff(t.stateNode,t.type,e))}}function hw(t){bi?Ci?Ci.push(t):Ci=[t]:bi=t}function fw(){if(bi){var t=bi,e=Ci;if(Ci=bi=null,oy(t),e)for(t=0;t<e.length;t++)oy(e[t])}}function pw(t,e){return t(e)}function mw(){}var th=!1;function gw(t,e,n){if(th)return t(e,n);th=!0;try{return pw(t,e,n)}finally{th=!1,(bi!==null||Ci!==null)&&(mw(),fw())}}function _a(t,e){var n=t.stateNode;if(n===null)return null;var r=qc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var pf=!1;if(Jn)try{var Po={};Object.defineProperty(Po,"passive",{get:function(){pf=!0}}),window.addEventListener("test",Po,Po),window.removeEventListener("test",Po,Po)}catch{pf=!1}function mS(t,e,n,r,s,i,o,a,l){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var ta=!1,Fu=null,Uu=!1,mf=null,gS={onError:function(t){ta=!0,Fu=t}};function yS(t,e,n,r,s,i,o,a,l){ta=!1,Fu=null,mS.apply(gS,arguments)}function vS(t,e,n,r,s,i,o,a,l){if(yS.apply(this,arguments),ta){if(ta){var d=Fu;ta=!1,Fu=null}else throw Error(U(198));Uu||(Uu=!0,mf=d)}}function Hs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function yw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ay(t){if(Hs(t)!==t)throw Error(U(188))}function xS(t){var e=t.alternate;if(!e){if(e=Hs(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ay(s),t;if(i===r)return ay(s),e;i=i.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function vw(t){return t=xS(t),t!==null?xw(t):null}function xw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=xw(t);if(e!==null)return e;t=t.sibling}return null}var ww=Dt.unstable_scheduleCallback,ly=Dt.unstable_cancelCallback,wS=Dt.unstable_shouldYield,_S=Dt.unstable_requestPaint,Re=Dt.unstable_now,ES=Dt.unstable_getCurrentPriorityLevel,Hp=Dt.unstable_ImmediatePriority,_w=Dt.unstable_UserBlockingPriority,Bu=Dt.unstable_NormalPriority,TS=Dt.unstable_LowPriority,Ew=Dt.unstable_IdlePriority,$c=null,xn=null;function kS(t){if(xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot($c,t,void 0,(t.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:bS,IS=Math.log,SS=Math.LN2;function bS(t){return t>>>=0,t===0?32:31-(IS(t)/SS|0)|0}var zl=64,Wl=4194304;function zo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $u(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=zo(a):(i&=o,i!==0&&(r=zo(i)))}else o=n&~s,o!==0?r=zo(o):i!==0&&(r=zo(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-un(e),s=1<<n,r|=t[n],e&=~s;return r}function CS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function PS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-un(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=CS(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function gf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Tw(){var t=zl;return zl<<=1,!(zl&4194240)&&(zl=64),t}function nh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Za(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-un(e),t[e]=n}function AS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-un(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function qp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-un(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var he=0;function kw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Iw,Kp,Sw,bw,Cw,yf=!1,Hl=[],Dr=null,Lr=null,Vr=null,Ea=new Map,Ta=new Map,Er=[],NS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uy(t,e){switch(t){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":Ea.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ta.delete(e.pointerId)}}function Ao(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=tl(e),e!==null&&Kp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function RS(t,e,n,r,s){switch(e){case"focusin":return Dr=Ao(Dr,t,e,n,r,s),!0;case"dragenter":return Lr=Ao(Lr,t,e,n,r,s),!0;case"mouseover":return Vr=Ao(Vr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ea.set(i,Ao(Ea.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ta.set(i,Ao(Ta.get(i)||null,t,e,n,r,s)),!0}return!1}function Pw(t){var e=_s(t.target);if(e!==null){var n=Hs(e);if(n!==null){if(e=n.tag,e===13){if(e=yw(n),e!==null){t.blockedOn=e,Cw(t.priority,function(){Sw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=vf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);hf=r,n.target.dispatchEvent(r),hf=null}else return e=tl(n),e!==null&&Kp(e),t.blockedOn=n,!1;e.shift()}return!0}function cy(t,e,n){yu(t)&&n.delete(e)}function jS(){yf=!1,Dr!==null&&yu(Dr)&&(Dr=null),Lr!==null&&yu(Lr)&&(Lr=null),Vr!==null&&yu(Vr)&&(Vr=null),Ea.forEach(cy),Ta.forEach(cy)}function No(t,e){t.blockedOn===e&&(t.blockedOn=null,yf||(yf=!0,Dt.unstable_scheduleCallback(Dt.unstable_NormalPriority,jS)))}function ka(t){function e(s){return No(s,t)}if(0<Hl.length){No(Hl[0],t);for(var n=1;n<Hl.length;n++){var r=Hl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Dr!==null&&No(Dr,t),Lr!==null&&No(Lr,t),Vr!==null&&No(Vr,t),Ea.forEach(e),Ta.forEach(e),n=0;n<Er.length;n++)r=Er[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Er.length&&(n=Er[0],n.blockedOn===null);)Pw(n),n.blockedOn===null&&Er.shift()}var Pi=ur.ReactCurrentBatchConfig,zu=!0;function DS(t,e,n,r){var s=he,i=Pi.transition;Pi.transition=null;try{he=1,Gp(t,e,n,r)}finally{he=s,Pi.transition=i}}function LS(t,e,n,r){var s=he,i=Pi.transition;Pi.transition=null;try{he=4,Gp(t,e,n,r)}finally{he=s,Pi.transition=i}}function Gp(t,e,n,r){if(zu){var s=vf(t,e,n,r);if(s===null)hh(t,e,r,Wu,n),uy(t,r);else if(RS(s,t,e,n,r))r.stopPropagation();else if(uy(t,r),e&4&&-1<NS.indexOf(t)){for(;s!==null;){var i=tl(s);if(i!==null&&Iw(i),i=vf(t,e,n,r),i===null&&hh(t,e,r,Wu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else hh(t,e,r,null,n)}}var Wu=null;function vf(t,e,n,r){if(Wu=null,t=Wp(r),t=_s(t),t!==null)if(e=Hs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=yw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wu=t,null}function Aw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ES()){case Hp:return 1;case _w:return 4;case Bu:case TS:return 16;case Ew:return 536870912;default:return 16}default:return 16}}var Pr=null,Qp=null,vu=null;function Nw(){if(vu)return vu;var t,e=Qp,n=e.length,r,s="value"in Pr?Pr.value:Pr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return vu=s.slice(t,1<r?1-r:void 0)}function xu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ql(){return!0}function dy(){return!1}function Ot(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ql:dy,this.isPropagationStopped=dy,this}return Se(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ql)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ql)},persist:function(){},isPersistent:ql}),e}var to={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yp=Ot(to),el=Se({},to,{view:0,detail:0}),VS=Ot(el),rh,sh,Ro,zc=Se({},el,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ro&&(Ro&&t.type==="mousemove"?(rh=t.screenX-Ro.screenX,sh=t.screenY-Ro.screenY):sh=rh=0,Ro=t),rh)},movementY:function(t){return"movementY"in t?t.movementY:sh}}),hy=Ot(zc),OS=Se({},zc,{dataTransfer:0}),MS=Ot(OS),FS=Se({},el,{relatedTarget:0}),ih=Ot(FS),US=Se({},to,{animationName:0,elapsedTime:0,pseudoElement:0}),BS=Ot(US),$S=Se({},to,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zS=Ot($S),WS=Se({},to,{data:0}),fy=Ot(WS),HS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=KS[t])?!!e[t]:!1}function Xp(){return GS}var QS=Se({},el,{key:function(t){if(t.key){var e=HS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xp,charCode:function(t){return t.type==="keypress"?xu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),YS=Ot(QS),XS=Se({},zc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),py=Ot(XS),JS=Se({},el,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xp}),ZS=Ot(JS),eb=Se({},to,{propertyName:0,elapsedTime:0,pseudoElement:0}),tb=Ot(eb),nb=Se({},zc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rb=Ot(nb),sb=[9,13,27,32],Jp=Jn&&"CompositionEvent"in window,na=null;Jn&&"documentMode"in document&&(na=document.documentMode);var ib=Jn&&"TextEvent"in window&&!na,Rw=Jn&&(!Jp||na&&8<na&&11>=na),my=" ",gy=!1;function jw(t,e){switch(t){case"keyup":return sb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ci=!1;function ob(t,e){switch(t){case"compositionend":return Dw(e);case"keypress":return e.which!==32?null:(gy=!0,my);case"textInput":return t=e.data,t===my&&gy?null:t;default:return null}}function ab(t,e){if(ci)return t==="compositionend"||!Jp&&jw(t,e)?(t=Nw(),vu=Qp=Pr=null,ci=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Rw&&e.locale!=="ko"?null:e.data;default:return null}}var lb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!lb[t.type]:e==="textarea"}function Lw(t,e,n,r){hw(r),e=Hu(e,"onChange"),0<e.length&&(n=new Yp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ra=null,Ia=null;function ub(t){qw(t,0)}function Wc(t){var e=fi(t);if(iw(e))return t}function cb(t,e){if(t==="change")return e}var Vw=!1;if(Jn){var oh;if(Jn){var ah="oninput"in document;if(!ah){var vy=document.createElement("div");vy.setAttribute("oninput","return;"),ah=typeof vy.oninput=="function"}oh=ah}else oh=!1;Vw=oh&&(!document.documentMode||9<document.documentMode)}function xy(){ra&&(ra.detachEvent("onpropertychange",Ow),Ia=ra=null)}function Ow(t){if(t.propertyName==="value"&&Wc(Ia)){var e=[];Lw(e,Ia,t,Wp(t)),gw(ub,e)}}function db(t,e,n){t==="focusin"?(xy(),ra=e,Ia=n,ra.attachEvent("onpropertychange",Ow)):t==="focusout"&&xy()}function hb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wc(Ia)}function fb(t,e){if(t==="click")return Wc(e)}function pb(t,e){if(t==="input"||t==="change")return Wc(e)}function mb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dn=typeof Object.is=="function"?Object.is:mb;function Sa(t,e){if(dn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Zh.call(e,s)||!dn(t[s],e[s]))return!1}return!0}function wy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _y(t,e){var n=wy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wy(n)}}function Mw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Mw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Fw(){for(var t=window,e=Mu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Mu(t.document)}return e}function Zp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function gb(t){var e=Fw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Mw(n.ownerDocument.documentElement,n)){if(r!==null&&Zp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=_y(n,i);var o=_y(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var yb=Jn&&"documentMode"in document&&11>=document.documentMode,di=null,xf=null,sa=null,wf=!1;function Ey(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wf||di==null||di!==Mu(r)||(r=di,"selectionStart"in r&&Zp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),sa&&Sa(sa,r)||(sa=r,r=Hu(xf,"onSelect"),0<r.length&&(e=new Yp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=di)))}function Kl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var hi={animationend:Kl("Animation","AnimationEnd"),animationiteration:Kl("Animation","AnimationIteration"),animationstart:Kl("Animation","AnimationStart"),transitionend:Kl("Transition","TransitionEnd")},lh={},Uw={};Jn&&(Uw=document.createElement("div").style,"AnimationEvent"in window||(delete hi.animationend.animation,delete hi.animationiteration.animation,delete hi.animationstart.animation),"TransitionEvent"in window||delete hi.transitionend.transition);function Hc(t){if(lh[t])return lh[t];if(!hi[t])return t;var e=hi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Uw)return lh[t]=e[n];return t}var Bw=Hc("animationend"),$w=Hc("animationiteration"),zw=Hc("animationstart"),Ww=Hc("transitionend"),Hw=new Map,Ty="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ns(t,e){Hw.set(t,e),Ws(e,[t])}for(var uh=0;uh<Ty.length;uh++){var ch=Ty[uh],vb=ch.toLowerCase(),xb=ch[0].toUpperCase()+ch.slice(1);ns(vb,"on"+xb)}ns(Bw,"onAnimationEnd");ns($w,"onAnimationIteration");ns(zw,"onAnimationStart");ns("dblclick","onDoubleClick");ns("focusin","onFocus");ns("focusout","onBlur");ns(Ww,"onTransitionEnd");Vi("onMouseEnter",["mouseout","mouseover"]);Vi("onMouseLeave",["mouseout","mouseover"]);Vi("onPointerEnter",["pointerout","pointerover"]);Vi("onPointerLeave",["pointerout","pointerover"]);Ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ws("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wo));function ky(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,vS(r,e,void 0,t),t.currentTarget=null}function qw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,d=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;ky(s,a,d),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,d=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;ky(s,a,d),i=l}}}if(Uu)throw t=mf,Uu=!1,mf=null,t}function ve(t,e){var n=e[If];n===void 0&&(n=e[If]=new Set);var r=t+"__bubble";n.has(r)||(Kw(e,t,2,!1),n.add(r))}function dh(t,e,n){var r=0;e&&(r|=4),Kw(n,t,r,e)}var Gl="_reactListening"+Math.random().toString(36).slice(2);function ba(t){if(!t[Gl]){t[Gl]=!0,ew.forEach(function(n){n!=="selectionchange"&&(wb.has(n)||dh(n,!1,t),dh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gl]||(e[Gl]=!0,dh("selectionchange",!1,e))}}function Kw(t,e,n,r){switch(Aw(e)){case 1:var s=DS;break;case 4:s=LS;break;default:s=Gp}n=s.bind(null,e,n,t),s=void 0,!pf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function hh(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=_s(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}gw(function(){var d=i,h=Wp(n),f=[];e:{var m=Hw.get(t);if(m!==void 0){var y=Yp,x=t;switch(t){case"keypress":if(xu(n)===0)break e;case"keydown":case"keyup":y=YS;break;case"focusin":x="focus",y=ih;break;case"focusout":x="blur",y=ih;break;case"beforeblur":case"afterblur":y=ih;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=hy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=MS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=ZS;break;case Bw:case $w:case zw:y=BS;break;case Ww:y=tb;break;case"scroll":y=VS;break;case"wheel":y=rb;break;case"copy":case"cut":case"paste":y=zS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=py}var S=(e&4)!==0,P=!S&&t==="scroll",k=S?m!==null?m+"Capture":null:m;S=[];for(var w=d,E;w!==null;){E=w;var R=E.stateNode;if(E.tag===5&&R!==null&&(E=R,k!==null&&(R=_a(w,k),R!=null&&S.push(Ca(w,R,E)))),P)break;w=w.return}0<S.length&&(m=new y(m,x,null,n,h),f.push({event:m,listeners:S}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&n!==hf&&(x=n.relatedTarget||n.fromElement)&&(_s(x)||x[Zn]))break e;if((y||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,y?(x=n.relatedTarget||n.toElement,y=d,x=x?_s(x):null,x!==null&&(P=Hs(x),x!==P||x.tag!==5&&x.tag!==6)&&(x=null)):(y=null,x=d),y!==x)){if(S=hy,R="onMouseLeave",k="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(S=py,R="onPointerLeave",k="onPointerEnter",w="pointer"),P=y==null?m:fi(y),E=x==null?m:fi(x),m=new S(R,w+"leave",y,n,h),m.target=P,m.relatedTarget=E,R=null,_s(h)===d&&(S=new S(k,w+"enter",x,n,h),S.target=E,S.relatedTarget=P,R=S),P=R,y&&x)t:{for(S=y,k=x,w=0,E=S;E;E=ni(E))w++;for(E=0,R=k;R;R=ni(R))E++;for(;0<w-E;)S=ni(S),w--;for(;0<E-w;)k=ni(k),E--;for(;w--;){if(S===k||k!==null&&S===k.alternate)break t;S=ni(S),k=ni(k)}S=null}else S=null;y!==null&&Iy(f,m,y,S,!1),x!==null&&P!==null&&Iy(f,P,x,S,!0)}}e:{if(m=d?fi(d):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var V=cb;else if(yy(m))if(Vw)V=pb;else{V=hb;var O=db}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(V=fb);if(V&&(V=V(t,d))){Lw(f,V,n,h);break e}O&&O(t,m,d),t==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&af(m,"number",m.value)}switch(O=d?fi(d):window,t){case"focusin":(yy(O)||O.contentEditable==="true")&&(di=O,xf=d,sa=null);break;case"focusout":sa=xf=di=null;break;case"mousedown":wf=!0;break;case"contextmenu":case"mouseup":case"dragend":wf=!1,Ey(f,n,h);break;case"selectionchange":if(yb)break;case"keydown":case"keyup":Ey(f,n,h)}var C;if(Jp)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else ci?jw(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Rw&&n.locale!=="ko"&&(ci||_!=="onCompositionStart"?_==="onCompositionEnd"&&ci&&(C=Nw()):(Pr=h,Qp="value"in Pr?Pr.value:Pr.textContent,ci=!0)),O=Hu(d,_),0<O.length&&(_=new fy(_,t,null,n,h),f.push({event:_,listeners:O}),C?_.data=C:(C=Dw(n),C!==null&&(_.data=C)))),(C=ib?ob(t,n):ab(t,n))&&(d=Hu(d,"onBeforeInput"),0<d.length&&(h=new fy("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=C))}qw(f,e)})}function Ca(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Hu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=_a(t,n),i!=null&&r.unshift(Ca(t,i,s)),i=_a(t,e),i!=null&&r.push(Ca(t,i,s))),t=t.return}return r}function ni(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Iy(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,d=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&d!==null&&(a=d,s?(l=_a(n,i),l!=null&&o.unshift(Ca(n,l,a))):s||(l=_a(n,i),l!=null&&o.push(Ca(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var _b=/\r\n?/g,Eb=/\u0000|\uFFFD/g;function Sy(t){return(typeof t=="string"?t:""+t).replace(_b,`
`).replace(Eb,"")}function Ql(t,e,n){if(e=Sy(e),Sy(t)!==e&&n)throw Error(U(425))}function qu(){}var _f=null,Ef=null;function Tf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var kf=typeof setTimeout=="function"?setTimeout:void 0,Tb=typeof clearTimeout=="function"?clearTimeout:void 0,by=typeof Promise=="function"?Promise:void 0,kb=typeof queueMicrotask=="function"?queueMicrotask:typeof by<"u"?function(t){return by.resolve(null).then(t).catch(Ib)}:kf;function Ib(t){setTimeout(function(){throw t})}function fh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ka(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ka(e)}function Or(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Cy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var no=Math.random().toString(36).slice(2),yn="__reactFiber$"+no,Pa="__reactProps$"+no,Zn="__reactContainer$"+no,If="__reactEvents$"+no,Sb="__reactListeners$"+no,bb="__reactHandles$"+no;function _s(t){var e=t[yn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zn]||n[yn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Cy(t);t!==null;){if(n=t[yn])return n;t=Cy(t)}return e}t=n,n=t.parentNode}return null}function tl(t){return t=t[yn]||t[Zn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function qc(t){return t[Pa]||null}var Sf=[],pi=-1;function rs(t){return{current:t}}function xe(t){0>pi||(t.current=Sf[pi],Sf[pi]=null,pi--)}function me(t,e){pi++,Sf[pi]=t.current,t.current=e}var Qr={},dt=rs(Qr),It=rs(!1),js=Qr;function Oi(t,e){var n=t.type.contextTypes;if(!n)return Qr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function St(t){return t=t.childContextTypes,t!=null}function Ku(){xe(It),xe(dt)}function Py(t,e,n){if(dt.current!==Qr)throw Error(U(168));me(dt,e),me(It,n)}function Gw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(U(108,dS(t)||"Unknown",s));return Se({},n,r)}function Gu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qr,js=dt.current,me(dt,t),me(It,It.current),!0}function Ay(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=Gw(t,e,js),r.__reactInternalMemoizedMergedChildContext=t,xe(It),xe(dt),me(dt,t)):xe(It),me(It,n)}var Un=null,Kc=!1,ph=!1;function Qw(t){Un===null?Un=[t]:Un.push(t)}function Cb(t){Kc=!0,Qw(t)}function ss(){if(!ph&&Un!==null){ph=!0;var t=0,e=he;try{var n=Un;for(he=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Un=null,Kc=!1}catch(s){throw Un!==null&&(Un=Un.slice(t+1)),ww(Hp,ss),s}finally{he=e,ph=!1}}return null}var mi=[],gi=0,Qu=null,Yu=0,Wt=[],Ht=0,Ds=null,Bn=1,$n="";function ms(t,e){mi[gi++]=Yu,mi[gi++]=Qu,Qu=t,Yu=e}function Yw(t,e,n){Wt[Ht++]=Bn,Wt[Ht++]=$n,Wt[Ht++]=Ds,Ds=t;var r=Bn;t=$n;var s=32-un(r)-1;r&=~(1<<s),n+=1;var i=32-un(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Bn=1<<32-un(e)+s|n<<s|r,$n=i+t}else Bn=1<<i|n<<s|r,$n=t}function em(t){t.return!==null&&(ms(t,1),Yw(t,1,0))}function tm(t){for(;t===Qu;)Qu=mi[--gi],mi[gi]=null,Yu=mi[--gi],mi[gi]=null;for(;t===Ds;)Ds=Wt[--Ht],Wt[Ht]=null,$n=Wt[--Ht],Wt[Ht]=null,Bn=Wt[--Ht],Wt[Ht]=null}var jt=null,Rt=null,_e=!1,on=null;function Xw(t,e){var n=Kt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ny(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jt=t,Rt=Or(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jt=t,Rt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ds!==null?{id:Bn,overflow:$n}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jt=t,Rt=null,!0):!1;default:return!1}}function bf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Cf(t){if(_e){var e=Rt;if(e){var n=e;if(!Ny(t,e)){if(bf(t))throw Error(U(418));e=Or(n.nextSibling);var r=jt;e&&Ny(t,e)?Xw(r,n):(t.flags=t.flags&-4097|2,_e=!1,jt=t)}}else{if(bf(t))throw Error(U(418));t.flags=t.flags&-4097|2,_e=!1,jt=t}}}function Ry(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jt=t}function Yl(t){if(t!==jt)return!1;if(!_e)return Ry(t),_e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Tf(t.type,t.memoizedProps)),e&&(e=Rt)){if(bf(t))throw Jw(),Error(U(418));for(;e;)Xw(t,e),e=Or(e.nextSibling)}if(Ry(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Rt=Or(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Rt=null}}else Rt=jt?Or(t.stateNode.nextSibling):null;return!0}function Jw(){for(var t=Rt;t;)t=Or(t.nextSibling)}function Mi(){Rt=jt=null,_e=!1}function nm(t){on===null?on=[t]:on.push(t)}var Pb=ur.ReactCurrentBatchConfig;function jo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Xl(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function jy(t){var e=t._init;return e(t._payload)}function Zw(t){function e(k,w){if(t){var E=k.deletions;E===null?(k.deletions=[w],k.flags|=16):E.push(w)}}function n(k,w){if(!t)return null;for(;w!==null;)e(k,w),w=w.sibling;return null}function r(k,w){for(k=new Map;w!==null;)w.key!==null?k.set(w.key,w):k.set(w.index,w),w=w.sibling;return k}function s(k,w){return k=Br(k,w),k.index=0,k.sibling=null,k}function i(k,w,E){return k.index=E,t?(E=k.alternate,E!==null?(E=E.index,E<w?(k.flags|=2,w):E):(k.flags|=2,w)):(k.flags|=1048576,w)}function o(k){return t&&k.alternate===null&&(k.flags|=2),k}function a(k,w,E,R){return w===null||w.tag!==6?(w=_h(E,k.mode,R),w.return=k,w):(w=s(w,E),w.return=k,w)}function l(k,w,E,R){var V=E.type;return V===ui?h(k,w,E.props.children,R,E.key):w!==null&&(w.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===xr&&jy(V)===w.type)?(R=s(w,E.props),R.ref=jo(k,w,E),R.return=k,R):(R=Su(E.type,E.key,E.props,null,k.mode,R),R.ref=jo(k,w,E),R.return=k,R)}function d(k,w,E,R){return w===null||w.tag!==4||w.stateNode.containerInfo!==E.containerInfo||w.stateNode.implementation!==E.implementation?(w=Eh(E,k.mode,R),w.return=k,w):(w=s(w,E.children||[]),w.return=k,w)}function h(k,w,E,R,V){return w===null||w.tag!==7?(w=Cs(E,k.mode,R,V),w.return=k,w):(w=s(w,E),w.return=k,w)}function f(k,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return w=_h(""+w,k.mode,E),w.return=k,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ul:return E=Su(w.type,w.key,w.props,null,k.mode,E),E.ref=jo(k,null,w),E.return=k,E;case li:return w=Eh(w,k.mode,E),w.return=k,w;case xr:var R=w._init;return f(k,R(w._payload),E)}if($o(w)||Co(w))return w=Cs(w,k.mode,E,null),w.return=k,w;Xl(k,w)}return null}function m(k,w,E,R){var V=w!==null?w.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return V!==null?null:a(k,w,""+E,R);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ul:return E.key===V?l(k,w,E,R):null;case li:return E.key===V?d(k,w,E,R):null;case xr:return V=E._init,m(k,w,V(E._payload),R)}if($o(E)||Co(E))return V!==null?null:h(k,w,E,R,null);Xl(k,E)}return null}function y(k,w,E,R,V){if(typeof R=="string"&&R!==""||typeof R=="number")return k=k.get(E)||null,a(w,k,""+R,V);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Ul:return k=k.get(R.key===null?E:R.key)||null,l(w,k,R,V);case li:return k=k.get(R.key===null?E:R.key)||null,d(w,k,R,V);case xr:var O=R._init;return y(k,w,E,O(R._payload),V)}if($o(R)||Co(R))return k=k.get(E)||null,h(w,k,R,V,null);Xl(w,R)}return null}function x(k,w,E,R){for(var V=null,O=null,C=w,_=w=0,I=null;C!==null&&_<E.length;_++){C.index>_?(I=C,C=null):I=C.sibling;var b=m(k,C,E[_],R);if(b===null){C===null&&(C=I);break}t&&C&&b.alternate===null&&e(k,C),w=i(b,w,_),O===null?V=b:O.sibling=b,O=b,C=I}if(_===E.length)return n(k,C),_e&&ms(k,_),V;if(C===null){for(;_<E.length;_++)C=f(k,E[_],R),C!==null&&(w=i(C,w,_),O===null?V=C:O.sibling=C,O=C);return _e&&ms(k,_),V}for(C=r(k,C);_<E.length;_++)I=y(C,k,_,E[_],R),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?_:I.key),w=i(I,w,_),O===null?V=I:O.sibling=I,O=I);return t&&C.forEach(function(N){return e(k,N)}),_e&&ms(k,_),V}function S(k,w,E,R){var V=Co(E);if(typeof V!="function")throw Error(U(150));if(E=V.call(E),E==null)throw Error(U(151));for(var O=V=null,C=w,_=w=0,I=null,b=E.next();C!==null&&!b.done;_++,b=E.next()){C.index>_?(I=C,C=null):I=C.sibling;var N=m(k,C,b.value,R);if(N===null){C===null&&(C=I);break}t&&C&&N.alternate===null&&e(k,C),w=i(N,w,_),O===null?V=N:O.sibling=N,O=N,C=I}if(b.done)return n(k,C),_e&&ms(k,_),V;if(C===null){for(;!b.done;_++,b=E.next())b=f(k,b.value,R),b!==null&&(w=i(b,w,_),O===null?V=b:O.sibling=b,O=b);return _e&&ms(k,_),V}for(C=r(k,C);!b.done;_++,b=E.next())b=y(C,k,_,b.value,R),b!==null&&(t&&b.alternate!==null&&C.delete(b.key===null?_:b.key),w=i(b,w,_),O===null?V=b:O.sibling=b,O=b);return t&&C.forEach(function(j){return e(k,j)}),_e&&ms(k,_),V}function P(k,w,E,R){if(typeof E=="object"&&E!==null&&E.type===ui&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Ul:e:{for(var V=E.key,O=w;O!==null;){if(O.key===V){if(V=E.type,V===ui){if(O.tag===7){n(k,O.sibling),w=s(O,E.props.children),w.return=k,k=w;break e}}else if(O.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===xr&&jy(V)===O.type){n(k,O.sibling),w=s(O,E.props),w.ref=jo(k,O,E),w.return=k,k=w;break e}n(k,O);break}else e(k,O);O=O.sibling}E.type===ui?(w=Cs(E.props.children,k.mode,R,E.key),w.return=k,k=w):(R=Su(E.type,E.key,E.props,null,k.mode,R),R.ref=jo(k,w,E),R.return=k,k=R)}return o(k);case li:e:{for(O=E.key;w!==null;){if(w.key===O)if(w.tag===4&&w.stateNode.containerInfo===E.containerInfo&&w.stateNode.implementation===E.implementation){n(k,w.sibling),w=s(w,E.children||[]),w.return=k,k=w;break e}else{n(k,w);break}else e(k,w);w=w.sibling}w=Eh(E,k.mode,R),w.return=k,k=w}return o(k);case xr:return O=E._init,P(k,w,O(E._payload),R)}if($o(E))return x(k,w,E,R);if(Co(E))return S(k,w,E,R);Xl(k,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,w!==null&&w.tag===6?(n(k,w.sibling),w=s(w,E),w.return=k,k=w):(n(k,w),w=_h(E,k.mode,R),w.return=k,k=w),o(k)):n(k,w)}return P}var Fi=Zw(!0),e_=Zw(!1),Xu=rs(null),Ju=null,yi=null,rm=null;function sm(){rm=yi=Ju=null}function im(t){var e=Xu.current;xe(Xu),t._currentValue=e}function Pf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ai(t,e){Ju=t,rm=yi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(kt=!0),t.firstContext=null)}function Yt(t){var e=t._currentValue;if(rm!==t)if(t={context:t,memoizedValue:e,next:null},yi===null){if(Ju===null)throw Error(U(308));yi=t,Ju.dependencies={lanes:0,firstContext:t}}else yi=yi.next=t;return e}var Es=null;function om(t){Es===null?Es=[t]:Es.push(t)}function t_(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,om(e)):(n.next=s.next,s.next=n),e.interleaved=n,er(t,r)}function er(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wr=!1;function am(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function n_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Kn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Mr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ae&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,er(t,n)}return s=r.interleaved,s===null?(e.next=e,om(r)):(e.next=s.next,s.next=e),r.interleaved=e,er(t,n)}function wu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qp(t,n)}}function Dy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Zu(t,e,n,r){var s=t.updateQueue;wr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,d=l.next;l.next=null,o===null?i=d:o.next=d,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=d:a.next=d,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,h=d=l=null,a=i;do{var m=a.lane,y=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,S=a;switch(m=e,y=n,S.tag){case 1:if(x=S.payload,typeof x=="function"){f=x.call(y,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=S.payload,m=typeof x=="function"?x.call(y,f,m):x,m==null)break e;f=Se({},f,m);break e;case 2:wr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else y={eventTime:y,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(d=h=y,l=f):h=h.next=y,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Vs|=o,t.lanes=o,t.memoizedState=f}}function Ly(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var nl={},wn=rs(nl),Aa=rs(nl),Na=rs(nl);function Ts(t){if(t===nl)throw Error(U(174));return t}function lm(t,e){switch(me(Na,e),me(Aa,t),me(wn,nl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:uf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=uf(e,t)}xe(wn),me(wn,e)}function Ui(){xe(wn),xe(Aa),xe(Na)}function r_(t){Ts(Na.current);var e=Ts(wn.current),n=uf(e,t.type);e!==n&&(me(Aa,t),me(wn,n))}function um(t){Aa.current===t&&(xe(wn),xe(Aa))}var Te=rs(0);function ec(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var mh=[];function cm(){for(var t=0;t<mh.length;t++)mh[t]._workInProgressVersionPrimary=null;mh.length=0}var _u=ur.ReactCurrentDispatcher,gh=ur.ReactCurrentBatchConfig,Ls=0,Ie=null,Me=null,We=null,tc=!1,ia=!1,Ra=0,Ab=0;function st(){throw Error(U(321))}function dm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!dn(t[n],e[n]))return!1;return!0}function hm(t,e,n,r,s,i){if(Ls=i,Ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,_u.current=t===null||t.memoizedState===null?Db:Lb,t=n(r,s),ia){i=0;do{if(ia=!1,Ra=0,25<=i)throw Error(U(301));i+=1,We=Me=null,e.updateQueue=null,_u.current=Vb,t=n(r,s)}while(ia)}if(_u.current=nc,e=Me!==null&&Me.next!==null,Ls=0,We=Me=Ie=null,tc=!1,e)throw Error(U(300));return t}function fm(){var t=Ra!==0;return Ra=0,t}function mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Ie.memoizedState=We=t:We=We.next=t,We}function Xt(){if(Me===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Me.next;var e=We===null?Ie.memoizedState:We.next;if(e!==null)We=e,Me=t;else{if(t===null)throw Error(U(310));Me=t,t={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},We===null?Ie.memoizedState=We=t:We=We.next=t}return We}function ja(t,e){return typeof e=="function"?e(t):e}function yh(t){var e=Xt(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=Me,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,d=i;do{var h=d.lane;if((Ls&h)===h)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ie.lanes|=h,Vs|=h}d=d.next}while(d!==null&&d!==i);l===null?o=r:l.next=a,dn(r,e.memoizedState)||(kt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ie.lanes|=i,Vs|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function vh(t){var e=Xt(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);dn(i,e.memoizedState)||(kt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function s_(){}function i_(t,e){var n=Ie,r=Xt(),s=e(),i=!dn(r.memoizedState,s);if(i&&(r.memoizedState=s,kt=!0),r=r.queue,pm(l_.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||We!==null&&We.memoizedState.tag&1){if(n.flags|=2048,Da(9,a_.bind(null,n,r,s,e),void 0,null),He===null)throw Error(U(349));Ls&30||o_(n,e,s)}return s}function o_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function a_(t,e,n,r){e.value=n,e.getSnapshot=r,u_(e)&&c_(t)}function l_(t,e,n){return n(function(){u_(e)&&c_(t)})}function u_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!dn(t,n)}catch{return!0}}function c_(t){var e=er(t,1);e!==null&&cn(e,t,1,-1)}function Vy(t){var e=mn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:t},e.queue=t,t=t.dispatch=jb.bind(null,Ie,t),[e.memoizedState,t]}function Da(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ie.updateQueue,e===null?(e={lastEffect:null,stores:null},Ie.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function d_(){return Xt().memoizedState}function Eu(t,e,n,r){var s=mn();Ie.flags|=t,s.memoizedState=Da(1|e,n,void 0,r===void 0?null:r)}function Gc(t,e,n,r){var s=Xt();r=r===void 0?null:r;var i=void 0;if(Me!==null){var o=Me.memoizedState;if(i=o.destroy,r!==null&&dm(r,o.deps)){s.memoizedState=Da(e,n,i,r);return}}Ie.flags|=t,s.memoizedState=Da(1|e,n,i,r)}function Oy(t,e){return Eu(8390656,8,t,e)}function pm(t,e){return Gc(2048,8,t,e)}function h_(t,e){return Gc(4,2,t,e)}function f_(t,e){return Gc(4,4,t,e)}function p_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function m_(t,e,n){return n=n!=null?n.concat([t]):null,Gc(4,4,p_.bind(null,e,t),n)}function mm(){}function g_(t,e){var n=Xt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function y_(t,e){var n=Xt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function v_(t,e,n){return Ls&21?(dn(n,e)||(n=Tw(),Ie.lanes|=n,Vs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,kt=!0),t.memoizedState=n)}function Nb(t,e){var n=he;he=n!==0&&4>n?n:4,t(!0);var r=gh.transition;gh.transition={};try{t(!1),e()}finally{he=n,gh.transition=r}}function x_(){return Xt().memoizedState}function Rb(t,e,n){var r=Ur(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},w_(t))__(e,n);else if(n=t_(t,e,n,r),n!==null){var s=xt();cn(n,t,r,s),E_(n,e,r)}}function jb(t,e,n){var r=Ur(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(w_(t))__(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,dn(a,o)){var l=e.interleaved;l===null?(s.next=s,om(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=t_(t,e,s,r),n!==null&&(s=xt(),cn(n,t,r,s),E_(n,e,r))}}function w_(t){var e=t.alternate;return t===Ie||e!==null&&e===Ie}function __(t,e){ia=tc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function E_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qp(t,n)}}var nc={readContext:Yt,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},Db={readContext:Yt,useCallback:function(t,e){return mn().memoizedState=[t,e===void 0?null:e],t},useContext:Yt,useEffect:Oy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Eu(4194308,4,p_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Eu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Eu(4,2,t,e)},useMemo:function(t,e){var n=mn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=mn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Rb.bind(null,Ie,t),[r.memoizedState,t]},useRef:function(t){var e=mn();return t={current:t},e.memoizedState=t},useState:Vy,useDebugValue:mm,useDeferredValue:function(t){return mn().memoizedState=t},useTransition:function(){var t=Vy(!1),e=t[0];return t=Nb.bind(null,t[1]),mn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ie,s=mn();if(_e){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),He===null)throw Error(U(349));Ls&30||o_(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Oy(l_.bind(null,r,i,t),[t]),r.flags|=2048,Da(9,a_.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=mn(),e=He.identifierPrefix;if(_e){var n=$n,r=Bn;n=(r&~(1<<32-un(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ra++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Ab++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Lb={readContext:Yt,useCallback:g_,useContext:Yt,useEffect:pm,useImperativeHandle:m_,useInsertionEffect:h_,useLayoutEffect:f_,useMemo:y_,useReducer:yh,useRef:d_,useState:function(){return yh(ja)},useDebugValue:mm,useDeferredValue:function(t){var e=Xt();return v_(e,Me.memoizedState,t)},useTransition:function(){var t=yh(ja)[0],e=Xt().memoizedState;return[t,e]},useMutableSource:s_,useSyncExternalStore:i_,useId:x_,unstable_isNewReconciler:!1},Vb={readContext:Yt,useCallback:g_,useContext:Yt,useEffect:pm,useImperativeHandle:m_,useInsertionEffect:h_,useLayoutEffect:f_,useMemo:y_,useReducer:vh,useRef:d_,useState:function(){return vh(ja)},useDebugValue:mm,useDeferredValue:function(t){var e=Xt();return Me===null?e.memoizedState=t:v_(e,Me.memoizedState,t)},useTransition:function(){var t=vh(ja)[0],e=Xt().memoizedState;return[t,e]},useMutableSource:s_,useSyncExternalStore:i_,useId:x_,unstable_isNewReconciler:!1};function rn(t,e){if(t&&t.defaultProps){e=Se({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Af(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Se({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Qc={isMounted:function(t){return(t=t._reactInternals)?Hs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xt(),s=Ur(t),i=Kn(r,s);i.payload=e,n!=null&&(i.callback=n),e=Mr(t,i,s),e!==null&&(cn(e,t,s,r),wu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xt(),s=Ur(t),i=Kn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Mr(t,i,s),e!==null&&(cn(e,t,s,r),wu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xt(),r=Ur(t),s=Kn(n,r);s.tag=2,e!=null&&(s.callback=e),e=Mr(t,s,r),e!==null&&(cn(e,t,r,n),wu(e,t,r))}};function My(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Sa(n,r)||!Sa(s,i):!0}function T_(t,e,n){var r=!1,s=Qr,i=e.contextType;return typeof i=="object"&&i!==null?i=Yt(i):(s=St(e)?js:dt.current,r=e.contextTypes,i=(r=r!=null)?Oi(t,s):Qr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Fy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Qc.enqueueReplaceState(e,e.state,null)}function Nf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},am(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Yt(i):(i=St(e)?js:dt.current,s.context=Oi(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Af(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Qc.enqueueReplaceState(s,s.state,null),Zu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Bi(t,e){try{var n="",r=e;do n+=cS(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function xh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Rf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ob=typeof WeakMap=="function"?WeakMap:Map;function k_(t,e,n){n=Kn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){sc||(sc=!0,$f=r),Rf(t,e)},n}function I_(t,e,n){n=Kn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Rf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Rf(t,e),typeof r!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Uy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Ob;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Xb.bind(null,t,e,n),e.then(t,t))}function By(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $y(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Kn(-1,1),e.tag=2,Mr(n,e,1))),n.lanes|=1),t)}var Mb=ur.ReactCurrentOwner,kt=!1;function yt(t,e,n,r){e.child=t===null?e_(e,null,n,r):Fi(e,t.child,n,r)}function zy(t,e,n,r,s){n=n.render;var i=e.ref;return Ai(e,s),r=hm(t,e,n,r,i,s),n=fm(),t!==null&&!kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,tr(t,e,s)):(_e&&n&&em(e),e.flags|=1,yt(t,e,r,s),e.child)}function Wy(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Tm(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,S_(t,e,i,r,s)):(t=Su(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Sa,n(o,r)&&t.ref===e.ref)return tr(t,e,s)}return e.flags|=1,t=Br(i,r),t.ref=e.ref,t.return=e,e.child=t}function S_(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Sa(i,r)&&t.ref===e.ref)if(kt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(kt=!0);else return e.lanes=t.lanes,tr(t,e,s)}return jf(t,e,n,r,s)}function b_(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(xi,At),At|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,me(xi,At),At|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,me(xi,At),At|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,me(xi,At),At|=r;return yt(t,e,s,n),e.child}function C_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function jf(t,e,n,r,s){var i=St(n)?js:dt.current;return i=Oi(e,i),Ai(e,s),n=hm(t,e,n,r,i,s),r=fm(),t!==null&&!kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,tr(t,e,s)):(_e&&r&&em(e),e.flags|=1,yt(t,e,n,s),e.child)}function Hy(t,e,n,r,s){if(St(n)){var i=!0;Gu(e)}else i=!1;if(Ai(e,s),e.stateNode===null)Tu(t,e),T_(e,n,r),Nf(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Yt(d):(d=St(n)?js:dt.current,d=Oi(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==d)&&Fy(e,o,r,d),wr=!1;var m=e.memoizedState;o.state=m,Zu(e,r,o,s),l=e.memoizedState,a!==r||m!==l||It.current||wr?(typeof h=="function"&&(Af(e,n,h,r),l=e.memoizedState),(a=wr||My(e,n,a,r,m,l,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,n_(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:rn(e.type,a),o.props=d,f=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Yt(l):(l=St(n)?js:dt.current,l=Oi(e,l));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==l)&&Fy(e,o,r,l),wr=!1,m=e.memoizedState,o.state=m,Zu(e,r,o,s);var x=e.memoizedState;a!==f||m!==x||It.current||wr?(typeof y=="function"&&(Af(e,n,y,r),x=e.memoizedState),(d=wr||My(e,n,d,r,m,x,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=l,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Df(t,e,n,r,i,s)}function Df(t,e,n,r,s,i){C_(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Ay(e,n,!1),tr(t,e,i);r=e.stateNode,Mb.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Fi(e,t.child,null,i),e.child=Fi(e,null,a,i)):yt(t,e,a,i),e.memoizedState=r.state,s&&Ay(e,n,!0),e.child}function P_(t){var e=t.stateNode;e.pendingContext?Py(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Py(t,e.context,!1),lm(t,e.containerInfo)}function qy(t,e,n,r,s){return Mi(),nm(s),e.flags|=256,yt(t,e,n,r),e.child}var Lf={dehydrated:null,treeContext:null,retryLane:0};function Vf(t){return{baseLanes:t,cachePool:null,transitions:null}}function A_(t,e,n){var r=e.pendingProps,s=Te.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),me(Te,s&1),t===null)return Cf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Jc(o,r,0,null),t=Cs(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Vf(n),e.memoizedState=Lf,t):gm(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Fb(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Br(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Br(a,i):(i=Cs(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Vf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Lf,r}return i=t.child,t=i.sibling,r=Br(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function gm(t,e){return e=Jc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Jl(t,e,n,r){return r!==null&&nm(r),Fi(e,t.child,null,n),t=gm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Fb(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=xh(Error(U(422))),Jl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Jc({mode:"visible",children:r.children},s,0,null),i=Cs(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Fi(e,t.child,null,o),e.child.memoizedState=Vf(o),e.memoizedState=Lf,i);if(!(e.mode&1))return Jl(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(U(419)),r=xh(i,r,void 0),Jl(t,e,o,r)}if(a=(o&t.childLanes)!==0,kt||a){if(r=He,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,er(t,s),cn(r,t,s,-1))}return Em(),r=xh(Error(U(421))),Jl(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Jb.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Rt=Or(s.nextSibling),jt=e,_e=!0,on=null,t!==null&&(Wt[Ht++]=Bn,Wt[Ht++]=$n,Wt[Ht++]=Ds,Bn=t.id,$n=t.overflow,Ds=e),e=gm(e,r.children),e.flags|=4096,e)}function Ky(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Pf(t.return,e,n)}function wh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function N_(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(yt(t,e,r.children,n),r=Te.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ky(t,n,e);else if(t.tag===19)Ky(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(me(Te,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ec(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),wh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ec(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}wh(e,!0,n,null,i);break;case"together":wh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Tu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function tr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Vs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Br(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Br(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Ub(t,e,n){switch(e.tag){case 3:P_(e),Mi();break;case 5:r_(e);break;case 1:St(e.type)&&Gu(e);break;case 4:lm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;me(Xu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(me(Te,Te.current&1),e.flags|=128,null):n&e.child.childLanes?A_(t,e,n):(me(Te,Te.current&1),t=tr(t,e,n),t!==null?t.sibling:null);me(Te,Te.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return N_(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),me(Te,Te.current),r)break;return null;case 22:case 23:return e.lanes=0,b_(t,e,n)}return tr(t,e,n)}var R_,Of,j_,D_;R_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Of=function(){};j_=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ts(wn.current);var i=null;switch(n){case"input":s=sf(t,s),r=sf(t,r),i=[];break;case"select":s=Se({},s,{value:void 0}),r=Se({},r,{value:void 0}),i=[];break;case"textarea":s=lf(t,s),r=lf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=qu)}cf(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(xa.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var l=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&l!==a&&(l!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(d,n)),n=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(xa.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&ve("scroll",t),i||a===l||(i=[])):(i=i||[]).push(d,l))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};D_=function(t,e,n,r){n!==r&&(e.flags|=4)};function Do(t,e){if(!_e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function it(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Bb(t,e,n){var r=e.pendingProps;switch(tm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(e),null;case 1:return St(e.type)&&Ku(),it(e),null;case 3:return r=e.stateNode,Ui(),xe(It),xe(dt),cm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Yl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,on!==null&&(Hf(on),on=null))),Of(t,e),it(e),null;case 5:um(e);var s=Ts(Na.current);if(n=e.type,t!==null&&e.stateNode!=null)j_(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return it(e),null}if(t=Ts(wn.current),Yl(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[yn]=e,r[Pa]=i,t=(e.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(s=0;s<Wo.length;s++)ve(Wo[s],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":ny(r,i),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ve("invalid",r);break;case"textarea":sy(r,i),ve("invalid",r)}cf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ql(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ql(r.textContent,a,t),s=["children",""+a]):xa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ve("scroll",r)}switch(n){case"input":Bl(r),ry(r,i,!0);break;case"textarea":Bl(r),iy(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=qu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[yn]=e,t[Pa]=r,R_(t,e,!1,!1),e.stateNode=t;e:{switch(o=df(n,r),n){case"dialog":ve("cancel",t),ve("close",t),s=r;break;case"iframe":case"object":case"embed":ve("load",t),s=r;break;case"video":case"audio":for(s=0;s<Wo.length;s++)ve(Wo[s],t);s=r;break;case"source":ve("error",t),s=r;break;case"img":case"image":case"link":ve("error",t),ve("load",t),s=r;break;case"details":ve("toggle",t),s=r;break;case"input":ny(t,r),s=sf(t,r),ve("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Se({},r,{value:void 0}),ve("invalid",t);break;case"textarea":sy(t,r),s=lf(t,r),ve("invalid",t);break;default:s=r}cf(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?dw(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&uw(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&wa(t,l):typeof l=="number"&&wa(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(xa.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ve("scroll",t):l!=null&&Up(t,i,l,o))}switch(n){case"input":Bl(t),ry(t,r,!1);break;case"textarea":Bl(t),iy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Gr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Si(t,!!r.multiple,i,!1):r.defaultValue!=null&&Si(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=qu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return it(e),null;case 6:if(t&&e.stateNode!=null)D_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=Ts(Na.current),Ts(wn.current),Yl(e)){if(r=e.stateNode,n=e.memoizedProps,r[yn]=e,(i=r.nodeValue!==n)&&(t=jt,t!==null))switch(t.tag){case 3:Ql(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ql(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[yn]=e,e.stateNode=r}return it(e),null;case 13:if(xe(Te),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(_e&&Rt!==null&&e.mode&1&&!(e.flags&128))Jw(),Mi(),e.flags|=98560,i=!1;else if(i=Yl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(U(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[yn]=e}else Mi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;it(e),i=!1}else on!==null&&(Hf(on),on=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Te.current&1?Ue===0&&(Ue=3):Em())),e.updateQueue!==null&&(e.flags|=4),it(e),null);case 4:return Ui(),Of(t,e),t===null&&ba(e.stateNode.containerInfo),it(e),null;case 10:return im(e.type._context),it(e),null;case 17:return St(e.type)&&Ku(),it(e),null;case 19:if(xe(Te),i=e.memoizedState,i===null)return it(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Do(i,!1);else{if(Ue!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ec(t),o!==null){for(e.flags|=128,Do(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return me(Te,Te.current&1|2),e.child}t=t.sibling}i.tail!==null&&Re()>$i&&(e.flags|=128,r=!0,Do(i,!1),e.lanes=4194304)}else{if(!r)if(t=ec(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Do(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!_e)return it(e),null}else 2*Re()-i.renderingStartTime>$i&&n!==1073741824&&(e.flags|=128,r=!0,Do(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Re(),e.sibling=null,n=Te.current,me(Te,r?n&1|2:n&1),e):(it(e),null);case 22:case 23:return _m(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?At&1073741824&&(it(e),e.subtreeFlags&6&&(e.flags|=8192)):it(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function $b(t,e){switch(tm(e),e.tag){case 1:return St(e.type)&&Ku(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ui(),xe(It),xe(dt),cm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return um(e),null;case 13:if(xe(Te),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Mi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return xe(Te),null;case 4:return Ui(),null;case 10:return im(e.type._context),null;case 22:case 23:return _m(),null;case 24:return null;default:return null}}var Zl=!1,ut=!1,zb=typeof WeakSet=="function"?WeakSet:Set,z=null;function vi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pe(t,e,r)}else n.current=null}function Mf(t,e,n){try{n()}catch(r){Pe(t,e,r)}}var Gy=!1;function Wb(t,e){if(_f=zu,t=Fw(),Zp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,d=0,h=0,f=t,m=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)m=f,f=y;for(;;){if(f===t)break t;if(m===n&&++d===s&&(a=o),m===i&&++h===r&&(l=o),(y=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=y}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ef={focusedElem:t,selectionRange:n},zu=!1,z=e;z!==null;)if(e=z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,z=t;else for(;z!==null;){e=z;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var S=x.memoizedProps,P=x.memoizedState,k=e.stateNode,w=k.getSnapshotBeforeUpdate(e.elementType===e.type?S:rn(e.type,S),P);k.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(R){Pe(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}return x=Gy,Gy=!1,x}function oa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Mf(e,n,i)}s=s.next}while(s!==r)}}function Yc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ff(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function L_(t){var e=t.alternate;e!==null&&(t.alternate=null,L_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[yn],delete e[Pa],delete e[If],delete e[Sb],delete e[bb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function V_(t){return t.tag===5||t.tag===3||t.tag===4}function Qy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||V_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Uf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=qu));else if(r!==4&&(t=t.child,t!==null))for(Uf(t,e,n),t=t.sibling;t!==null;)Uf(t,e,n),t=t.sibling}function Bf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Bf(t,e,n),t=t.sibling;t!==null;)Bf(t,e,n),t=t.sibling}var Ke=null,sn=!1;function mr(t,e,n){for(n=n.child;n!==null;)O_(t,e,n),n=n.sibling}function O_(t,e,n){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount($c,n)}catch{}switch(n.tag){case 5:ut||vi(n,e);case 6:var r=Ke,s=sn;Ke=null,mr(t,e,n),Ke=r,sn=s,Ke!==null&&(sn?(t=Ke,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ke.removeChild(n.stateNode));break;case 18:Ke!==null&&(sn?(t=Ke,n=n.stateNode,t.nodeType===8?fh(t.parentNode,n):t.nodeType===1&&fh(t,n),ka(t)):fh(Ke,n.stateNode));break;case 4:r=Ke,s=sn,Ke=n.stateNode.containerInfo,sn=!0,mr(t,e,n),Ke=r,sn=s;break;case 0:case 11:case 14:case 15:if(!ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Mf(n,e,o),s=s.next}while(s!==r)}mr(t,e,n);break;case 1:if(!ut&&(vi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Pe(n,e,a)}mr(t,e,n);break;case 21:mr(t,e,n);break;case 22:n.mode&1?(ut=(r=ut)||n.memoizedState!==null,mr(t,e,n),ut=r):mr(t,e,n);break;default:mr(t,e,n)}}function Yy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new zb),e.forEach(function(r){var s=Zb.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Zt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ke=a.stateNode,sn=!1;break e;case 3:Ke=a.stateNode.containerInfo,sn=!0;break e;case 4:Ke=a.stateNode.containerInfo,sn=!0;break e}a=a.return}if(Ke===null)throw Error(U(160));O_(i,o,s),Ke=null,sn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(d){Pe(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)M_(e,t),e=e.sibling}function M_(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zt(e,t),fn(t),r&4){try{oa(3,t,t.return),Yc(3,t)}catch(S){Pe(t,t.return,S)}try{oa(5,t,t.return)}catch(S){Pe(t,t.return,S)}}break;case 1:Zt(e,t),fn(t),r&512&&n!==null&&vi(n,n.return);break;case 5:if(Zt(e,t),fn(t),r&512&&n!==null&&vi(n,n.return),t.flags&32){var s=t.stateNode;try{wa(s,"")}catch(S){Pe(t,t.return,S)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&ow(s,i),df(a,o);var d=df(a,i);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?dw(s,f):h==="dangerouslySetInnerHTML"?uw(s,f):h==="children"?wa(s,f):Up(s,h,f,d)}switch(a){case"input":of(s,i);break;case"textarea":aw(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Si(s,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?Si(s,!!i.multiple,i.defaultValue,!0):Si(s,!!i.multiple,i.multiple?[]:"",!1))}s[Pa]=i}catch(S){Pe(t,t.return,S)}}break;case 6:if(Zt(e,t),fn(t),r&4){if(t.stateNode===null)throw Error(U(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(S){Pe(t,t.return,S)}}break;case 3:if(Zt(e,t),fn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ka(e.containerInfo)}catch(S){Pe(t,t.return,S)}break;case 4:Zt(e,t),fn(t);break;case 13:Zt(e,t),fn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(xm=Re())),r&4&&Yy(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(ut=(d=ut)||h,Zt(e,t),ut=d):Zt(e,t),fn(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(z=t,h=t.child;h!==null;){for(f=z=h;z!==null;){switch(m=z,y=m.child,m.tag){case 0:case 11:case 14:case 15:oa(4,m,m.return);break;case 1:vi(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(S){Pe(r,n,S)}}break;case 5:vi(m,m.return);break;case 22:if(m.memoizedState!==null){Jy(f);continue}}y!==null?(y.return=m,z=y):Jy(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=cw("display",o))}catch(S){Pe(t,t.return,S)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(S){Pe(t,t.return,S)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Zt(e,t),fn(t),r&4&&Yy(t);break;case 21:break;default:Zt(e,t),fn(t)}}function fn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(V_(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(wa(s,""),r.flags&=-33);var i=Qy(t);Bf(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Qy(t);Uf(t,a,o);break;default:throw Error(U(161))}}catch(l){Pe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Hb(t,e,n){z=t,F_(t)}function F_(t,e,n){for(var r=(t.mode&1)!==0;z!==null;){var s=z,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Zl;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ut;a=Zl;var d=ut;if(Zl=o,(ut=l)&&!d)for(z=s;z!==null;)o=z,l=o.child,o.tag===22&&o.memoizedState!==null?Zy(s):l!==null?(l.return=o,z=l):Zy(s);for(;i!==null;)z=i,F_(i),i=i.sibling;z=s,Zl=a,ut=d}Xy(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,z=i):Xy(t)}}function Xy(t){for(;z!==null;){var e=z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ut||Yc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ut)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:rn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Ly(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ly(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ka(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}ut||e.flags&512&&Ff(e)}catch(m){Pe(e,e.return,m)}}if(e===t){z=null;break}if(n=e.sibling,n!==null){n.return=e.return,z=n;break}z=e.return}}function Jy(t){for(;z!==null;){var e=z;if(e===t){z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,z=n;break}z=e.return}}function Zy(t){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Yc(4,e)}catch(l){Pe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Pe(e,s,l)}}var i=e.return;try{Ff(e)}catch(l){Pe(e,i,l)}break;case 5:var o=e.return;try{Ff(e)}catch(l){Pe(e,o,l)}}}catch(l){Pe(e,e.return,l)}if(e===t){z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,z=a;break}z=e.return}}var qb=Math.ceil,rc=ur.ReactCurrentDispatcher,ym=ur.ReactCurrentOwner,Gt=ur.ReactCurrentBatchConfig,ae=0,He=null,Oe=null,Ye=0,At=0,xi=rs(0),Ue=0,La=null,Vs=0,Xc=0,vm=0,aa=null,Tt=null,xm=0,$i=1/0,Fn=null,sc=!1,$f=null,Fr=null,eu=!1,Ar=null,ic=0,la=0,zf=null,ku=-1,Iu=0;function xt(){return ae&6?Re():ku!==-1?ku:ku=Re()}function Ur(t){return t.mode&1?ae&2&&Ye!==0?Ye&-Ye:Pb.transition!==null?(Iu===0&&(Iu=Tw()),Iu):(t=he,t!==0||(t=window.event,t=t===void 0?16:Aw(t.type)),t):1}function cn(t,e,n,r){if(50<la)throw la=0,zf=null,Error(U(185));Za(t,n,r),(!(ae&2)||t!==He)&&(t===He&&(!(ae&2)&&(Xc|=n),Ue===4&&Tr(t,Ye)),bt(t,r),n===1&&ae===0&&!(e.mode&1)&&($i=Re()+500,Kc&&ss()))}function bt(t,e){var n=t.callbackNode;PS(t,e);var r=$u(t,t===He?Ye:0);if(r===0)n!==null&&ly(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ly(n),e===1)t.tag===0?Cb(ev.bind(null,t)):Qw(ev.bind(null,t)),kb(function(){!(ae&6)&&ss()}),n=null;else{switch(kw(r)){case 1:n=Hp;break;case 4:n=_w;break;case 16:n=Bu;break;case 536870912:n=Ew;break;default:n=Bu}n=K_(n,U_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function U_(t,e){if(ku=-1,Iu=0,ae&6)throw Error(U(327));var n=t.callbackNode;if(Ni()&&t.callbackNode!==n)return null;var r=$u(t,t===He?Ye:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=oc(t,r);else{e=r;var s=ae;ae|=2;var i=$_();(He!==t||Ye!==e)&&(Fn=null,$i=Re()+500,bs(t,e));do try{Qb();break}catch(a){B_(t,a)}while(!0);sm(),rc.current=i,ae=s,Oe!==null?e=0:(He=null,Ye=0,e=Ue)}if(e!==0){if(e===2&&(s=gf(t),s!==0&&(r=s,e=Wf(t,s))),e===1)throw n=La,bs(t,0),Tr(t,r),bt(t,Re()),n;if(e===6)Tr(t,r);else{if(s=t.current.alternate,!(r&30)&&!Kb(s)&&(e=oc(t,r),e===2&&(i=gf(t),i!==0&&(r=i,e=Wf(t,i))),e===1))throw n=La,bs(t,0),Tr(t,r),bt(t,Re()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:gs(t,Tt,Fn);break;case 3:if(Tr(t,r),(r&130023424)===r&&(e=xm+500-Re(),10<e)){if($u(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){xt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=kf(gs.bind(null,t,Tt,Fn),e);break}gs(t,Tt,Fn);break;case 4:if(Tr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-un(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qb(r/1960))-r,10<r){t.timeoutHandle=kf(gs.bind(null,t,Tt,Fn),r);break}gs(t,Tt,Fn);break;case 5:gs(t,Tt,Fn);break;default:throw Error(U(329))}}}return bt(t,Re()),t.callbackNode===n?U_.bind(null,t):null}function Wf(t,e){var n=aa;return t.current.memoizedState.isDehydrated&&(bs(t,e).flags|=256),t=oc(t,e),t!==2&&(e=Tt,Tt=n,e!==null&&Hf(e)),t}function Hf(t){Tt===null?Tt=t:Tt.push.apply(Tt,t)}function Kb(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!dn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Tr(t,e){for(e&=~vm,e&=~Xc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-un(e),r=1<<n;t[n]=-1,e&=~r}}function ev(t){if(ae&6)throw Error(U(327));Ni();var e=$u(t,0);if(!(e&1))return bt(t,Re()),null;var n=oc(t,e);if(t.tag!==0&&n===2){var r=gf(t);r!==0&&(e=r,n=Wf(t,r))}if(n===1)throw n=La,bs(t,0),Tr(t,e),bt(t,Re()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,gs(t,Tt,Fn),bt(t,Re()),null}function wm(t,e){var n=ae;ae|=1;try{return t(e)}finally{ae=n,ae===0&&($i=Re()+500,Kc&&ss())}}function Os(t){Ar!==null&&Ar.tag===0&&!(ae&6)&&Ni();var e=ae;ae|=1;var n=Gt.transition,r=he;try{if(Gt.transition=null,he=1,t)return t()}finally{he=r,Gt.transition=n,ae=e,!(ae&6)&&ss()}}function _m(){At=xi.current,xe(xi)}function bs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Tb(n)),Oe!==null)for(n=Oe.return;n!==null;){var r=n;switch(tm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ku();break;case 3:Ui(),xe(It),xe(dt),cm();break;case 5:um(r);break;case 4:Ui();break;case 13:xe(Te);break;case 19:xe(Te);break;case 10:im(r.type._context);break;case 22:case 23:_m()}n=n.return}if(He=t,Oe=t=Br(t.current,null),Ye=At=e,Ue=0,La=null,vm=Xc=Vs=0,Tt=aa=null,Es!==null){for(e=0;e<Es.length;e++)if(n=Es[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Es=null}return t}function B_(t,e){do{var n=Oe;try{if(sm(),_u.current=nc,tc){for(var r=Ie.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}tc=!1}if(Ls=0,We=Me=Ie=null,ia=!1,Ra=0,ym.current=null,n===null||n.return===null){Ue=1,La=e,Oe=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Ye,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=By(o);if(y!==null){y.flags&=-257,$y(y,o,a,i,e),y.mode&1&&Uy(i,d,e),e=y,l=d;var x=e.updateQueue;if(x===null){var S=new Set;S.add(l),e.updateQueue=S}else x.add(l);break e}else{if(!(e&1)){Uy(i,d,e),Em();break e}l=Error(U(426))}}else if(_e&&a.mode&1){var P=By(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),$y(P,o,a,i,e),nm(Bi(l,a));break e}}i=l=Bi(l,a),Ue!==4&&(Ue=2),aa===null?aa=[i]:aa.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var k=k_(i,l,e);Dy(i,k);break e;case 1:a=l;var w=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Fr===null||!Fr.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var R=I_(i,a,e);Dy(i,R);break e}}i=i.return}while(i!==null)}W_(n)}catch(V){e=V,Oe===n&&n!==null&&(Oe=n=n.return);continue}break}while(!0)}function $_(){var t=rc.current;return rc.current=nc,t===null?nc:t}function Em(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),He===null||!(Vs&268435455)&&!(Xc&268435455)||Tr(He,Ye)}function oc(t,e){var n=ae;ae|=2;var r=$_();(He!==t||Ye!==e)&&(Fn=null,bs(t,e));do try{Gb();break}catch(s){B_(t,s)}while(!0);if(sm(),ae=n,rc.current=r,Oe!==null)throw Error(U(261));return He=null,Ye=0,Ue}function Gb(){for(;Oe!==null;)z_(Oe)}function Qb(){for(;Oe!==null&&!wS();)z_(Oe)}function z_(t){var e=q_(t.alternate,t,At);t.memoizedProps=t.pendingProps,e===null?W_(t):Oe=e,ym.current=null}function W_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$b(n,e),n!==null){n.flags&=32767,Oe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ue=6,Oe=null;return}}else if(n=Bb(n,e,At),n!==null){Oe=n;return}if(e=e.sibling,e!==null){Oe=e;return}Oe=e=t}while(e!==null);Ue===0&&(Ue=5)}function gs(t,e,n){var r=he,s=Gt.transition;try{Gt.transition=null,he=1,Yb(t,e,n,r)}finally{Gt.transition=s,he=r}return null}function Yb(t,e,n,r){do Ni();while(Ar!==null);if(ae&6)throw Error(U(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(AS(t,i),t===He&&(Oe=He=null,Ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||eu||(eu=!0,K_(Bu,function(){return Ni(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Gt.transition,Gt.transition=null;var o=he;he=1;var a=ae;ae|=4,ym.current=null,Wb(t,n),M_(n,t),gb(Ef),zu=!!_f,Ef=_f=null,t.current=n,Hb(n),_S(),ae=a,he=o,Gt.transition=i}else t.current=n;if(eu&&(eu=!1,Ar=t,ic=s),i=t.pendingLanes,i===0&&(Fr=null),kS(n.stateNode),bt(t,Re()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(sc)throw sc=!1,t=$f,$f=null,t;return ic&1&&t.tag!==0&&Ni(),i=t.pendingLanes,i&1?t===zf?la++:(la=0,zf=t):la=0,ss(),null}function Ni(){if(Ar!==null){var t=kw(ic),e=Gt.transition,n=he;try{if(Gt.transition=null,he=16>t?16:t,Ar===null)var r=!1;else{if(t=Ar,Ar=null,ic=0,ae&6)throw Error(U(331));var s=ae;for(ae|=4,z=t.current;z!==null;){var i=z,o=i.child;if(z.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var d=a[l];for(z=d;z!==null;){var h=z;switch(h.tag){case 0:case 11:case 15:oa(8,h,i)}var f=h.child;if(f!==null)f.return=h,z=f;else for(;z!==null;){h=z;var m=h.sibling,y=h.return;if(L_(h),h===d){z=null;break}if(m!==null){m.return=y,z=m;break}z=y}}}var x=i.alternate;if(x!==null){var S=x.child;if(S!==null){x.child=null;do{var P=S.sibling;S.sibling=null,S=P}while(S!==null)}}z=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,z=o;else e:for(;z!==null;){if(i=z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:oa(9,i,i.return)}var k=i.sibling;if(k!==null){k.return=i.return,z=k;break e}z=i.return}}var w=t.current;for(z=w;z!==null;){o=z;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,z=E;else e:for(o=w;z!==null;){if(a=z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Yc(9,a)}}catch(V){Pe(a,a.return,V)}if(a===o){z=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,z=R;break e}z=a.return}}if(ae=s,ss(),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot($c,t)}catch{}r=!0}return r}finally{he=n,Gt.transition=e}}return!1}function tv(t,e,n){e=Bi(n,e),e=k_(t,e,1),t=Mr(t,e,1),e=xt(),t!==null&&(Za(t,1,e),bt(t,e))}function Pe(t,e,n){if(t.tag===3)tv(t,t,n);else for(;e!==null;){if(e.tag===3){tv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fr===null||!Fr.has(r))){t=Bi(n,t),t=I_(e,t,1),e=Mr(e,t,1),t=xt(),e!==null&&(Za(e,1,t),bt(e,t));break}}e=e.return}}function Xb(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xt(),t.pingedLanes|=t.suspendedLanes&n,He===t&&(Ye&n)===n&&(Ue===4||Ue===3&&(Ye&130023424)===Ye&&500>Re()-xm?bs(t,0):vm|=n),bt(t,e)}function H_(t,e){e===0&&(t.mode&1?(e=Wl,Wl<<=1,!(Wl&130023424)&&(Wl=4194304)):e=1);var n=xt();t=er(t,e),t!==null&&(Za(t,e,n),bt(t,n))}function Jb(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),H_(t,n)}function Zb(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),H_(t,n)}var q_;q_=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||It.current)kt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return kt=!1,Ub(t,e,n);kt=!!(t.flags&131072)}else kt=!1,_e&&e.flags&1048576&&Yw(e,Yu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Tu(t,e),t=e.pendingProps;var s=Oi(e,dt.current);Ai(e,n),s=hm(null,e,r,t,s,n);var i=fm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,St(r)?(i=!0,Gu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,am(e),s.updater=Qc,e.stateNode=s,s._reactInternals=e,Nf(e,r,t,n),e=Df(null,e,r,!0,i,n)):(e.tag=0,_e&&i&&em(e),yt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Tu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=tC(r),t=rn(r,t),s){case 0:e=jf(null,e,r,t,n);break e;case 1:e=Hy(null,e,r,t,n);break e;case 11:e=zy(null,e,r,t,n);break e;case 14:e=Wy(null,e,r,rn(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rn(r,s),jf(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rn(r,s),Hy(t,e,r,s,n);case 3:e:{if(P_(e),t===null)throw Error(U(387));r=e.pendingProps,i=e.memoizedState,s=i.element,n_(t,e),Zu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Bi(Error(U(423)),e),e=qy(t,e,r,n,s);break e}else if(r!==s){s=Bi(Error(U(424)),e),e=qy(t,e,r,n,s);break e}else for(Rt=Or(e.stateNode.containerInfo.firstChild),jt=e,_e=!0,on=null,n=e_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mi(),r===s){e=tr(t,e,n);break e}yt(t,e,r,n)}e=e.child}return e;case 5:return r_(e),t===null&&Cf(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Tf(r,s)?o=null:i!==null&&Tf(r,i)&&(e.flags|=32),C_(t,e),yt(t,e,o,n),e.child;case 6:return t===null&&Cf(e),null;case 13:return A_(t,e,n);case 4:return lm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Fi(e,null,r,n):yt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rn(r,s),zy(t,e,r,s,n);case 7:return yt(t,e,e.pendingProps,n),e.child;case 8:return yt(t,e,e.pendingProps.children,n),e.child;case 12:return yt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,me(Xu,r._currentValue),r._currentValue=o,i!==null)if(dn(i.value,o)){if(i.children===s.children&&!It.current){e=tr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Kn(-1,n&-n),l.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?l.next=l:(l.next=h.next,h.next=l),d.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Pf(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Pf(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}yt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ai(e,n),s=Yt(s),r=r(s),e.flags|=1,yt(t,e,r,n),e.child;case 14:return r=e.type,s=rn(r,e.pendingProps),s=rn(r.type,s),Wy(t,e,r,s,n);case 15:return S_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rn(r,s),Tu(t,e),e.tag=1,St(r)?(t=!0,Gu(e)):t=!1,Ai(e,n),T_(e,r,s),Nf(e,r,s,n),Df(null,e,r,!0,t,n);case 19:return N_(t,e,n);case 22:return b_(t,e,n)}throw Error(U(156,e.tag))};function K_(t,e){return ww(t,e)}function eC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(t,e,n,r){return new eC(t,e,n,r)}function Tm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tC(t){if(typeof t=="function")return Tm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$p)return 11;if(t===zp)return 14}return 2}function Br(t,e){var n=t.alternate;return n===null?(n=Kt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Su(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Tm(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ui:return Cs(n.children,s,i,e);case Bp:o=8,s|=8;break;case ef:return t=Kt(12,n,e,s|2),t.elementType=ef,t.lanes=i,t;case tf:return t=Kt(13,n,e,s),t.elementType=tf,t.lanes=i,t;case nf:return t=Kt(19,n,e,s),t.elementType=nf,t.lanes=i,t;case rw:return Jc(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case tw:o=10;break e;case nw:o=9;break e;case $p:o=11;break e;case zp:o=14;break e;case xr:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Kt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Cs(t,e,n,r){return t=Kt(7,t,r,e),t.lanes=n,t}function Jc(t,e,n,r){return t=Kt(22,t,r,e),t.elementType=rw,t.lanes=n,t.stateNode={isHidden:!1},t}function _h(t,e,n){return t=Kt(6,t,null,e),t.lanes=n,t}function Eh(t,e,n){return e=Kt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nC(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nh(0),this.expirationTimes=nh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function km(t,e,n,r,s,i,o,a,l){return t=new nC(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Kt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},am(i),t}function rC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:li,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function G_(t){if(!t)return Qr;t=t._reactInternals;e:{if(Hs(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(St(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(St(n))return Gw(t,n,e)}return e}function Q_(t,e,n,r,s,i,o,a,l){return t=km(n,r,!0,t,s,i,o,a,l),t.context=G_(null),n=t.current,r=xt(),s=Ur(n),i=Kn(r,s),i.callback=e??null,Mr(n,i,s),t.current.lanes=s,Za(t,s,r),bt(t,r),t}function Zc(t,e,n,r){var s=e.current,i=xt(),o=Ur(s);return n=G_(n),e.context===null?e.context=n:e.pendingContext=n,e=Kn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Mr(s,e,o),t!==null&&(cn(t,s,o,i),wu(t,s,o)),o}function ac(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function nv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Im(t,e){nv(t,e),(t=t.alternate)&&nv(t,e)}function sC(){return null}var Y_=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sm(t){this._internalRoot=t}ed.prototype.render=Sm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Zc(t,e,null,null)};ed.prototype.unmount=Sm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Os(function(){Zc(null,t,null,null)}),e[Zn]=null}};function ed(t){this._internalRoot=t}ed.prototype.unstable_scheduleHydration=function(t){if(t){var e=bw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Er.length&&e!==0&&e<Er[n].priority;n++);Er.splice(n,0,t),n===0&&Pw(t)}};function bm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function td(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function rv(){}function iC(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=ac(o);i.call(d)}}var o=Q_(e,r,t,0,null,!1,!1,"",rv);return t._reactRootContainer=o,t[Zn]=o.current,ba(t.nodeType===8?t.parentNode:t),Os(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=ac(l);a.call(d)}}var l=km(t,0,!1,null,null,!1,!1,"",rv);return t._reactRootContainer=l,t[Zn]=l.current,ba(t.nodeType===8?t.parentNode:t),Os(function(){Zc(e,l,n,r)}),l}function nd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ac(o);a.call(l)}}Zc(e,o,t,s)}else o=iC(n,e,t,s,r);return ac(o)}Iw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=zo(e.pendingLanes);n!==0&&(qp(e,n|1),bt(e,Re()),!(ae&6)&&($i=Re()+500,ss()))}break;case 13:Os(function(){var r=er(t,1);if(r!==null){var s=xt();cn(r,t,1,s)}}),Im(t,1)}};Kp=function(t){if(t.tag===13){var e=er(t,134217728);if(e!==null){var n=xt();cn(e,t,134217728,n)}Im(t,134217728)}};Sw=function(t){if(t.tag===13){var e=Ur(t),n=er(t,e);if(n!==null){var r=xt();cn(n,t,e,r)}Im(t,e)}};bw=function(){return he};Cw=function(t,e){var n=he;try{return he=t,e()}finally{he=n}};ff=function(t,e,n){switch(e){case"input":if(of(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=qc(r);if(!s)throw Error(U(90));iw(r),of(r,s)}}}break;case"textarea":aw(t,n);break;case"select":e=n.value,e!=null&&Si(t,!!n.multiple,e,!1)}};pw=wm;mw=Os;var oC={usingClientEntryPoint:!1,Events:[tl,fi,qc,hw,fw,wm]},Lo={findFiberByHostInstance:_s,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aC={bundleType:Lo.bundleType,version:Lo.version,rendererPackageName:Lo.rendererPackageName,rendererConfig:Lo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=vw(t),t===null?null:t.stateNode},findFiberByHostInstance:Lo.findFiberByHostInstance||sC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tu.isDisabled&&tu.supportsFiber)try{$c=tu.inject(aC),xn=tu}catch{}}Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oC;Vt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bm(e))throw Error(U(200));return rC(t,e,null,n)};Vt.createRoot=function(t,e){if(!bm(t))throw Error(U(299));var n=!1,r="",s=Y_;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=km(t,1,!1,null,null,n,!1,r,s),t[Zn]=e.current,ba(t.nodeType===8?t.parentNode:t),new Sm(e)};Vt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=vw(e),t=t===null?null:t.stateNode,t};Vt.flushSync=function(t){return Os(t)};Vt.hydrate=function(t,e,n){if(!td(e))throw Error(U(200));return nd(null,t,e,!0,n)};Vt.hydrateRoot=function(t,e,n){if(!bm(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Y_;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Q_(e,null,t,1,n??null,s,!1,i,o),t[Zn]=e.current,ba(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new ed(e)};Vt.render=function(t,e,n){if(!td(e))throw Error(U(200));return nd(null,t,e,!1,n)};Vt.unmountComponentAtNode=function(t){if(!td(t))throw Error(U(40));return t._reactRootContainer?(Os(function(){nd(null,null,t,!1,function(){t._reactRootContainer=null,t[Zn]=null})}),!0):!1};Vt.unstable_batchedUpdates=wm;Vt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!td(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return nd(t,e,n,!1,r)};Vt.version="18.3.1-next-f1338f8080-20240426";function X_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(X_)}catch(t){console.error(t)}}X_(),Xx.exports=Vt;var lC=Xx.exports,sv=lC;Jh.createRoot=sv.createRoot,Jh.hydrateRoot=sv.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Va(){return Va=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Va.apply(this,arguments)}var Nr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Nr||(Nr={}));const iv="popstate";function uC(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return qf("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:lc(s)}return dC(e,n,null,t)}function De(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function J_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cC(){return Math.random().toString(36).substr(2,8)}function ov(t,e){return{usr:t.state,key:t.key,idx:e}}function qf(t,e,n,r){return n===void 0&&(n=null),Va({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ro(e):e,{state:n,key:e&&e.key||r||cC()})}function lc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ro(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function dC(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Nr.Pop,l=null,d=h();d==null&&(d=0,o.replaceState(Va({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=Nr.Pop;let P=h(),k=P==null?null:P-d;d=P,l&&l({action:a,location:S.location,delta:k})}function m(P,k){a=Nr.Push;let w=qf(S.location,P,k);d=h()+1;let E=ov(w,d),R=S.createHref(w);try{o.pushState(E,"",R)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;s.location.assign(R)}i&&l&&l({action:a,location:S.location,delta:1})}function y(P,k){a=Nr.Replace;let w=qf(S.location,P,k);d=h();let E=ov(w,d),R=S.createHref(w);o.replaceState(E,"",R),i&&l&&l({action:a,location:S.location,delta:0})}function x(P){let k=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof P=="string"?P:lc(P);return w=w.replace(/ $/,"%20"),De(k,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,k)}let S={get action(){return a},get location(){return t(s,o)},listen(P){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(iv,f),l=P,()=>{s.removeEventListener(iv,f),l=null}},createHref(P){return e(s,P)},createURL:x,encodeLocation(P){let k=x(P);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:m,replace:y,go(P){return o.go(P)}};return S}var av;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(av||(av={}));function hC(t,e,n){return n===void 0&&(n="/"),fC(t,e,n)}function fC(t,e,n,r){let s=typeof e=="string"?ro(e):e,i=Cm(s.pathname||"/",n);if(i==null)return null;let o=Z_(t);pC(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let d=SC(i);a=TC(o[l],d)}return a}function Z_(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(De(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let d=$r([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(De(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Z_(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:_C(d,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of e2(i.path))s(i,o,l)}),e}function e2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=e2(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function pC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:EC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const mC=/^:[\w-]+$/,gC=3,yC=2,vC=1,xC=10,wC=-2,lv=t=>t==="*";function _C(t,e){let n=t.split("/"),r=n.length;return n.some(lv)&&(r+=wC),e&&(r+=yC),n.filter(s=>!lv(s)).reduce((s,i)=>s+(mC.test(i)?gC:i===""?vC:xC),r)}function EC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function TC(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],d=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=kC({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},h),m=l.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:$r([i,f.pathname]),pathnameBase:AC($r([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=$r([i,f.pathnameBase]))}return o}function kC(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=IC(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,h,f)=>{let{paramName:m,isOptional:y}=h;if(m==="*"){let S=a[f]||"";o=i.slice(0,i.length-S.length).replace(/(.)\/+$/,"$1")}const x=a[f];return y&&!x?d[m]=void 0:d[m]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function IC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),J_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function SC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return J_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Cm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function bC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ro(t):t;return{pathname:n?n.startsWith("/")?n:CC(n,e):e,search:NC(r),hash:RC(s)}}function CC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Th(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function PC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Pm(t,e){let n=PC(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Am(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ro(t):(s=Va({},t),De(!s.pathname||!s.pathname.includes("?"),Th("?","pathname","search",s)),De(!s.pathname||!s.pathname.includes("#"),Th("#","pathname","hash",s)),De(!s.search||!s.search.includes("#"),Th("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}a=f>=0?e[f]:"/"}let l=bC(s,a),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(d||h)&&(l.pathname+="/"),l}const $r=t=>t.join("/").replace(/\/\/+/g,"/"),AC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),NC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,RC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function jC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const t2=["post","put","patch","delete"];new Set(t2);const DC=["get",...t2];new Set(DC);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oa(){return Oa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oa.apply(this,arguments)}const Nm=v.createContext(null),LC=v.createContext(null),is=v.createContext(null),rd=v.createContext(null),cr=v.createContext({outlet:null,matches:[],isDataRoute:!1}),n2=v.createContext(null);function VC(t,e){let{relative:n}=e===void 0?{}:e;so()||De(!1);let{basename:r,navigator:s}=v.useContext(is),{hash:i,pathname:o,search:a}=s2(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:$r([r,o])),s.createHref({pathname:l,search:a,hash:i})}function so(){return v.useContext(rd)!=null}function io(){return so()||De(!1),v.useContext(rd).location}function r2(t){v.useContext(is).static||v.useLayoutEffect(t)}function rl(){let{isDataRoute:t}=v.useContext(cr);return t?YC():OC()}function OC(){so()||De(!1);let t=v.useContext(Nm),{basename:e,future:n,navigator:r}=v.useContext(is),{matches:s}=v.useContext(cr),{pathname:i}=io(),o=JSON.stringify(Pm(s,n.v7_relativeSplatPath)),a=v.useRef(!1);return r2(()=>{a.current=!0}),v.useCallback(function(d,h){if(h===void 0&&(h={}),!a.current)return;if(typeof d=="number"){r.go(d);return}let f=Am(d,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:$r([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function MC(){let{matches:t}=v.useContext(cr),e=t[t.length-1];return e?e.params:{}}function s2(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=v.useContext(is),{matches:s}=v.useContext(cr),{pathname:i}=io(),o=JSON.stringify(Pm(s,r.v7_relativeSplatPath));return v.useMemo(()=>Am(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function FC(t,e){return UC(t,e)}function UC(t,e,n,r){so()||De(!1);let{navigator:s,static:i}=v.useContext(is),{matches:o}=v.useContext(cr),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let d=a?a.pathnameBase:"/";a&&a.route;let h=io(),f;if(e){var m;let k=typeof e=="string"?ro(e):e;d==="/"||(m=k.pathname)!=null&&m.startsWith(d)||De(!1),f=k}else f=h;let y=f.pathname||"/",x=y;if(d!=="/"){let k=d.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(k.length).join("/")}let S=hC(t,{pathname:x}),P=HC(S&&S.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:$r([d,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?d:$r([d,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),o,n,r);return e&&P?v.createElement(rd.Provider,{value:{location:Oa({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Nr.Pop}},P):P}function BC(){let t=QC(),e=jC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},e),n?v.createElement("pre",{style:s},n):null,null)}const $C=v.createElement(BC,null);class zC extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?v.createElement(cr.Provider,{value:this.props.routeContext},v.createElement(n2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function WC(t){let{routeContext:e,match:n,children:r}=t,s=v.useContext(Nm);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),v.createElement(cr.Provider,{value:e},r)}function HC(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||De(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:m,errors:y}=n,x=f.route.loader&&m[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||x){l=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,f,m)=>{let y,x=!1,S=null,P=null;n&&(y=a&&f.route.id?a[f.route.id]:void 0,S=f.route.errorElement||$C,l&&(d<0&&m===0?(XC("route-fallback"),x=!0,P=null):d===m&&(x=!0,P=f.route.hydrateFallbackElement||null)));let k=e.concat(o.slice(0,m+1)),w=()=>{let E;return y?E=S:x?E=P:f.route.Component?E=v.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=h,v.createElement(WC,{match:f,routeContext:{outlet:h,matches:k,isDataRoute:n!=null},children:E})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?v.createElement(zC,{location:n.location,revalidation:n.revalidation,component:S,error:y,children:w(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):w()},null)}var i2=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(i2||{}),o2=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(o2||{});function qC(t){let e=v.useContext(Nm);return e||De(!1),e}function KC(t){let e=v.useContext(LC);return e||De(!1),e}function GC(t){let e=v.useContext(cr);return e||De(!1),e}function a2(t){let e=GC(),n=e.matches[e.matches.length-1];return n.route.id||De(!1),n.route.id}function QC(){var t;let e=v.useContext(n2),n=KC(),r=a2();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function YC(){let{router:t}=qC(i2.UseNavigateStable),e=a2(o2.UseNavigateStable),n=v.useRef(!1);return r2(()=>{n.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Oa({fromRouteId:e},i)))},[t,e])}const uv={};function XC(t,e,n){uv[t]||(uv[t]=!0)}function JC(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ZC(t){let{to:e,replace:n,state:r,relative:s}=t;so()||De(!1);let{future:i,static:o}=v.useContext(is),{matches:a}=v.useContext(cr),{pathname:l}=io(),d=rl(),h=Am(e,Pm(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(h);return v.useEffect(()=>d(JSON.parse(f),{replace:n,state:r,relative:s}),[d,f,s,n,r]),null}function pn(t){De(!1)}function eP(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Nr.Pop,navigator:i,static:o=!1,future:a}=t;so()&&De(!1);let l=e.replace(/^\/*/,"/"),d=v.useMemo(()=>({basename:l,navigator:i,static:o,future:Oa({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=ro(r));let{pathname:h="/",search:f="",hash:m="",state:y=null,key:x="default"}=r,S=v.useMemo(()=>{let P=Cm(h,l);return P==null?null:{location:{pathname:P,search:f,hash:m,state:y,key:x},navigationType:s}},[l,h,f,m,y,x,s]);return S==null?null:v.createElement(is.Provider,{value:d},v.createElement(rd.Provider,{children:n,value:S}))}function tP(t){let{children:e,location:n}=t;return FC(Kf(e),n)}new Promise(()=>{});function Kf(t,e){e===void 0&&(e=[]);let n=[];return v.Children.forEach(t,(r,s)=>{if(!v.isValidElement(r))return;let i=[...e,s];if(r.type===v.Fragment){n.push.apply(n,Kf(r.props.children,i));return}r.type!==pn&&De(!1),!r.props.index||!r.props.children||De(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Kf(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gf(){return Gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gf.apply(this,arguments)}function nP(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function rP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sP(t,e){return t.button===0&&(!e||e==="_self")&&!rP(t)}const iP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],oP="6";try{window.__reactRouterVersion=oP}catch{}const aP="startTransition",cv=Xh[aP];function lP(t){let{basename:e,children:n,future:r,window:s}=t,i=v.useRef();i.current==null&&(i.current=uC({window:s,v5Compat:!0}));let o=i.current,[a,l]=v.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},h=v.useCallback(f=>{d&&cv?cv(()=>l(f)):l(f)},[l,d]);return v.useLayoutEffect(()=>o.listen(h),[o,h]),v.useEffect(()=>JC(r),[r]),v.createElement(eP,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const uP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,te=v.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:d,preventScrollReset:h,viewTransition:f}=e,m=nP(e,iP),{basename:y}=v.useContext(is),x,S=!1;if(typeof d=="string"&&cP.test(d)&&(x=d,uP))try{let E=new URL(window.location.href),R=d.startsWith("//")?new URL(E.protocol+d):new URL(d),V=Cm(R.pathname,y);R.origin===E.origin&&V!=null?d=V+R.search+R.hash:S=!0}catch{}let P=VC(d,{relative:s}),k=dP(d,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,viewTransition:f});function w(E){r&&r(E),E.defaultPrevented||k(E)}return v.createElement("a",Gf({},m,{href:x||P,onClick:S||i?r:w,ref:n,target:l}))});var dv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(dv||(dv={}));var hv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(hv||(hv={}));function dP(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=rl(),d=io(),h=s2(t,{relative:o});return v.useCallback(f=>{if(sP(f,n)){f.preventDefault();let m=r!==void 0?r:lc(d)===lc(h);l(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[d,l,h,r,s,n,t,i,o,a])}const l2=v.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),sd=v.createContext({}),id=v.createContext(null),od=typeof document<"u",Rm=od?v.useLayoutEffect:v.useEffect,u2=v.createContext({strict:!1}),jm=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),hP="framerAppearId",c2="data-"+jm(hP);function fP(t,e,n,r){const{visualElement:s}=v.useContext(sd),i=v.useContext(u2),o=v.useContext(id),a=v.useContext(l2).reducedMotion,l=v.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const d=l.current;v.useInsertionEffect(()=>{d&&d.update(n,o)});const h=v.useRef(!!(n[c2]&&!window.HandoffComplete));return Rm(()=>{d&&(d.render(),h.current&&d.animationState&&d.animationState.animateChanges())}),v.useEffect(()=>{d&&(d.updateFeatures(),!h.current&&d.animationState&&d.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),d}function wi(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function pP(t,e,n){return v.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):wi(n)&&(n.current=r))},[e])}function Ma(t){return typeof t=="string"||Array.isArray(t)}function ad(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Dm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Lm=["initial",...Dm];function ld(t){return ad(t.animate)||Lm.some(e=>Ma(t[e]))}function d2(t){return!!(ld(t)||t.variants)}function mP(t,e){if(ld(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ma(n)?n:void 0,animate:Ma(r)?r:void 0}}return t.inherit!==!1?e:{}}function gP(t){const{initial:e,animate:n}=mP(t,v.useContext(sd));return v.useMemo(()=>({initial:e,animate:n}),[fv(e),fv(n)])}function fv(t){return Array.isArray(t)?t.join(" "):t}const pv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fa={};for(const t in pv)Fa[t]={isEnabled:e=>pv[t].some(n=>!!e[n])};function yP(t){for(const e in t)Fa[e]={...Fa[e],...t[e]}}const Vm=v.createContext({}),h2=v.createContext({}),vP=Symbol.for("motionComponentSymbol");function xP({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&yP(t);function i(a,l){let d;const h={...v.useContext(l2),...a,layoutId:wP(a)},{isStatic:f}=h,m=gP(a),y=r(a,f);if(!f&&od){m.visualElement=fP(s,y,h,e);const x=v.useContext(h2),S=v.useContext(u2).strict;m.visualElement&&(d=m.visualElement.loadFeatures(h,S,t,x))}return v.createElement(sd.Provider,{value:m},d&&m.visualElement?v.createElement(d,{visualElement:m.visualElement,...h}):null,n(s,a,pP(y,m.visualElement,l),y,f,m.visualElement))}const o=v.forwardRef(i);return o[vP]=s,o}function wP({layoutId:t}){const e=v.useContext(Vm).id;return e&&t!==void 0?e+"-"+t:t}function _P(t){function e(r,s={}){return xP(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const EP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Om(t){return typeof t!="string"||t.includes("-")?!1:!!(EP.indexOf(t)>-1||/[A-Z]/.test(t))}const uc={};function TP(t){Object.assign(uc,t)}const sl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qs=new Set(sl);function f2(t,{layout:e,layoutId:n}){return qs.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!uc[t]||t==="opacity")}const Ct=t=>!!(t&&t.getVelocity),kP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},IP=sl.length;function SP(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let i="";for(let o=0;o<IP;o++){const a=sl[o];if(t[a]!==void 0){const l=kP[a]||a;i+=`${l}(${t[a]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(t,r?"":i):n&&r&&(i="none"),i}const p2=t=>e=>typeof e=="string"&&e.startsWith(t),m2=p2("--"),Qf=p2("var(--"),bP=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,CP=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Yr=(t,e,n)=>Math.min(Math.max(n,t),e),Ks={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ua={...Ks,transform:t=>Yr(0,1,t)},nu={...Ks,default:1},ca=t=>Math.round(t*1e5)/1e5,ud=/(-)?([\d]*\.?[\d])+/g,g2=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,PP=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function il(t){return typeof t=="string"}const ol=t=>({test:e=>il(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),vr=ol("deg"),_n=ol("%"),G=ol("px"),AP=ol("vh"),NP=ol("vw"),mv={..._n,parse:t=>_n.parse(t)/100,transform:t=>_n.transform(t*100)},gv={...Ks,transform:Math.round},y2={borderWidth:G,borderTopWidth:G,borderRightWidth:G,borderBottomWidth:G,borderLeftWidth:G,borderRadius:G,radius:G,borderTopLeftRadius:G,borderTopRightRadius:G,borderBottomRightRadius:G,borderBottomLeftRadius:G,width:G,maxWidth:G,height:G,maxHeight:G,size:G,top:G,right:G,bottom:G,left:G,padding:G,paddingTop:G,paddingRight:G,paddingBottom:G,paddingLeft:G,margin:G,marginTop:G,marginRight:G,marginBottom:G,marginLeft:G,rotate:vr,rotateX:vr,rotateY:vr,rotateZ:vr,scale:nu,scaleX:nu,scaleY:nu,scaleZ:nu,skew:vr,skewX:vr,skewY:vr,distance:G,translateX:G,translateY:G,translateZ:G,x:G,y:G,z:G,perspective:G,transformPerspective:G,opacity:ua,originX:mv,originY:mv,originZ:G,zIndex:gv,fillOpacity:ua,strokeOpacity:ua,numOctaves:gv};function Mm(t,e,n,r){const{style:s,vars:i,transform:o,transformOrigin:a}=t;let l=!1,d=!1,h=!0;for(const f in e){const m=e[f];if(m2(f)){i[f]=m;continue}const y=y2[f],x=CP(m,y);if(qs.has(f)){if(l=!0,o[f]=x,!h)continue;m!==(y.default||0)&&(h=!1)}else f.startsWith("origin")?(d=!0,a[f]=x):s[f]=x}if(e.transform||(l||r?s.transform=SP(t.transform,n,h,r):s.transform&&(s.transform="none")),d){const{originX:f="50%",originY:m="50%",originZ:y=0}=a;s.transformOrigin=`${f} ${m} ${y}`}}const Fm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function v2(t,e,n){for(const r in e)!Ct(e[r])&&!f2(r,n)&&(t[r]=e[r])}function RP({transformTemplate:t},e,n){return v.useMemo(()=>{const r=Fm();return Mm(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function jP(t,e,n){const r=t.style||{},s={};return v2(s,r,t),Object.assign(s,RP(t,e,n)),t.transformValues?t.transformValues(s):s}function DP(t,e,n){const r={},s=jP(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const LP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function cc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||LP.has(t)}let x2=t=>!cc(t);function VP(t){t&&(x2=e=>e.startsWith("on")?!cc(e):t(e))}try{VP(require("@emotion/is-prop-valid").default)}catch{}function OP(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(x2(s)||n===!0&&cc(s)||!e&&!cc(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function yv(t,e,n){return typeof t=="string"?t:G.transform(e+n*t)}function MP(t,e,n){const r=yv(e,t.x,t.width),s=yv(n,t.y,t.height);return`${r} ${s}`}const FP={offset:"stroke-dashoffset",array:"stroke-dasharray"},UP={offset:"strokeDashoffset",array:"strokeDasharray"};function BP(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?FP:UP;t[i.offset]=G.transform(-r);const o=G.transform(e),a=G.transform(n);t[i.array]=`${o} ${a}`}function Um(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...d},h,f,m){if(Mm(t,d,h,m),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:x,dimensions:S}=t;y.transform&&(S&&(x.transform=y.transform),delete y.transform),S&&(s!==void 0||i!==void 0||x.transform)&&(x.transformOrigin=MP(S,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(y.x=e),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),o!==void 0&&BP(y,o,a,l,!1)}const w2=()=>({...Fm(),attrs:{}}),Bm=t=>typeof t=="string"&&t.toLowerCase()==="svg";function $P(t,e,n,r){const s=v.useMemo(()=>{const i=w2();return Um(i,e,{enableHardwareAcceleration:!1},Bm(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};v2(i,t.style,t),s.style={...i,...s.style}}return s}function zP(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(Om(n)?$P:DP)(r,i,o,n),h={...OP(r,typeof n=="string",t),...l,ref:s},{children:f}=r,m=v.useMemo(()=>Ct(f)?f.get():f,[f]);return v.createElement(n,{...h,children:m})}}function _2(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const E2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function T2(t,e,n,r){_2(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(E2.has(s)?s:jm(s),e.attrs[s])}function $m(t,e){const{style:n}=t,r={};for(const s in n)(Ct(n[s])||e.style&&Ct(e.style[s])||f2(s,t))&&(r[s]=n[s]);return r}function k2(t,e){const n=$m(t,e);for(const r in t)if(Ct(t[r])||Ct(e[r])){const s=sl.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function zm(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function I2(t){const e=v.useRef(null);return e.current===null&&(e.current=t()),e.current}const dc=t=>Array.isArray(t),WP=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),HP=t=>dc(t)?t[t.length-1]||0:t;function bu(t){const e=Ct(t)?t.get():t;return WP(e)?e.toValue():e}function qP({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,i){const o={latestValues:KP(r,s,i,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const S2=t=>(e,n)=>{const r=v.useContext(sd),s=v.useContext(id),i=()=>qP(t,e,r,s);return n?i():I2(i)};function KP(t,e,n,r){const s={},i=r(t,{});for(const m in i)s[m]=bu(i[m]);let{initial:o,animate:a}=t;const l=ld(t),d=d2(t);e&&d&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?a:o;return f&&typeof f!="boolean"&&!ad(f)&&(Array.isArray(f)?f:[f]).forEach(y=>{const x=zm(t,y);if(!x)return;const{transitionEnd:S,transition:P,...k}=x;for(const w in k){let E=k[w];if(Array.isArray(E)){const R=h?E.length-1:0;E=E[R]}E!==null&&(s[w]=E)}for(const w in S)s[w]=S[w]}),s}const je=t=>t;class vv{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function GP(t){let e=new vv,n=new vv,r=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(l,d=!1,h=!1)=>{const f=h&&s,m=f?e:n;return d&&o.add(l),m.add(l)&&f&&s&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(s){i=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let d=0;d<r;d++){const h=e.order[d];h(l),o.has(h)&&(a.schedule(h),t())}s=!1,i&&(i=!1,a.process(l))}};return a}const ru=["prepare","read","update","preRender","render","postRender"],QP=40;function YP(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=ru.reduce((f,m)=>(f[m]=GP(()=>n=!0),f),{}),o=f=>i[f].process(s),a=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,QP),1),s.timestamp=f,s.isProcessing=!0,ru.forEach(o),s.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,s.isProcessing||t(a)};return{schedule:ru.reduce((f,m)=>{const y=i[m];return f[m]=(x,S=!1,P=!1)=>(n||l(),y.schedule(x,S,P)),f},{}),cancel:f=>ru.forEach(m=>i[m].cancel(f)),state:s,steps:i}}const{schedule:ge,cancel:nr,state:at,steps:kh}=YP(typeof requestAnimationFrame<"u"?requestAnimationFrame:je,!0),XP={useVisualState:S2({scrapeMotionValuesFromProps:k2,createRenderState:w2,onMount:(t,e,{renderState:n,latestValues:r})=>{ge.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ge.render(()=>{Um(n,r,{enableHardwareAcceleration:!1},Bm(e.tagName),t.transformTemplate),T2(e,n)})}})},JP={useVisualState:S2({scrapeMotionValuesFromProps:$m,createRenderState:Fm})};function ZP(t,{forwardMotionProps:e=!1},n,r){return{...Om(t)?XP:JP,preloadedFeatures:n,useRender:zP(e),createVisualElement:r,Component:t}}function zn(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const b2=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function cd(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const eA=t=>e=>b2(e)&&t(e,cd(e));function Gn(t,e,n,r){return zn(t,e,eA(n),r)}const tA=(t,e)=>n=>e(t(n)),zr=(...t)=>t.reduce(tA);function C2(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const xv=C2("dragHorizontal"),wv=C2("dragVertical");function P2(t){let e=!1;if(t==="y")e=wv();else if(t==="x")e=xv();else{const n=xv(),r=wv();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function A2(){const t=P2(!0);return t?(t(),!1):!0}class os{constructor(e){this.isMounted=!1,this.node=e}update(){}}function _v(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||A2())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&ge.update(()=>a[r](i,o))};return Gn(t.current,n,s,{passive:!t.getProps()[r]})}class nA extends os{mount(){this.unmount=zr(_v(this.node,!0),_v(this.node,!1))}unmount(){}}class rA extends os{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zr(zn(this.node.current,"focus",()=>this.onFocus()),zn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const N2=(t,e)=>e?t===e?!0:N2(t,e.parentElement):!1;function Ih(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,cd(n))}class sA extends os{constructor(){super(...arguments),this.removeStartListeners=je,this.removeEndListeners=je,this.removeAccessibleListeners=je,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Gn(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:h,globalTapTarget:f}=this.node.getProps();ge.update(()=>{!f&&!N2(this.node.current,a.target)?h&&h(a,l):d&&d(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Gn(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=zr(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Ih("up",(l,d)=>{const{onTap:h}=this.node.getProps();h&&ge.update(()=>h(l,d))})};this.removeEndListeners(),this.removeEndListeners=zn(this.node.current,"keyup",o),Ih("down",(a,l)=>{this.startPress(a,l)})},n=zn(this.node.current,"keydown",e),r=()=>{this.isPressing&&Ih("cancel",(i,o)=>this.cancelPress(i,o))},s=zn(this.node.current,"blur",r);this.removeAccessibleListeners=zr(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ge.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!A2()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ge.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Gn(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=zn(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=zr(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Yf=new WeakMap,Sh=new WeakMap,iA=t=>{const e=Yf.get(t.target);e&&e(t)},oA=t=>{t.forEach(iA)};function aA({root:t,...e}){const n=t||document;Sh.has(n)||Sh.set(n,{});const r=Sh.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(oA,{root:t,...e})),r[s]}function lA(t,e,n){const r=aA(e);return Yf.set(t,n),r.observe(t),()=>{Yf.delete(t),r.unobserve(t)}}const uA={some:0,all:1};class cA extends os{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:uA[s]},a=l=>{const{isIntersecting:d}=l;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),m=d?h:f;m&&m(l)};return lA(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(dA(e,n))&&this.startObserver()}unmount(){}}function dA({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const hA={inView:{Feature:cA},tap:{Feature:sA},focus:{Feature:rA},hover:{Feature:nA}};function R2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function fA(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function pA(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function dd(t,e,n){const r=t.getProps();return zm(r,e,n!==void 0?n:r.custom,fA(t),pA(t))}let Wm=je;const Ps=t=>t*1e3,Qn=t=>t/1e3,mA={current:!1},j2=t=>Array.isArray(t)&&typeof t[0]=="number";function D2(t){return!!(!t||typeof t=="string"&&L2[t]||j2(t)||Array.isArray(t)&&t.every(D2))}const Ho=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,L2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ho([0,.65,.55,1]),circOut:Ho([.55,0,1,.45]),backIn:Ho([.31,.01,.66,-.59]),backOut:Ho([.33,1.53,.69,.99])};function V2(t){if(t)return j2(t)?Ho(t):Array.isArray(t)?t.map(V2):L2[t]}function gA(t,e,n,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const d={[e]:n};l&&(d.offset=l);const h=V2(a);return Array.isArray(h)&&(d.easing=h),t.animate(d,{delay:r,duration:s,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function yA(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const O2=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,vA=1e-7,xA=12;function wA(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=O2(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>vA&&++a<xA);return o}function al(t,e,n,r){if(t===e&&n===r)return je;const s=i=>wA(i,0,1,t,n);return i=>i===0||i===1?i:O2(s(i),e,r)}const _A=al(.42,0,1,1),EA=al(0,0,.58,1),M2=al(.42,0,.58,1),TA=t=>Array.isArray(t)&&typeof t[0]!="number",F2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,U2=t=>e=>1-t(1-e),Hm=t=>1-Math.sin(Math.acos(t)),B2=U2(Hm),kA=F2(Hm),$2=al(.33,1.53,.69,.99),qm=U2($2),IA=F2(qm),SA=t=>(t*=2)<1?.5*qm(t):.5*(2-Math.pow(2,-10*(t-1))),bA={linear:je,easeIn:_A,easeInOut:M2,easeOut:EA,circIn:Hm,circInOut:kA,circOut:B2,backIn:qm,backInOut:IA,backOut:$2,anticipate:SA},Ev=t=>{if(Array.isArray(t)){Wm(t.length===4);const[e,n,r,s]=t;return al(e,n,r,s)}else if(typeof t=="string")return bA[t];return t},Km=(t,e)=>n=>!!(il(n)&&PP.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),z2=(t,e,n)=>r=>{if(!il(r))return r;const[s,i,o,a]=r.match(ud);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},CA=t=>Yr(0,255,t),bh={...Ks,transform:t=>Math.round(CA(t))},ks={test:Km("rgb","red"),parse:z2("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+bh.transform(t)+", "+bh.transform(e)+", "+bh.transform(n)+", "+ca(ua.transform(r))+")"};function PA(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Xf={test:Km("#"),parse:PA,transform:ks.transform},_i={test:Km("hsl","hue"),parse:z2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+_n.transform(ca(e))+", "+_n.transform(ca(n))+", "+ca(ua.transform(r))+")"},gt={test:t=>ks.test(t)||Xf.test(t)||_i.test(t),parse:t=>ks.test(t)?ks.parse(t):_i.test(t)?_i.parse(t):Xf.parse(t),transform:t=>il(t)?t:t.hasOwnProperty("red")?ks.transform(t):_i.transform(t)},ke=(t,e,n)=>-n*t+n*e+t;function Ch(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function AA({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=Ch(l,a,t+1/3),i=Ch(l,a,t),o=Ch(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const Ph=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},NA=[Xf,ks,_i],RA=t=>NA.find(e=>e.test(t));function Tv(t){const e=RA(t);let n=e.parse(t);return e===_i&&(n=AA(n)),n}const W2=(t,e)=>{const n=Tv(t),r=Tv(e),s={...n};return i=>(s.red=Ph(n.red,r.red,i),s.green=Ph(n.green,r.green,i),s.blue=Ph(n.blue,r.blue,i),s.alpha=ke(n.alpha,r.alpha,i),ks.transform(s))};function jA(t){var e,n;return isNaN(t)&&il(t)&&(((e=t.match(ud))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(g2))===null||n===void 0?void 0:n.length)||0)>0}const H2={regex:bP,countKey:"Vars",token:"${v}",parse:je},q2={regex:g2,countKey:"Colors",token:"${c}",parse:gt.parse},K2={regex:ud,countKey:"Numbers",token:"${n}",parse:Ks.parse};function Ah(t,{regex:e,countKey:n,token:r,parse:s}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...i.map(s)))}function hc(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Ah(n,H2),Ah(n,q2),Ah(n,K2),n}function G2(t){return hc(t).values}function Q2(t){const{values:e,numColors:n,numVars:r,tokenised:s}=hc(t),i=e.length;return o=>{let a=s;for(let l=0;l<i;l++)l<r?a=a.replace(H2.token,o[l]):l<r+n?a=a.replace(q2.token,gt.transform(o[l])):a=a.replace(K2.token,ca(o[l]));return a}}const DA=t=>typeof t=="number"?0:t;function LA(t){const e=G2(t);return Q2(t)(e.map(DA))}const Xr={test:jA,parse:G2,createTransformer:Q2,getAnimatableNone:LA},Y2=(t,e)=>n=>`${n>0?e:t}`;function X2(t,e){return typeof t=="number"?n=>ke(t,e,n):gt.test(t)?W2(t,e):t.startsWith("var(")?Y2(t,e):Z2(t,e)}const J2=(t,e)=>{const n=[...t],r=n.length,s=t.map((i,o)=>X2(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},VA=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=X2(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},Z2=(t,e)=>{const n=Xr.createTransformer(e),r=hc(t),s=hc(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?zr(J2(r.values,s.values),n):Y2(t,e)},Ua=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},kv=(t,e)=>n=>ke(t,e,n);function OA(t){return typeof t=="number"?kv:typeof t=="string"?gt.test(t)?W2:Z2:Array.isArray(t)?J2:typeof t=="object"?VA:kv}function MA(t,e,n){const r=[],s=n||OA(t[0]),i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||je:e;a=zr(l,a)}r.push(a)}return r}function eE(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Wm(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=MA(e,r,s),a=o.length,l=d=>{let h=0;if(a>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const f=Ua(t[h],t[h+1],d);return o[h](f)};return n?d=>l(Yr(t[0],t[i-1],d)):l}function FA(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Ua(0,e,r);t.push(ke(n,1,s))}}function UA(t){const e=[0];return FA(e,t.length-1),e}function BA(t,e){return t.map(n=>n*e)}function $A(t,e){return t.map(()=>e||M2).splice(0,t.length-1)}function fc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=TA(r)?r.map(Ev):Ev(r),i={done:!1,value:e[0]},o=BA(n&&n.length===e.length?n:UA(e),t),a=eE(o,e,{ease:Array.isArray(s)?s:$A(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}function tE(t,e){return e?t*(1e3/e):0}const zA=5;function nE(t,e,n){const r=Math.max(e-zA,0);return tE(n-t(r),e-r)}const Iv=.001,WA=.01,HA=10,qA=.05,KA=1;function GA({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i,o=1-e;o=Yr(qA,KA,o),t=Yr(WA,HA,Qn(t)),o<1?(s=d=>{const h=d*o,f=h*t,m=h-n,y=Jf(d,o),x=Math.exp(-f);return Iv-m/y*x},i=d=>{const f=d*o*t,m=f*n+n,y=Math.pow(o,2)*Math.pow(d,2)*t,x=Math.exp(-f),S=Jf(Math.pow(d,2),o);return(-s(d)+Iv>0?-1:1)*((m-y)*x)/S}):(s=d=>{const h=Math.exp(-d*t),f=(d-n)*t+1;return-.001+h*f},i=d=>{const h=Math.exp(-d*t),f=(n-d)*(t*t);return h*f});const a=5/t,l=YA(s,i,a);if(t=Ps(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const d=Math.pow(l,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:t}}}const QA=12;function YA(t,e,n){let r=n;for(let s=1;s<QA;s++)r=r-t(r)/e(r);return r}function Jf(t,e){return t*Math.sqrt(1-e*e)}const XA=["duration","bounce"],JA=["stiffness","damping","mass"];function Sv(t,e){return e.some(n=>t[n]!==void 0)}function ZA(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Sv(t,JA)&&Sv(t,XA)){const n=GA(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function rE({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=ZA({...r,velocity:-Qn(r.velocity||0)}),y=f||0,x=l/(2*Math.sqrt(a*d)),S=i-s,P=Qn(Math.sqrt(a/d)),k=Math.abs(S)<5;n||(n=k?.01:2),e||(e=k?.005:.5);let w;if(x<1){const E=Jf(P,x);w=R=>{const V=Math.exp(-x*P*R);return i-V*((y+x*P*S)/E*Math.sin(E*R)+S*Math.cos(E*R))}}else if(x===1)w=E=>i-Math.exp(-P*E)*(S+(y+P*S)*E);else{const E=P*Math.sqrt(x*x-1);w=R=>{const V=Math.exp(-x*P*R),O=Math.min(E*R,300);return i-V*((y+x*P*S)*Math.sinh(O)+E*S*Math.cosh(O))/E}}return{calculatedDuration:m&&h||null,next:E=>{const R=w(E);if(m)o.done=E>=h;else{let V=y;E!==0&&(x<1?V=nE(w,E,R):V=0);const O=Math.abs(V)<=n,C=Math.abs(i-R)<=e;o.done=O&&C}return o.value=o.done?i:R,o}}}function bv({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:d=.5,restSpeed:h}){const f=t[0],m={done:!1,value:f},y=_=>a!==void 0&&_<a||l!==void 0&&_>l,x=_=>a===void 0?l:l===void 0||Math.abs(a-_)<Math.abs(l-_)?a:l;let S=n*e;const P=f+S,k=o===void 0?P:o(P);k!==P&&(S=k-f);const w=_=>-S*Math.exp(-_/r),E=_=>k+w(_),R=_=>{const I=w(_),b=E(_);m.done=Math.abs(I)<=d,m.value=m.done?k:b};let V,O;const C=_=>{y(m.value)&&(V=_,O=rE({keyframes:[m.value,x(m.value)],velocity:nE(E,_,m.value),damping:s,stiffness:i,restDelta:d,restSpeed:h}))};return C(0),{calculatedDuration:null,next:_=>{let I=!1;return!O&&V===void 0&&(I=!0,R(_),C(_)),V!==void 0&&_>V?O.next(_-V):(!I&&R(_),m)}}}const e5=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ge.update(e,!0),stop:()=>nr(e),now:()=>at.isProcessing?at.timestamp:performance.now()}},Cv=2e4;function Pv(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Cv;)e+=n,r=t.next(e);return e>=Cv?1/0:e}const t5={decay:bv,inertia:bv,tween:fc,keyframes:fc,spring:rE};function pc({autoplay:t=!0,delay:e=0,driver:n=e5,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:d,onComplete:h,onUpdate:f,...m}){let y=1,x=!1,S,P;const k=()=>{P=new Promise(Y=>{S=Y})};k();let w;const E=t5[s]||fc;let R;E!==fc&&typeof r[0]!="number"&&(R=eE([0,100],r,{clamp:!1}),r=[0,100]);const V=E({...m,keyframes:r});let O;a==="mirror"&&(O=E({...m,keyframes:[...r].reverse(),velocity:-(m.velocity||0)}));let C="idle",_=null,I=null,b=null;V.calculatedDuration===null&&i&&(V.calculatedDuration=Pv(V));const{calculatedDuration:N}=V;let j=1/0,A=1/0;N!==null&&(j=N+o,A=j*(i+1)-o);let de=0;const et=Y=>{if(I===null)return;y>0&&(I=Math.min(I,Y)),y<0&&(I=Math.min(Y-A/y,I)),_!==null?de=_:de=Math.round(Y-I)*y;const oe=de-e*(y>=0?1:-1),we=y>=0?oe<0:oe>A;de=Math.max(oe,0),C==="finished"&&_===null&&(de=A);let Mt=de,Ft=V;if(i){const po=Math.min(de,A)/j;let Dn=Math.floor(po),Bt=po%1;!Bt&&po>=1&&(Bt=1),Bt===1&&Dn--,Dn=Math.min(Dn,i+1),!!(Dn%2)&&(a==="reverse"?(Bt=1-Bt,o&&(Bt-=o/j)):a==="mirror"&&(Ft=O)),Mt=Yr(0,1,Bt)*j}const ft=we?{done:!1,value:r[0]}:Ft.next(Mt);R&&(ft.value=R(ft.value));let{done:Ut}=ft;!we&&N!==null&&(Ut=y>=0?de>=A:de<=0);const Cd=_===null&&(C==="finished"||C==="running"&&Ut);return f&&f(ft.value),Cd&&$(),ft},Ee=()=>{w&&w.stop(),w=void 0},$e=()=>{C="idle",Ee(),S(),k(),I=b=null},$=()=>{C="finished",h&&h(),Ee(),S()},H=()=>{if(x)return;w||(w=n(et));const Y=w.now();l&&l(),_!==null?I=Y-_:(!I||C==="finished")&&(I=Y),C==="finished"&&k(),b=I,_=null,C="running",w.start()};t&&H();const J={then(Y,oe){return P.then(Y,oe)},get time(){return Qn(de)},set time(Y){Y=Ps(Y),de=Y,_!==null||!w||y===0?_=Y:I=w.now()-Y/y},get duration(){const Y=V.calculatedDuration===null?Pv(V):V.calculatedDuration;return Qn(Y)},get speed(){return y},set speed(Y){Y===y||!w||(y=Y,J.time=Qn(de))},get state(){return C},play:H,pause:()=>{C="paused",_=de},stop:()=>{x=!0,C!=="idle"&&(C="idle",d&&d(),$e())},cancel:()=>{b!==null&&et(b),$e()},complete:()=>{C="finished"},sample:Y=>(I=0,et(Y))};return J}function n5(t){let e;return()=>(e===void 0&&(e=t()),e)}const r5=n5(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),s5=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),su=10,i5=2e4,o5=(t,e)=>e.type==="spring"||t==="backgroundColor"||!D2(e.ease);function a5(t,e,{onUpdate:n,onComplete:r,...s}){if(!(r5()&&s5.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,l,d=!1;const h=()=>{l=new Promise(E=>{a=E})};h();let{keyframes:f,duration:m=300,ease:y,times:x}=s;if(o5(e,s)){const E=pc({...s,repeat:0,delay:0});let R={done:!1,value:f[0]};const V=[];let O=0;for(;!R.done&&O<i5;)R=E.sample(O),V.push(R.value),O+=su;x=void 0,f=V,m=O-su,y="linear"}const S=gA(t.owner.current,e,f,{...s,duration:m,ease:y,times:x}),P=()=>{d=!1,S.cancel()},k=()=>{d=!0,ge.update(P),a(),h()};return S.onfinish=()=>{d||(t.set(yA(f,s)),r&&r(),k())},{then(E,R){return l.then(E,R)},attachTimeline(E){return S.timeline=E,S.onfinish=null,je},get time(){return Qn(S.currentTime||0)},set time(E){S.currentTime=Ps(E)},get speed(){return S.playbackRate},set speed(E){S.playbackRate=E},get duration(){return Qn(m)},play:()=>{o||(S.play(),nr(P))},pause:()=>S.pause(),stop:()=>{if(o=!0,S.playState==="idle")return;const{currentTime:E}=S;if(E){const R=pc({...s,autoplay:!1});t.setWithVelocity(R.sample(E-su).value,R.sample(E).value,su)}k()},complete:()=>{d||S.finish()},cancel:k}}function l5({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:je,pause:je,stop:je,then:i=>(i(),Promise.resolve()),cancel:je,complete:je});return e?pc({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const u5={type:"spring",stiffness:500,damping:25,restSpeed:10},c5=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),d5={type:"keyframes",duration:.8},h5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},f5=(t,{keyframes:e})=>e.length>2?d5:qs.has(t)?t.startsWith("scale")?c5(e[1]):u5:h5,Zf=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Xr.test(e)||e==="0")&&!e.startsWith("url(")),p5=new Set(["brightness","contrast","saturate","opacity"]);function m5(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(ud)||[];if(!r)return t;const s=n.replace(r,"");let i=p5.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const g5=/([a-z-]*)\(.*?\)/g,ep={...Xr,getAnimatableNone:t=>{const e=t.match(g5);return e?e.map(m5).join(" "):t}},y5={...y2,color:gt,backgroundColor:gt,outlineColor:gt,fill:gt,stroke:gt,borderColor:gt,borderTopColor:gt,borderRightColor:gt,borderBottomColor:gt,borderLeftColor:gt,filter:ep,WebkitFilter:ep},Gm=t=>y5[t];function sE(t,e){let n=Gm(t);return n!==ep&&(n=Xr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const iE=t=>/^0[^.\s]+$/.test(t);function v5(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||iE(t)}function x5(t,e,n,r){const s=Zf(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let d=0;d<i.length;d++)i[d]===null&&(i[d]=d===0?o:i[d-1]),v5(i[d])&&l.push(d),typeof i[d]=="string"&&i[d]!=="none"&&i[d]!=="0"&&(a=i[d]);if(s&&l.length&&a)for(let d=0;d<l.length;d++){const h=l[d];i[h]=sE(e,a)}return i}function w5({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:d,...h}){return!!Object.keys(h).length}function Qm(t,e){return t[e]||t.default||t}const _5={skipAnimations:!1},Ym=(t,e,n,r={})=>s=>{const i=Qm(r,t)||{},o=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Ps(o);const l=x5(e,t,n,i),d=l[0],h=l[l.length-1],f=Zf(t,d),m=Zf(t,h);let y={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:x=>{e.set(x),i.onUpdate&&i.onUpdate(x)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(w5(i)||(y={...y,...f5(t,y)}),y.duration&&(y.duration=Ps(y.duration)),y.repeatDelay&&(y.repeatDelay=Ps(y.repeatDelay)),!f||!m||mA.current||i.type===!1||_5.skipAnimations)return l5(y);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const x=a5(e,t,y);if(x)return x}return pc(y)};function mc(t){return!!(Ct(t)&&t.add)}const oE=t=>/^\-?\d*\.?\d+$/.test(t);function Xm(t,e){t.indexOf(e)===-1&&t.push(e)}function Jm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Zm{constructor(){this.subscriptions=[]}add(e){return Xm(this.subscriptions,e),()=>Jm(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const E5=t=>!isNaN(parseFloat(t));class T5{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=at;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,ge.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ge.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=E5(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Zm);const r=this.events[e].add(n);return e==="change"?()=>{r(),ge.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?tE(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zi(t,e){return new T5(t,e)}const aE=t=>e=>e.test(t),k5={test:t=>t==="auto",parse:t=>t},lE=[Ks,G,_n,vr,NP,AP,k5],Vo=t=>lE.find(aE(t)),I5=[...lE,gt,Xr],S5=t=>I5.find(aE(t));function b5(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,zi(n))}function C5(t,e){const n=dd(t,e);let{transitionEnd:r={},transition:s={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const a=HP(i[o]);b5(t,o,a)}}function P5(t,e,n){var r,s;const i=Object.keys(e).filter(a=>!t.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const l=i[a],d=e[l];let h=null;Array.isArray(d)&&(h=d[0]),h===null&&(h=(s=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&s!==void 0?s:e[l]),h!=null&&(typeof h=="string"&&(oE(h)||iE(h))?h=parseFloat(h):!S5(h)&&Xr.test(d)&&(h=sE(l,d)),t.addValue(l,zi(h,{owner:t})),n[l]===void 0&&(n[l]=h),h!==null&&t.setBaseTarget(l,h))}}function A5(t,e){return e?(e[t]||e.default||e).from:void 0}function N5(t,e,n){const r={};for(const s in t){const i=A5(s,e);if(i!==void 0)r[s]=i;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function R5({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function j5(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function uE(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(i=r);const d=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const f in a){const m=t.getValue(f),y=a[f];if(!m||y===void 0||h&&R5(h,f))continue;const x={delay:n,elapsed:0,...Qm(i||{},f)};if(window.HandoffAppearAnimations){const k=t.getProps()[c2];if(k){const w=window.HandoffAppearAnimations(k,f,m,ge);w!==null&&(x.elapsed=w,x.isHandoff=!0)}}let S=!x.isHandoff&&!j5(m,y);if(x.type==="spring"&&(m.getVelocity()||x.velocity)&&(S=!1),m.animation&&(S=!1),S)continue;m.start(Ym(f,m,y,t.shouldReduceMotion&&qs.has(f)?{type:!1}:x));const P=m.animation;mc(l)&&(l.add(f),P.then(()=>l.remove(f))),d.push(P)}return o&&Promise.all(d).then(()=>{o&&C5(t,o)}),d}function tp(t,e,n={}){const r=dd(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(uE(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=s;return D5(t,e,d+l,h,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[l,d]=a==="beforeChildren"?[i,o]:[o,i];return l().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function D5(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(d=0)=>d*r:(d=0)=>a-d*r;return Array.from(t.variantChildren).sort(L5).forEach((d,h)=>{d.notify("AnimationStart",e),o.push(tp(d,e,{...i,delay:n+l(h)}).then(()=>d.notify("AnimationComplete",e)))}),Promise.all(o)}function L5(t,e){return t.sortNodePosition(e)}function V5(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>tp(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=tp(t,e,n);else{const s=typeof e=="function"?dd(t,e,n.custom):e;r=Promise.all(uE(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const O5=[...Dm].reverse(),M5=Dm.length;function F5(t){return e=>Promise.all(e.map(({animation:n,options:r})=>V5(t,n,r)))}function U5(t){let e=F5(t);const n=$5();let r=!0;const s=(l,d)=>{const h=dd(t,d);if(h){const{transition:f,transitionEnd:m,...y}=h;l={...l,...y,...m}}return l};function i(l){e=l(t)}function o(l,d){const h=t.getProps(),f=t.getVariantContext(!0)||{},m=[],y=new Set;let x={},S=1/0;for(let k=0;k<M5;k++){const w=O5[k],E=n[w],R=h[w]!==void 0?h[w]:f[w],V=Ma(R),O=w===d?E.isActive:null;O===!1&&(S=k);let C=R===f[w]&&R!==h[w]&&V;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),E.protectedKeys={...x},!E.isActive&&O===null||!R&&!E.prevProp||ad(R)||typeof R=="boolean")continue;let I=B5(E.prevProp,R)||w===d&&E.isActive&&!C&&V||k>S&&V,b=!1;const N=Array.isArray(R)?R:[R];let j=N.reduce(s,{});O===!1&&(j={});const{prevResolvedValues:A={}}=E,de={...A,...j},et=Ee=>{I=!0,y.has(Ee)&&(b=!0,y.delete(Ee)),E.needsAnimating[Ee]=!0};for(const Ee in de){const $e=j[Ee],$=A[Ee];if(x.hasOwnProperty(Ee))continue;let H=!1;dc($e)&&dc($)?H=!R2($e,$):H=$e!==$,H?$e!==void 0?et(Ee):y.add(Ee):$e!==void 0&&y.has(Ee)?et(Ee):E.protectedKeys[Ee]=!0}E.prevProp=R,E.prevResolvedValues=j,E.isActive&&(x={...x,...j}),r&&t.blockInitialAnimation&&(I=!1),I&&(!C||b)&&m.push(...N.map(Ee=>({animation:Ee,options:{type:w,...l}})))}if(y.size){const k={};y.forEach(w=>{const E=t.getBaseTarget(w);E!==void 0&&(k[w]=E)}),m.push({animation:k})}let P=!!m.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(P=!1),r=!1,P?e(m):Promise.resolve()}function a(l,d,h){var f;if(n[l].isActive===d)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(y=>{var x;return(x=y.animationState)===null||x===void 0?void 0:x.setActive(l,d)}),n[l].isActive=d;const m=o(h,l);for(const y in n)n[y].protectedKeys={};return m}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n}}function B5(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!R2(e,t):!1}function ps(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $5(){return{animate:ps(!0),whileInView:ps(),whileHover:ps(),whileTap:ps(),whileDrag:ps(),whileFocus:ps(),exit:ps()}}class z5 extends os{constructor(e){super(e),e.animationState||(e.animationState=U5(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),ad(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let W5=0;class H5 extends os{constructor(){super(...arguments),this.id=W5++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const q5={animation:{Feature:z5},exit:{Feature:H5}},Av=(t,e)=>Math.abs(t-e);function K5(t,e){const n=Av(t.x,e.x),r=Av(t.y,e.y);return Math.sqrt(n**2+r**2)}class cE{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Rh(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,y=K5(f.offset,{x:0,y:0})>=3;if(!m&&!y)return;const{point:x}=f,{timestamp:S}=at;this.history.push({...x,timestamp:S});const{onStart:P,onMove:k}=this.handlers;m||(P&&P(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Nh(m,this.transformPagePoint),ge.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:y,onSessionEnd:x,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=Rh(f.type==="pointercancel"?this.lastMoveEventInfo:Nh(m,this.transformPagePoint),this.history);this.startEvent&&y&&y(f,P),x&&x(f,P)},!b2(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=cd(e),a=Nh(o,this.transformPagePoint),{point:l}=a,{timestamp:d}=at;this.history=[{...l,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,Rh(a,this.history)),this.removeListeners=zr(Gn(this.contextWindow,"pointermove",this.handlePointerMove),Gn(this.contextWindow,"pointerup",this.handlePointerUp),Gn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),nr(this.updatePoint)}}function Nh(t,e){return e?{point:e(t.point)}:t}function Nv(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Rh({point:t},e){return{point:t,delta:Nv(t,dE(e)),offset:Nv(t,G5(e)),velocity:Q5(e,.1)}}function G5(t){return t[0]}function dE(t){return t[t.length-1]}function Q5(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=dE(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ps(e)));)n--;if(!r)return{x:0,y:0};const i=Qn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Lt(t){return t.max-t.min}function np(t,e=0,n=.01){return Math.abs(t-e)<=n}function Rv(t,e,n,r=.5){t.origin=r,t.originPoint=ke(e.min,e.max,t.origin),t.scale=Lt(n)/Lt(e),(np(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=ke(n.min,n.max,t.origin)-t.originPoint,(np(t.translate)||isNaN(t.translate))&&(t.translate=0)}function da(t,e,n,r){Rv(t.x,e.x,n.x,r?r.originX:void 0),Rv(t.y,e.y,n.y,r?r.originY:void 0)}function jv(t,e,n){t.min=n.min+e.min,t.max=t.min+Lt(e)}function Y5(t,e,n){jv(t.x,e.x,n.x),jv(t.y,e.y,n.y)}function Dv(t,e,n){t.min=e.min-n.min,t.max=t.min+Lt(e)}function ha(t,e,n){Dv(t.x,e.x,n.x),Dv(t.y,e.y,n.y)}function X5(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ke(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ke(n,t,r.max):Math.min(t,n)),t}function Lv(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function J5(t,{top:e,left:n,bottom:r,right:s}){return{x:Lv(t.x,n,s),y:Lv(t.y,e,r)}}function Vv(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Z5(t,e){return{x:Vv(t.x,e.x),y:Vv(t.y,e.y)}}function eN(t,e){let n=.5;const r=Lt(t),s=Lt(e);return s>r?n=Ua(e.min,e.max-r,t.min):r>s&&(n=Ua(t.min,t.max-s,e.min)),Yr(0,1,n)}function tN(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const rp=.35;function nN(t=rp){return t===!1?t=0:t===!0&&(t=rp),{x:Ov(t,"left","right"),y:Ov(t,"top","bottom")}}function Ov(t,e,n){return{min:Mv(t,e),max:Mv(t,n)}}function Mv(t,e){return typeof t=="number"?t:t[e]||0}const Fv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ei=()=>({x:Fv(),y:Fv()}),Uv=()=>({min:0,max:0}),Ve=()=>({x:Uv(),y:Uv()});function zt(t){return[t("x"),t("y")]}function hE({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function rN({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function sN(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function jh(t){return t===void 0||t===1}function sp({scale:t,scaleX:e,scaleY:n}){return!jh(t)||!jh(e)||!jh(n)}function ys(t){return sp(t)||fE(t)||t.z||t.rotate||t.rotateX||t.rotateY}function fE(t){return Bv(t.x)||Bv(t.y)}function Bv(t){return t&&t!=="0%"}function gc(t,e,n){const r=t-n,s=e*r;return n+s}function $v(t,e,n,r,s){return s!==void 0&&(t=gc(t,s,r)),gc(t,n,r)+e}function ip(t,e=0,n=1,r,s){t.min=$v(t.min,e,n,r,s),t.max=$v(t.max,e,n,r,s)}function pE(t,{x:e,y:n}){ip(t.x,e.translate,e.scale,e.originPoint),ip(t.y,n.translate,n.scale,n.originPoint)}function iN(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ti(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,pE(t,o)),r&&ys(i.latestValues)&&Ti(t,i.latestValues))}e.x=zv(e.x),e.y=zv(e.y)}function zv(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function _r(t,e){t.min=t.min+e,t.max=t.max+e}function Wv(t,e,[n,r,s]){const i=e[s]!==void 0?e[s]:.5,o=ke(t.min,t.max,i);ip(t,e[n],e[r],o,e.scale)}const oN=["x","scaleX","originX"],aN=["y","scaleY","originY"];function Ti(t,e){Wv(t.x,e,oN),Wv(t.y,e,aN)}function mE(t,e){return hE(sN(t.getBoundingClientRect(),e))}function lN(t,e,n){const r=mE(t,n),{scroll:s}=e;return s&&(_r(r.x,s.offset.x),_r(r.y,s.offset.y)),r}const gE=({current:t})=>t?t.ownerDocument.defaultView:null,uN=new WeakMap;class cN{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ve(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(cd(h,"page").point)},i=(h,f)=>{const{drag:m,dragPropagation:y,onDragStart:x}=this.getProps();if(m&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=P2(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zt(P=>{let k=this.getAxisMotionValue(P).get()||0;if(_n.test(k)){const{projection:w}=this.visualElement;if(w&&w.layout){const E=w.layout.layoutBox[P];E&&(k=Lt(E)*(parseFloat(k)/100))}}this.originPoint[P]=k}),x&&ge.update(()=>x(h,f),!1,!0);const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},o=(h,f)=>{const{dragPropagation:m,dragDirectionLock:y,onDirectionLock:x,onDrag:S}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:P}=f;if(y&&this.currentDirection===null){this.currentDirection=dN(P),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",f.point,P),this.updateAxis("y",f.point,P),this.visualElement.render(),S&&S(h,f)},a=(h,f)=>this.stop(h,f),l=()=>zt(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new cE(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:gE(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&ge.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!iu(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=X5(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&wi(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=J5(s.layoutBox,n):this.constraints=!1,this.elastic=nN(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&zt(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=tN(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!wi(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=lN(r,s.root,this.visualElement.getTransformPagePoint());let o=Z5(s.layout.layoutBox,i);if(n){const a=n(rN(o));this.hasMutatedConstraints=!!a,a&&(o=hE(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},d=zt(h=>{if(!iu(h,n,this.currentDirection))return;let f=l&&l[h]||{};o&&(f={min:0,max:0});const m=s?200:1e6,y=s?40:1e7,x={type:"inertia",velocity:r?e[h]:0,bounceStiffness:m,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(h,x)});return Promise.all(d).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Ym(e,r,0,n))}stopAnimation(){zt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){zt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){zt(n=>{const{drag:r}=this.getProps();if(!iu(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-ke(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!wi(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};zt(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();s[o]=eN({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),zt(o=>{if(!iu(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:d}=this.constraints[o];a.set(ke(l,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;uN.set(this.visualElement,this);const e=this.visualElement.current,n=Gn(e,"pointerdown",l=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();wi(l)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=zn(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:d})=>{this.isDragging&&d&&(zt(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=l[h].translate,f.set(f.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=rp,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function iu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function dN(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class hN extends os{constructor(e){super(e),this.removeGroupControls=je,this.removeListeners=je,this.controls=new cN(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||je}unmount(){this.removeGroupControls(),this.removeListeners()}}const Hv=t=>(e,n)=>{t&&ge.update(()=>t(e,n))};class fN extends os{constructor(){super(...arguments),this.removePointerDownListener=je}onPointerDown(e){this.session=new cE(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:gE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Hv(e),onStart:Hv(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&ge.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=Gn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function pN(){const t=v.useContext(id);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=v.useId();return v.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const Cu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function qv(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Oo={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(G.test(t))t=parseFloat(t);else return t;const n=qv(t,e.target.x),r=qv(t,e.target.y);return`${n}% ${r}%`}},mN={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Xr.parse(t);if(s.length>5)return r;const i=Xr.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const d=ke(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),i(s)}};class gN extends Nt.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;TP(yN),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Cu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||ge.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function yE(t){const[e,n]=pN(),r=v.useContext(Vm);return Nt.createElement(gN,{...t,layoutGroup:r,switchLayoutGroup:v.useContext(h2),isPresent:e,safeToRemove:n})}const yN={borderRadius:{...Oo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Oo,borderTopRightRadius:Oo,borderBottomLeftRadius:Oo,borderBottomRightRadius:Oo,boxShadow:mN},vE=["TopLeft","TopRight","BottomLeft","BottomRight"],vN=vE.length,Kv=t=>typeof t=="string"?parseFloat(t):t,Gv=t=>typeof t=="number"||G.test(t);function xN(t,e,n,r,s,i){s?(t.opacity=ke(0,n.opacity!==void 0?n.opacity:1,wN(r)),t.opacityExit=ke(e.opacity!==void 0?e.opacity:1,0,_N(r))):i&&(t.opacity=ke(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<vN;o++){const a=`border${vE[o]}Radius`;let l=Qv(e,a),d=Qv(n,a);if(l===void 0&&d===void 0)continue;l||(l=0),d||(d=0),l===0||d===0||Gv(l)===Gv(d)?(t[a]=Math.max(ke(Kv(l),Kv(d),r),0),(_n.test(d)||_n.test(l))&&(t[a]+="%")):t[a]=d}(e.rotate||n.rotate)&&(t.rotate=ke(e.rotate||0,n.rotate||0,r))}function Qv(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const wN=xE(0,.5,B2),_N=xE(.5,.95,je);function xE(t,e,n){return r=>r<t?0:r>e?1:n(Ua(t,e,r))}function Yv(t,e){t.min=e.min,t.max=e.max}function $t(t,e){Yv(t.x,e.x),Yv(t.y,e.y)}function Xv(t,e,n,r,s){return t-=e,t=gc(t,1/n,r),s!==void 0&&(t=gc(t,1/s,r)),t}function EN(t,e=0,n=1,r=.5,s,i=t,o=t){if(_n.test(e)&&(e=parseFloat(e),e=ke(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=ke(i.min,i.max,r);t===i&&(a-=e),t.min=Xv(t.min,e,n,a,s),t.max=Xv(t.max,e,n,a,s)}function Jv(t,e,[n,r,s],i,o){EN(t,e[n],e[r],e[s],e.scale,i,o)}const TN=["x","scaleX","originX"],kN=["y","scaleY","originY"];function Zv(t,e,n,r){Jv(t.x,e,TN,n?n.x:void 0,r?r.x:void 0),Jv(t.y,e,kN,n?n.y:void 0,r?r.y:void 0)}function e1(t){return t.translate===0&&t.scale===1}function wE(t){return e1(t.x)&&e1(t.y)}function IN(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function _E(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function t1(t){return Lt(t.x)/Lt(t.y)}class SN{constructor(){this.members=[]}add(e){Xm(this.members,e),e.scheduleRender()}remove(e){if(Jm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function n1(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:d,rotateY:h}=n;l&&(r+=`rotate(${l}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const bN=(t,e)=>t.depth-e.depth;class CN{constructor(){this.children=[],this.isDirty=!1}add(e){Xm(this.children,e),this.isDirty=!0}remove(e){Jm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(bN),this.isDirty=!1,this.children.forEach(e)}}function PN(t,e){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(nr(r),t(i-e))};return ge.read(r,!0),()=>nr(r)}function AN(t){window.MotionDebug&&window.MotionDebug.record(t)}function NN(t){return t instanceof SVGElement&&t.tagName!=="svg"}function RN(t,e,n){const r=Ct(t)?t:zi(t);return r.start(Ym("",r,e,n)),r.animation}const r1=["","X","Y","Z"],jN={visibility:"hidden"},s1=1e3;let DN=0;const vs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function EE({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=DN++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,vs.totalNodes=vs.resolvedTargetDeltas=vs.recalculatedProjection=0,this.nodes.forEach(ON),this.nodes.forEach($N),this.nodes.forEach(zN),this.nodes.forEach(MN),AN(vs)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new CN)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Zm),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=NN(o),this.instance=o;const{layoutId:l,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(d||l)&&(this.isLayoutDirty=!0),t){let f;const m=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=PN(m,250),Cu.hasAnimatedSinceResize&&(Cu.hasAnimatedSinceResize=!1,this.nodes.forEach(o1))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||d)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeTargetChanged:y,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||h.getDefaultTransition()||GN,{onLayoutAnimationStart:P,onLayoutAnimationComplete:k}=h.getProps(),w=!this.targetLayout||!_E(this.targetLayout,x)||y,E=!m&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||E||m&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,E);const R={...Qm(S,"layout"),onPlay:P,onComplete:k};(h.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else m||o1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,nr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(WN),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(i1);return}this.isUpdating||this.nodes.forEach(UN),this.isUpdating=!1,this.nodes.forEach(BN),this.nodes.forEach(LN),this.nodes.forEach(VN),this.clearAllSnapshots();const a=performance.now();at.delta=Yr(0,1e3/60,a-at.timestamp),at.timestamp=a,at.isProcessing=!0,kh.update.process(at),kh.preRender.process(at),kh.render.process(at),at.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(FN),this.sharedNodes.forEach(HN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ge.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ge.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ve(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!wE(this.projectionDelta),l=this.getTransformTemplate(),d=l?l(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&(a||ys(this.latestValues)||h)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),QN(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ve();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(_r(a.x,l.offset.x),_r(a.y,l.offset.y)),a}removeElementScroll(o){const a=Ve();$t(a,o);for(let l=0;l<this.path.length;l++){const d=this.path[l],{scroll:h,options:f}=d;if(d!==this.root&&h&&f.layoutScroll){if(h.isRoot){$t(a,o);const{scroll:m}=this.root;m&&(_r(a.x,-m.offset.x),_r(a.y,-m.offset.y))}_r(a.x,h.offset.x),_r(a.y,h.offset.y)}}return a}applyTransform(o,a=!1){const l=Ve();$t(l,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Ti(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),ys(h.latestValues)&&Ti(l,h.latestValues)}return ys(this.latestValues)&&Ti(l,this.latestValues),l}removeTransform(o){const a=Ve();$t(a,o);for(let l=0;l<this.path.length;l++){const d=this.path[l];if(!d.instance||!ys(d.latestValues))continue;sp(d.latestValues)&&d.updateSnapshot();const h=Ve(),f=d.measurePageBox();$t(h,f),Zv(a,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return ys(this.latestValues)&&Zv(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==at.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==l;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=at.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ve(),this.relativeTargetOrigin=Ve(),ha(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),$t(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ve(),this.targetWithTransforms=Ve()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Y5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$t(this.target,this.layout.layoutBox),pE(this.target,this.targetDelta)):$t(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ve(),this.relativeTargetOrigin=Ve(),ha(this.relativeTargetOrigin,this.target,y.target),$t(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}vs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||sp(this.parent.latestValues)||fE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let d=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(d=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===at.timestamp&&(d=!1),d)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;$t(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,y=this.treeScale.y;iN(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:x}=a;if(!x){this.projectionTransform&&(this.projectionDelta=Ei(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Ei(),this.projectionDeltaWithTransform=Ei());const S=this.projectionTransform;da(this.projectionDelta,this.layoutCorrected,x,this.latestValues),this.projectionTransform=n1(this.projectionDelta,this.treeScale),(this.projectionTransform!==S||this.treeScale.x!==m||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),vs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,d=l?l.latestValues:{},h={...this.latestValues},f=Ei();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=Ve(),y=l?l.source:void 0,x=this.layout?this.layout.source:void 0,S=y!==x,P=this.getStack(),k=!P||P.members.length<=1,w=!!(S&&!k&&this.options.crossfade===!0&&!this.path.some(KN));this.animationProgress=0;let E;this.mixTargetDelta=R=>{const V=R/1e3;a1(f.x,o.x,V),a1(f.y,o.y,V),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ha(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),qN(this.relativeTarget,this.relativeTargetOrigin,m,V),E&&IN(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=Ve()),$t(E,this.relativeTarget)),S&&(this.animationValues=h,xN(h,d,this.latestValues,V,w,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(nr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ge.update(()=>{Cu.hasAnimatedSinceResize=!0,this.currentAnimation=RN(0,s1,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(s1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:d,latestValues:h}=o;if(!(!a||!l||!d)){if(this!==o&&this.layout&&d&&TE(this.options.animationType,this.layout.layoutBox,d.layoutBox)){l=this.target||Ve();const f=Lt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const m=Lt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+m}$t(a,l),Ti(a,h),da(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new SN),this.sharedNodes.get(o).add(a);const d=a.options.initialPromotionConfig;a.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const d=this.getStack();d&&d.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const d={};for(let h=0;h<r1.length;h++){const f="rotate"+r1[h];l[f]&&(d[f]=l[f],o.setStaticValue(f,0))}o.render();for(const h in d)o.setStaticValue(h,d[h]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return jN;const d={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=bu(o==null?void 0:o.pointerEvents)||"",d.transform=h?h(this.latestValues,""):"none",d;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=bu(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ys(this.latestValues)&&(S.transform=h?h({},""):"none",this.hasProjected=!1),S}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),d.transform=n1(this.projectionDeltaWithTransform,this.treeScale,m),h&&(d.transform=h(m,d.transform));const{x:y,y:x}=this.projectionDelta;d.transformOrigin=`${y.origin*100}% ${x.origin*100}% 0`,f.animationValues?d.opacity=f===this?(l=(a=m.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:d.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const S in uc){if(m[S]===void 0)continue;const{correct:P,applyTo:k}=uc[S],w=d.transform==="none"?m[S]:P(m[S],f);if(k){const E=k.length;for(let R=0;R<E;R++)d[k[R]]=w}else d[S]=w}return this.options.layoutId&&(d.pointerEvents=f===this?bu(o==null?void 0:o.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(i1),this.root.sharedNodes.clear()}}}function LN(t){t.updateLayout()}function VN(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?zt(f=>{const m=o?n.measuredBox[f]:n.layoutBox[f],y=Lt(m);m.min=r[f].min,m.max=m.min+y}):TE(i,n.layoutBox,r)&&zt(f=>{const m=o?n.measuredBox[f]:n.layoutBox[f],y=Lt(r[f]);m.max=m.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+y)});const a=Ei();da(a,r,n.layoutBox);const l=Ei();o?da(l,t.applyTransform(s,!0),n.measuredBox):da(l,r,n.layoutBox);const d=!wE(a);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:y}=f;if(m&&y){const x=Ve();ha(x,n.layoutBox,m.layoutBox);const S=Ve();ha(S,r,y.layoutBox),_E(x,S)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=x,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:d,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function ON(t){vs.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function MN(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function FN(t){t.clearSnapshot()}function i1(t){t.clearMeasurements()}function UN(t){t.isLayoutDirty=!1}function BN(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function o1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function $N(t){t.resolveTargetDelta()}function zN(t){t.calcProjection()}function WN(t){t.resetRotation()}function HN(t){t.removeLeadSnapshot()}function a1(t,e,n){t.translate=ke(e.translate,0,n),t.scale=ke(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function l1(t,e,n,r){t.min=ke(e.min,n.min,r),t.max=ke(e.max,n.max,r)}function qN(t,e,n,r){l1(t.x,e.x,n.x,r),l1(t.y,e.y,n.y,r)}function KN(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const GN={duration:.45,ease:[.4,0,.1,1]},u1=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),c1=u1("applewebkit/")&&!u1("chrome/")?Math.round:je;function d1(t){t.min=c1(t.min),t.max=c1(t.max)}function QN(t){d1(t.x),d1(t.y)}function TE(t,e,n){return t==="position"||t==="preserve-aspect"&&!np(t1(e),t1(n),.2)}const YN=EE({attachResizeListener:(t,e)=>zn(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Dh={current:void 0},kE=EE({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Dh.current){const t=new YN({});t.mount(window),t.setOptions({layoutScroll:!0}),Dh.current=t}return Dh.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),XN={pan:{Feature:fN},drag:{Feature:hN,ProjectionNode:kE,MeasureLayout:yE}},JN=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function ZN(t){const e=JN.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function op(t,e,n=1){const[r,s]=ZN(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return oE(o)?parseFloat(o):o}else return Qf(s)?op(s,e,n+1):s}function e4(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const i=s.get();if(!Qf(i))return;const o=op(i,r);o&&s.set(o)});for(const s in e){const i=e[s];if(!Qf(i))continue;const o=op(i,r);o&&(e[s]=o,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:e,transitionEnd:n}}const t4=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),IE=t=>t4.has(t),n4=t=>Object.keys(t).some(IE),h1=t=>t===Ks||t===G,f1=(t,e)=>parseFloat(t.split(", ")[e]),p1=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return f1(s[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?f1(i[1],t):0}},r4=new Set(["x","y","z"]),s4=sl.filter(t=>!r4.has(t));function i4(t){const e=[];return s4.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Wi={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:p1(4,13),y:p1(5,14)};Wi.translateX=Wi.x;Wi.translateY=Wi.y;const o4=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(d=>{a[d]=Wi[d](r,i)}),e.render();const l=e.measureViewportBox();return n.forEach(d=>{const h=e.getValue(d);h&&h.jump(a[d]),t[d]=Wi[d](l,i)}),t},a4=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(IE);let i=[],o=!1;const a=[];if(s.forEach(l=>{const d=t.getValue(l);if(!t.hasValue(l))return;let h=n[l],f=Vo(h);const m=e[l];let y;if(dc(m)){const x=m.length,S=m[0]===null?1:0;h=m[S],f=Vo(h);for(let P=S;P<x&&m[P]!==null;P++)y?Wm(Vo(m[P])===y):y=Vo(m[P])}else y=Vo(m);if(f!==y)if(h1(f)&&h1(y)){const x=d.get();typeof x=="string"&&d.set(parseFloat(x)),typeof m=="string"?e[l]=parseFloat(m):Array.isArray(m)&&y===G&&(e[l]=m.map(parseFloat))}else f!=null&&f.transform&&(y!=null&&y.transform)&&(h===0||m===0)?h===0?d.set(y.transform(h)):e[l]=f.transform(m):(o||(i=i4(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],d.jump(m))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,d=o4(e,t,a);return i.length&&i.forEach(([h,f])=>{t.getValue(h).set(f)}),t.render(),od&&l!==null&&window.scrollTo({top:l}),{target:d,transitionEnd:r}}else return{target:e,transitionEnd:r}};function l4(t,e,n,r){return n4(e)?a4(t,e,n,r):{target:e,transitionEnd:r}}const u4=(t,e,n,r)=>{const s=e4(t,e,r);return e=s.target,r=s.transitionEnd,l4(t,e,n,r)},ap={current:null},SE={current:!1};function c4(){if(SE.current=!0,!!od)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ap.current=t.matches;t.addListener(e),e()}else ap.current=!1}function d4(t,e,n){const{willChange:r}=e;for(const s in e){const i=e[s],o=n[s];if(Ct(i))t.addValue(s,i),mc(r)&&r.add(s);else if(Ct(o))t.addValue(s,zi(i,{owner:t})),mc(r)&&r.remove(s);else if(o!==i)if(t.hasValue(s)){const a=t.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=t.getStaticValue(s);t.addValue(s,zi(a!==void 0?a:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const m1=new WeakMap,bE=Object.keys(Fa),h4=bE.length,g1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],f4=Lm.length;class p4{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ge.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=ld(n),this.isVariantNode=d2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{});for(const f in h){const m=h[f];a[f]!==void 0&&Ct(m)&&(m.set(a[f],!1),mc(d)&&d.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,m1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),SE.current||c4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ap.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){m1.delete(this.current),this.projection&&this.projection.unmount(),nr(this.notifyUpdate),nr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=qs.has(e),s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ge.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,i){let o,a;for(let l=0;l<h4;l++){const d=bE[l],{isEnabled:h,Feature:f,ProjectionNode:m,MeasureLayout:y}=Fa[d];m&&(o=m),h(n)&&(!this.features[d]&&f&&(this.features[d]=new f(this)),y&&(a=y))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:d,drag:h,dragConstraints:f,layoutScroll:m,layoutRoot:y}=n;this.projection.setOptions({layoutId:l,layout:d,alwaysMeasureLayout:!!h||f&&wi(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof d=="string"?d:"both",initialPromotionConfig:i,layoutScroll:m,layoutRoot:y})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ve()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<g1.length;r++){const s=g1[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=e["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=d4(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<f4;r++){const s=Lm[r],i=this.props[s];(Ma(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=zi(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=zm(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Ct(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Zm),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class CE extends p4{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},i){let o=N5(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),o&&(o=s(o))),i){P5(this,r,o);const a=u4(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function m4(t){return window.getComputedStyle(t)}class g4 extends CE{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(qs.has(n)){const r=Gm(n);return r&&r.default||0}else{const r=m4(e),s=(m2(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return mE(e,n)}build(e,n,r,s){Mm(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return $m(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ct(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){_2(e,n,r,s)}}class y4 extends CE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(qs.has(n)){const r=Gm(n);return r&&r.default||0}return n=E2.has(n)?n:jm(n),e.getAttribute(n)}measureInstanceViewportBox(){return Ve()}scrapeMotionValuesFromProps(e,n){return k2(e,n)}build(e,n,r,s){Um(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){T2(e,n,r,s)}mount(e){this.isSVGTag=Bm(e.tagName),super.mount(e)}}const v4=(t,e)=>Om(t)?new y4(e,{enableHardwareAcceleration:!1}):new g4(e,{enableHardwareAcceleration:!0}),x4={layout:{ProjectionNode:kE,MeasureLayout:yE}},w4={...q5,...hA,...XN,...x4},ue=_P((t,e)=>ZP(t,e,w4,v4));function PE(){const t=v.useRef(!1);return Rm(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function _4(){const t=PE(),[e,n]=v.useState(0),r=v.useCallback(()=>{t.current&&n(e+1)},[e]);return[v.useCallback(()=>ge.postRender(r),[r]),e]}class E4 extends v.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function T4({children:t,isPresent:e}){const n=v.useId(),r=v.useRef(null),s=v.useRef({width:0,height:0,top:0,left:0});return v.useInsertionEffect(()=>{const{width:i,height:o,top:a,left:l}=s.current;if(e||!r.current||!i||!o)return;r.current.dataset.motionPopId=n;const d=document.createElement("style");return document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),v.createElement(E4,{isPresent:e,childRef:r,sizeRef:s},v.cloneElement(t,{ref:r}))}const Lh=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=I2(k4),l=v.useId(),d=v.useMemo(()=>({id:l,initial:e,isPresent:n,custom:s,onExitComplete:h=>{a.set(h,!0);for(const f of a.values())if(!f)return;r&&r()},register:h=>(a.set(h,!1),()=>a.delete(h))}),i?void 0:[n]);return v.useMemo(()=>{a.forEach((h,f)=>a.set(f,!1))},[n]),v.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=v.createElement(T4,{isPresent:n},t)),v.createElement(id.Provider,{value:d},t)};function k4(){return new Map}function I4(t){return v.useEffect(()=>()=>t(),[])}const xs=t=>t.key||"";function S4(t,e){t.forEach(n=>{const r=xs(n);e.set(r,n)})}function b4(t){const e=[];return v.Children.forEach(t,n=>{v.isValidElement(n)&&e.push(n)}),e}const AE=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=v.useContext(Vm).forceRender||_4()[0],l=PE(),d=b4(t);let h=d;const f=v.useRef(new Map).current,m=v.useRef(h),y=v.useRef(new Map).current,x=v.useRef(!0);if(Rm(()=>{x.current=!1,S4(d,y),m.current=h}),I4(()=>{x.current=!0,y.clear(),f.clear()}),x.current)return v.createElement(v.Fragment,null,h.map(w=>v.createElement(Lh,{key:xs(w),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:o},w)));h=[...h];const S=m.current.map(xs),P=d.map(xs),k=S.length;for(let w=0;w<k;w++){const E=S[w];P.indexOf(E)===-1&&!f.has(E)&&f.set(E,void 0)}return o==="wait"&&f.size&&(h=[]),f.forEach((w,E)=>{if(P.indexOf(E)!==-1)return;const R=y.get(E);if(!R)return;const V=S.indexOf(E);let O=w;if(!O){const C=()=>{f.delete(E);const _=Array.from(y.keys()).filter(I=>!P.includes(I));if(_.forEach(I=>y.delete(I)),m.current=d.filter(I=>{const b=xs(I);return b===E||_.includes(b)}),!f.size){if(l.current===!1)return;a(),r&&r()}};O=v.createElement(Lh,{key:xs(R),isPresent:!1,onExitComplete:C,custom:e,presenceAffectsLayout:i,mode:o},R),f.set(E,O)}h.splice(V,0,O)}),h=h.map(w=>{const E=w.key;return f.has(E)?w:v.createElement(Lh,{key:xs(w),isPresent:!0,presenceAffectsLayout:i,mode:o},w)}),v.createElement(v.Fragment,null,f.size?h:h.map(w=>v.cloneElement(w)))};var y1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},C4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},RE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,d=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let m=(a&15)<<2|d>>6,y=d&63;l||(y=64,o||(m=64)),r.push(n[h],n[f],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(NE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):C4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||f==null)throw new P4;const m=i<<2|a>>4;if(r.push(m),d!==64){const y=a<<4&240|d>>2;if(r.push(y),f!==64){const x=d<<6&192|f;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class P4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const A4=function(t){const e=NE(t);return RE.encodeByteArray(e,!0)},yc=function(t){return A4(t).replace(/\./g,"")},jE=function(t){try{return RE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=()=>N4().__FIREBASE_DEFAULTS__,j4=()=>{if(typeof process>"u"||typeof y1>"u")return;const t=y1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},D4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jE(t[1]);return e&&JSON.parse(e)},hd=()=>{try{return R4()||j4()||D4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},DE=t=>{var e,n;return(n=(e=hd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},LE=t=>{const e=DE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},VE=()=>{var t;return(t=hd())===null||t===void 0?void 0:t.config},OE=t=>{var e;return(e=hd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ME(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[yc(JSON.stringify(n)),yc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function V4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())}function O4(){var t;const e=(t=hd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function M4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function F4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function U4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function B4(){const t=ht();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $4(){return!O4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function z4(){try{return typeof indexedDB=="object"}catch{return!1}}function W4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4="FirebaseError";class Nn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=H4,Object.setPrototypeOf(this,Nn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ll.prototype.create)}}class ll{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?q4(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Nn(s,a,r)}}function q4(t,e){return t.replace(K4,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const K4=/\{\$([^}]+)}/g;function G4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function vc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(v1(i)&&v1(o)){if(!vc(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function v1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function qo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Ko(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Q4(t,e){const n=new Y4(t,e);return n.subscribe.bind(n)}class Y4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");X4(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Vh),s.error===void 0&&(s.error=Vh),s.complete===void 0&&(s.complete=Vh);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function X4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t){return t&&t._delegate?t._delegate:t}class Jr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new L4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eR(e))try{this.getOrInitializeService({instanceIdentifier:ws})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ws){return this.instances.has(e)}getOptions(e=ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Z4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ws){return this.component?this.component.multipleInstances?e:ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Z4(t){return t===ws?void 0:t}function eR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new J4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(se||(se={}));const nR={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},rR=se.INFO,sR={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},iR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=sR[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class eg{constructor(e){this.name=e,this._logLevel=rR,this._logHandler=iR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}}const oR=(t,e)=>e.some(n=>t instanceof n);let x1,w1;function aR(){return x1||(x1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lR(){return w1||(w1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FE=new WeakMap,lp=new WeakMap,UE=new WeakMap,Oh=new WeakMap,tg=new WeakMap;function uR(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Wr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&FE.set(n,t)}).catch(()=>{}),tg.set(e,t),e}function cR(t){if(lp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});lp.set(t,e)}let up={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||UE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dR(t){up=t(up)}function hR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Mh(this),e,...n);return UE.set(r,e.sort?e.sort():[e]),Wr(r)}:lR().includes(t)?function(...e){return t.apply(Mh(this),e),Wr(FE.get(this))}:function(...e){return Wr(t.apply(Mh(this),e))}}function fR(t){return typeof t=="function"?hR(t):(t instanceof IDBTransaction&&cR(t),oR(t,aR())?new Proxy(t,up):t)}function Wr(t){if(t instanceof IDBRequest)return uR(t);if(Oh.has(t))return Oh.get(t);const e=fR(t);return e!==t&&(Oh.set(t,e),tg.set(e,t)),e}const Mh=t=>tg.get(t);function pR(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Wr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Wr(o.result),l.oldVersion,l.newVersion,Wr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const mR=["get","getKey","getAll","getAllKeys","count"],gR=["put","add","delete","clear"],Fh=new Map;function _1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fh.get(e))return Fh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=gR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||mR.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let d=l.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&l.done]))[0]};return Fh.set(e,i),i}dR(t=>({...t,get:(e,n,r)=>_1(e,n)||t.get(e,n,r),has:(e,n)=>!!_1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cp="@firebase/app",E1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=new eg("@firebase/app"),xR="@firebase/app-compat",wR="@firebase/analytics-compat",_R="@firebase/analytics",ER="@firebase/app-check-compat",TR="@firebase/app-check",kR="@firebase/auth",IR="@firebase/auth-compat",SR="@firebase/database",bR="@firebase/data-connect",CR="@firebase/database-compat",PR="@firebase/functions",AR="@firebase/functions-compat",NR="@firebase/installations",RR="@firebase/installations-compat",jR="@firebase/messaging",DR="@firebase/messaging-compat",LR="@firebase/performance",VR="@firebase/performance-compat",OR="@firebase/remote-config",MR="@firebase/remote-config-compat",FR="@firebase/storage",UR="@firebase/storage-compat",BR="@firebase/firestore",$R="@firebase/vertexai-preview",zR="@firebase/firestore-compat",WR="firebase",HR="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="[DEFAULT]",qR={[cp]:"fire-core",[xR]:"fire-core-compat",[_R]:"fire-analytics",[wR]:"fire-analytics-compat",[TR]:"fire-app-check",[ER]:"fire-app-check-compat",[kR]:"fire-auth",[IR]:"fire-auth-compat",[SR]:"fire-rtdb",[bR]:"fire-data-connect",[CR]:"fire-rtdb-compat",[PR]:"fire-fn",[AR]:"fire-fn-compat",[NR]:"fire-iid",[RR]:"fire-iid-compat",[jR]:"fire-fcm",[DR]:"fire-fcm-compat",[LR]:"fire-perf",[VR]:"fire-perf-compat",[OR]:"fire-rc",[MR]:"fire-rc-compat",[FR]:"fire-gcs",[UR]:"fire-gcs-compat",[BR]:"fire-fst",[zR]:"fire-fst-compat",[$R]:"fire-vertex","fire-js":"fire-js",[WR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new Map,KR=new Map,hp=new Map;function T1(t,e){try{t.container.addComponent(e)}catch(n){rr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ms(t){const e=t.name;if(hp.has(e))return rr.debug(`There were multiple attempts to register component ${e}.`),!1;hp.set(e,t);for(const n of xc.values())T1(n,t);for(const n of KR.values())T1(n,t);return!0}function fd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function vn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new ll("app","Firebase",GR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs=HR;function BE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:dp,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Hr.create("bad-app-name",{appName:String(s)});if(n||(n=VE()),!n)throw Hr.create("no-options");const i=xc.get(s);if(i){if(vc(n,i.options)&&vc(r,i.config))return i;throw Hr.create("duplicate-app",{appName:s})}const o=new tR(s);for(const l of hp.values())o.addComponent(l);const a=new QR(n,r,o);return xc.set(s,a),a}function ng(t=dp){const e=xc.get(t);if(!e&&t===dp&&VE())return BE();if(!e)throw Hr.create("no-app",{appName:t});return e}function En(t,e,n){var r;let s=(r=qR[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rr.warn(a.join(" "));return}Ms(new Jr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR="firebase-heartbeat-database",XR=1,Ba="firebase-heartbeat-store";let Uh=null;function $E(){return Uh||(Uh=pR(YR,XR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ba)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hr.create("idb-open",{originalErrorMessage:t.message})})),Uh}async function JR(t){try{const n=(await $E()).transaction(Ba),r=await n.objectStore(Ba).get(zE(t));return await n.done,r}catch(e){if(e instanceof Nn)rr.warn(e.message);else{const n=Hr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rr.warn(n.message)}}}async function k1(t,e){try{const r=(await $E()).transaction(Ba,"readwrite");await r.objectStore(Ba).put(e,zE(t)),await r.done}catch(n){if(n instanceof Nn)rr.warn(n.message);else{const r=Hr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rr.warn(r.message)}}}function zE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=1024,e3=30*24*60*60*1e3;class t3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new r3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=I1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=e3}),this._storage.overwrite(this._heartbeatsCache))}catch(r){rr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=I1(),{heartbeatsToSend:r,unsentEntries:s}=n3(this._heartbeatsCache.heartbeats),i=yc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return rr.warn(n),""}}}function I1(){return new Date().toISOString().substring(0,10)}function n3(t,e=ZR){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),S1(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),S1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class r3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return z4()?W4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await JR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return k1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return k1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function S1(t){return yc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(t){Ms(new Jr("platform-logger",e=>new yR(e),"PRIVATE")),Ms(new Jr("heartbeat",e=>new t3(e),"PRIVATE")),En(cp,E1,t),En(cp,E1,"esm2017"),En("fire-js","")}s3("");function rg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function WE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const i3=WE,HE=new ll("auth","Firebase",WE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new eg("@firebase/auth");function o3(t,...e){wc.logLevel<=se.WARN&&wc.warn(`Auth (${Gs}): ${t}`,...e)}function Pu(t,...e){wc.logLevel<=se.ERROR&&wc.error(`Auth (${Gs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(t,...e){throw sg(t,...e)}function Tn(t,...e){return sg(t,...e)}function qE(t,e,n){const r=Object.assign(Object.assign({},i3()),{[e]:n});return new ll("auth","Firebase",r).create(e,{appName:t.name})}function Yn(t){return qE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return HE.create(t,...e)}function Q(t,e,...n){if(!t)throw sg(e,...n)}function Wn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pu(e),new Error(e)}function sr(t,e){t||Wn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function a3(){return b1()==="http:"||b1()==="https:"}function b1(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(a3()||F4()||"connection"in navigator)?navigator.onLine:!0}function u3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,n){this.shortDelay=e,this.longDelay=n,sr(n>e,"Short delay should be less than long delay!"),this.isMobile=V4()||U4()}get(){return l3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(t,e){sr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=new cl(3e4,6e4);function dr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Rn(t,e,n,r,s={}){return GE(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=ul(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:l},i);return M4()||(d.referrerPolicy="no-referrer"),KE.fetch()(QE(t,t.config.apiHost,n,a),d)})}async function GE(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},c3),e);try{const s=new f3(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw ou(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,d]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ou(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ou(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ou(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw qE(t,h,d);hn(t,h)}}catch(s){if(s instanceof Nn)throw s;hn(t,"network-request-failed",{message:String(s)})}}async function dl(t,e,n,r,s={}){const i=await Rn(t,e,n,r,s);return"mfaPendingCredential"in i&&hn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function QE(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?ig(t.config,s):`${t.config.apiScheme}://${s}`}function h3(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class f3{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Tn(this.auth,"network-request-failed")),d3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ou(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Tn(t,e,r);return s.customData._tokenResponse=n,s}function C1(t){return t!==void 0&&t.enterprise!==void 0}class p3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return h3(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function m3(t,e){return Rn(t,"GET","/v2/recaptchaConfig",dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g3(t,e){return Rn(t,"POST","/v1/accounts:delete",e)}async function YE(t,e){return Rn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function y3(t,e=!1){const n=wt(t),r=await n.getIdToken(e),s=og(r);Q(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:fa(Bh(s.auth_time)),issuedAtTime:fa(Bh(s.iat)),expirationTime:fa(Bh(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Bh(t){return Number(t)*1e3}function og(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Pu("JWT malformed, contained fewer than 3 sections"),null;try{const s=jE(n);return s?JSON.parse(s):(Pu("Failed to decode base64 JWT payload"),null)}catch(s){return Pu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function P1(t){const e=og(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hi(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Nn&&v3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function v3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fa(this.lastLoginAt),this.creationTime=fa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _c(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Hi(t,YE(n,{idToken:r}));Q(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?XE(i.providerUserInfo):[],a=_3(t.providerData,o),l=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=l?d:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new pp(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function w3(t){const e=wt(t);await _c(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _3(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function XE(t){return t.map(e=>{var{providerId:n}=e,r=rg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E3(t,e){const n=await GE(t,{},async()=>{const r=ul({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=QE(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",KE.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function T3(t,e){return Rn(t,"POST","/v2/accounts:revokeToken",dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):P1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Q(e.length!==0,"internal-error");const n=P1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await E3(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Ri;return r&&(Q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Q(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Q(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ri,this.toJSON())}_performRefresh(){return Wn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Hn{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=rg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new x3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new pp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Hi(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return y3(this,e)}reload(){return w3(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Hn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await _c(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vn(this.auth.app))return Promise.reject(Yn(this.auth));const e=await this.getIdToken();return await Hi(this,g3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,d,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,y=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,S=(a=n.tenantId)!==null&&a!==void 0?a:void 0,P=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,k=(d=n.createdAt)!==null&&d!==void 0?d:void 0,w=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:E,emailVerified:R,isAnonymous:V,providerData:O,stsTokenManager:C}=n;Q(E&&C,e,"internal-error");const _=Ri.fromJSON(this.name,C);Q(typeof E=="string",e,"internal-error"),gr(f,e.name),gr(m,e.name),Q(typeof R=="boolean",e,"internal-error"),Q(typeof V=="boolean",e,"internal-error"),gr(y,e.name),gr(x,e.name),gr(S,e.name),gr(P,e.name),gr(k,e.name),gr(w,e.name);const I=new Hn({uid:E,auth:e,email:m,emailVerified:R,displayName:f,isAnonymous:V,photoURL:x,phoneNumber:y,tenantId:S,stsTokenManager:_,createdAt:k,lastLoginAt:w});return O&&Array.isArray(O)&&(I.providerData=O.map(b=>Object.assign({},b))),P&&(I._redirectEventId=P),I}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ri;s.updateFromServerResponse(n);const i=new Hn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await _c(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Q(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?XE(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Ri;a.updateFromIdToken(r);const l=new Hn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new pp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,d),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=new Map;function qn(t){sr(t instanceof Function,"Expected a class definition");let e=A1.get(t);return e?(sr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,A1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}JE.type="NONE";const N1=JE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(t,e,n){return`firebase:${t}:${e}:${n}`}class ji{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Au(this.userKey,s.apiKey,i),this.fullPersistenceKey=Au("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Hn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ji(qn(N1),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||qn(N1);const o=Au(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const h=await d._get(o);if(h){const f=Hn._fromJSON(e,h);d!==i&&(a=f),i=d;break}}catch{}const l=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new ji(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new ji(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sT(e))return"Blackberry";if(iT(e))return"Webos";if(eT(e))return"Safari";if((e.includes("chrome/")||tT(e))&&!e.includes("edge/"))return"Chrome";if(rT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ZE(t=ht()){return/firefox\//i.test(t)}function eT(t=ht()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tT(t=ht()){return/crios\//i.test(t)}function nT(t=ht()){return/iemobile/i.test(t)}function rT(t=ht()){return/android/i.test(t)}function sT(t=ht()){return/blackberry/i.test(t)}function iT(t=ht()){return/webos/i.test(t)}function ag(t=ht()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function k3(t=ht()){var e;return ag(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function I3(){return B4()&&document.documentMode===10}function oT(t=ht()){return ag(t)||rT(t)||iT(t)||sT(t)||/windows phone/i.test(t)||nT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t,e=[]){let n;switch(t){case"Browser":n=R1(ht());break;case"Worker":n=`${R1(ht())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b3(t,e={}){return Rn(t,"GET","/v2/passwordPolicy",dr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C3=6;class P3{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:C3,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new j1(this),this.idTokenSubscription=new j1(this),this.beforeStateQueue=new S3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qn(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await ji.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await YE(this,{idToken:e}),r=await Hn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(vn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _c(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=u3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(vn(this.app))return Promise.reject(Yn(this));const n=e?wt(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return vn(this.app)?Promise.reject(Yn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return vn(this.app)?Promise.reject(Yn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await b3(this),n=new P3(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ll("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await T3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qn(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=await ji.create(this,[qn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&o3(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function as(t){return wt(t)}class j1{constructor(e){this.auth=e,this.observer=null,this.addObserver=Q4(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function N3(t){pd=t}function lT(t){return pd.loadJS(t)}function R3(){return pd.recaptchaEnterpriseScript}function j3(){return pd.gapiScript}function D3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const L3="recaptcha-enterprise",V3="NO_RECAPTCHA";class O3{constructor(e){this.type=L3,this.auth=as(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{m3(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new p3(l);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;C1(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(V3)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&C1(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=R3();l.length!==0&&(l+=a),lT(l).then(()=>{s(a,i,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}}async function D1(t,e,n,r=!1){const s=new O3(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ec(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await D1(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await D1(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M3(t,e){const n=fd(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(vc(i,e??{}))return s;hn(s,"already-initialized")}return n.initialize({options:e})}function F3(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function U3(t,e,n){const r=as(t);Q(r._canInitEmulator,r,"emulator-config-failed"),Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=uT(e),{host:o,port:a}=B3(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),$3()}function uT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function B3(t){const e=uT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:L1(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:L1(o)}}}function L1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $3(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wn("not implemented")}_getIdTokenResponse(e){return Wn("not implemented")}_linkToIdToken(e,n){return Wn("not implemented")}_getReauthenticationResolver(e){return Wn("not implemented")}}async function z3(t,e){return Rn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W3(t,e){return dl(t,"POST","/v1/accounts:signInWithPassword",dr(t,e))}async function H3(t,e){return Rn(t,"POST","/v1/accounts:sendOobCode",dr(t,e))}async function q3(t,e){return H3(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K3(t,e){return dl(t,"POST","/v1/accounts:signInWithEmailLink",dr(t,e))}async function G3(t,e){return dl(t,"POST","/v1/accounts:signInWithEmailLink",dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a extends lg{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new $a(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new $a(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ec(e,n,"signInWithPassword",W3);case"emailLink":return K3(e,{email:this._email,oobCode:this._password});default:hn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ec(e,r,"signUpPassword",z3);case"emailLink":return G3(e,{idToken:n,email:this._email,oobCode:this._password});default:hn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Di(t,e){return dl(t,"POST","/v1/accounts:signInWithIdp",dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3="http://localhost";class Fs extends lg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Fs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=rg(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Fs(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Di(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Di(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Di(e,n)}buildRequest(){const e={requestUri:Q3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ul(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y3(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function X3(t){const e=qo(Ko(t)).link,n=e?qo(Ko(e)).deep_link_id:null,r=qo(Ko(t)).deep_link_id;return(r?qo(Ko(r)).link:null)||r||n||e||t}class ug{constructor(e){var n,r,s,i,o,a;const l=qo(Ko(e)),d=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,f=Y3((s=l.mode)!==null&&s!==void 0?s:null);Q(d&&h&&f,"argument-error"),this.apiKey=d,this.operation=f,this.code=h,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=X3(e);try{return new ug(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.providerId=oo.PROVIDER_ID}static credential(e,n){return $a._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ug.parseLink(n);return Q(r,"argument-error"),$a._fromEmailAndCode(e,r.code,r.tenantId)}}oo.PROVIDER_ID="password";oo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";oo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl extends cT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends hl{constructor(){super("facebook.com")}static credential(e){return Fs._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends hl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Fs._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ir.credential(n,r)}catch{return null}}}Ir.GOOGLE_SIGN_IN_METHOD="google.com";Ir.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends hl{constructor(){super("github.com")}static credential(e){return Fs._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sr.credential(e.oauthAccessToken)}catch{return null}}}Sr.GITHUB_SIGN_IN_METHOD="github.com";Sr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends hl{constructor(){super("twitter.com")}static credential(e,n){return Fs._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return br.credential(n,r)}catch{return null}}}br.TWITTER_SIGN_IN_METHOD="twitter.com";br.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J3(t,e){return dl(t,"POST","/v1/accounts:signUp",dr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Hn._fromIdTokenResponse(e,r,s),o=V1(r);return new Us({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=V1(r);return new Us({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function V1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends Nn{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Tc.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Tc(e,n,r,s)}}function dT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Tc._fromErrorAndOperation(t,i,e,r):i})}async function Z3(t,e,n=!1){const r=await Hi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Us._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ej(t,e,n=!1){const{auth:r}=t;if(vn(r.app))return Promise.reject(Yn(r));const s="reauthenticate";try{const i=await Hi(t,dT(r,s,e,t),n);Q(i.idToken,r,"internal-error");const o=og(i.idToken);Q(o,r,"internal-error");const{sub:a}=o;return Q(t.uid===a,r,"user-mismatch"),Us._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&hn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hT(t,e,n=!1){if(vn(t.app))return Promise.reject(Yn(t));const r="signIn",s=await dT(t,r,e),i=await Us._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function tj(t,e){return hT(as(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fT(t){const e=as(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function nj(t,e,n){const r=as(t);await Ec(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",q3)}async function rj(t,e,n){if(vn(t.app))return Promise.reject(Yn(t));const r=as(t),o=await Ec(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",J3).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&fT(t),l}),a=await Us._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function sj(t,e,n){return vn(t.app)?Promise.reject(Yn(t)):tj(wt(t),oo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fT(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ij(t,e){return Rn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oj(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=wt(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Hi(r,ij(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function aj(t,e,n,r){return wt(t).onIdTokenChanged(e,n,r)}function lj(t,e,n){return wt(t).beforeAuthStateChanged(e,n)}function uj(t,e,n,r){return wt(t).onAuthStateChanged(e,n,r)}function cj(t){return wt(t).signOut()}const kc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kc,"1"),this.storage.removeItem(kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=1e3,hj=10;class mT extends pT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);I3()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,hj):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},dj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}mT.type="LOCAL";const fj=mT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT extends pT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gT.type="SESSION";const yT=gT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new md(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async d=>d(n.origin,i)),l=await pj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}md.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const d=cg("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kn(){return window}function gj(t){kn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(){return typeof kn().WorkerGlobalScope<"u"&&typeof kn().importScripts=="function"}async function yj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function xj(){return vT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="firebaseLocalStorageDb",wj=1,Ic="firebaseLocalStorage",wT="fbase_key";class fl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gd(t,e){return t.transaction([Ic],e?"readwrite":"readonly").objectStore(Ic)}function _j(){const t=indexedDB.deleteDatabase(xT);return new fl(t).toPromise()}function mp(){const t=indexedDB.open(xT,wj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ic,{keyPath:wT})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ic)?e(r):(r.close(),await _j(),e(await mp()))})})}async function O1(t,e,n){const r=gd(t,!0).put({[wT]:e,value:n});return new fl(r).toPromise()}async function Ej(t,e){const n=gd(t,!1).get(e),r=await new fl(n).toPromise();return r===void 0?null:r.value}function M1(t,e){const n=gd(t,!0).delete(e);return new fl(n).toPromise()}const Tj=800,kj=3;class _T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>kj)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=md._getInstance(xj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await yj(),!this.activeServiceWorker)return;this.sender=new mj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mp();return await O1(e,kc,"1"),await M1(e,kc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>O1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Ej(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>M1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=gd(s,!1).getAll();return new fl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Tj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_T.type="LOCAL";const Ij=_T;new cl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sj(t,e){return e?qn(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg extends lg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Di(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Di(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Di(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bj(t){return hT(t.auth,new dg(t),t.bypassAuthState)}function Cj(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),ej(n,new dg(t),t.bypassAuthState)}async function Pj(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),Z3(n,new dg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bj;case"linkViaPopup":case"linkViaRedirect":return Pj;case"reauthViaPopup":case"reauthViaRedirect":return Cj;default:hn(this.auth,"internal-error")}}resolve(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj=new cl(2e3,1e4);class ki extends ET{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ki.currentPopupAction&&ki.currentPopupAction.cancel(),ki.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Q(e,this.auth,"internal-error"),e}async onExecution(){sr(this.filter.length===1,"Popup operations only handle one event");const e=cg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Tn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Tn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ki.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Aj.get())};e()}}ki.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj="pendingRedirect",Nu=new Map;class Rj extends ET{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Nu.get(this.auth._key());if(!e){try{const r=await jj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Nu.set(this.auth._key(),e)}return this.bypassAuthState||Nu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jj(t,e){const n=Vj(e),r=Lj(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Dj(t,e){Nu.set(t._key(),e)}function Lj(t){return qn(t._redirectPersistence)}function Vj(t){return Au(Nj,t.config.apiKey,t.name)}async function Oj(t,e,n=!1){if(vn(t.app))return Promise.reject(Yn(t));const r=as(t),s=Sj(r,e),o=await new Rj(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mj=10*60*1e3;class Fj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Uj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!TT(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Tn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Mj&&this.cachedEventUids.clear(),this.cachedEventUids.has(F1(e))}saveEventToCache(e){this.cachedEventUids.add(F1(e)),this.lastProcessedEventTime=Date.now()}}function F1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function TT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Uj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bj(t,e={}){return Rn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zj=/^https?/;async function Wj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Bj(t);for(const n of e)try{if(Hj(n))return}catch{}hn(t,"unauthorized-domain")}function Hj(t){const e=fp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!zj.test(n))return!1;if($j.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj=new cl(3e4,6e4);function U1(){const t=kn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Kj(t){return new Promise((e,n)=>{var r,s,i;function o(){U1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{U1(),n(Tn(t,"network-request-failed"))},timeout:qj.get()})}if(!((s=(r=kn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=kn().gapi)===null||i===void 0)&&i.load)o();else{const a=D3("iframefcb");return kn()[a]=()=>{gapi.load?o():n(Tn(t,"network-request-failed"))},lT(`${j3()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ru=null,e})}let Ru=null;function Gj(t){return Ru=Ru||Kj(t),Ru}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=new cl(5e3,15e3),Yj="__/auth/iframe",Xj="emulator/auth/iframe",Jj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function e6(t){const e=t.config;Q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ig(e,Xj):`https://${t.config.authDomain}/${Yj}`,r={apiKey:e.apiKey,appName:t.name,v:Gs},s=Zj.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${ul(r).slice(1)}`}async function t6(t){const e=await Gj(t),n=kn().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:e6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jj,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Tn(t,"network-request-failed"),a=kn().setTimeout(()=>{i(o)},Qj.get());function l(){kn().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},r6=500,s6=600,i6="_blank",o6="http://localhost";class B1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function a6(t,e,n,r=r6,s=s6){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},n6),{width:r.toString(),height:s.toString(),top:i,left:o}),d=ht().toLowerCase();n&&(a=tT(d)?i6:n),ZE(d)&&(e=e||o6,l.scrollbars="yes");const h=Object.entries(l).reduce((m,[y,x])=>`${m}${y}=${x},`,"");if(k3(d)&&a!=="_self")return l6(e||"",a),new B1(null);const f=window.open(e||"",a,h);Q(f,t,"popup-blocked");try{f.focus()}catch{}return new B1(f)}function l6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6="__/auth/handler",c6="emulator/auth/handler",d6=encodeURIComponent("fac");async function $1(t,e,n,r,s,i){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Gs,eventId:s};if(e instanceof cT){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",G4(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof hl){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),d=l?`#${d6}=${encodeURIComponent(l)}`:"";return`${h6(t)}?${ul(a).slice(1)}${d}`}function h6({config:t}){return t.emulator?ig(t,c6):`https://${t.authDomain}/${u6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h="webStorageSupport";class f6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yT,this._completeRedirectFn=Oj,this._overrideRedirectResult=Dj}async _openPopup(e,n,r,s){var i;sr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await $1(e,n,r,fp(),s);return a6(e,o,cg())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await $1(e,n,r,fp(),s);return gj(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(sr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await t6(e),r=new Fj(e);return n.register("authEvent",s=>(Q(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($h,{type:$h},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[$h];o!==void 0&&n(!!o),hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Wj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return oT()||eT()||ag()}}const p6=f6;var z1="@firebase/auth",W1="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function y6(t){Ms(new Jr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aT(t)},d=new A3(r,s,i,l);return F3(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ms(new Jr("auth-internal",e=>{const n=as(e.getProvider("auth").getImmediate());return(r=>new m6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),En(z1,W1,g6(t)),En(z1,W1,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6=5*60,x6=OE("authIdTokenMaxAge")||v6;let H1=null;const w6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>x6)return;const s=n==null?void 0:n.token;H1!==s&&(H1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function _6(t=ng()){const e=fd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=M3(t,{popupRedirectResolver:p6,persistence:[Ij,fj,yT]}),r=OE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=w6(i.toString());lj(n,o,()=>o(n.currentUser)),aj(n,a=>o(a))}}const s=DE("auth");return s&&U3(n,`http://${s}`),n}function E6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}N3({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Tn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",E6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});y6("Browser");var q1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var As,kT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,_){function I(){}I.prototype=_.prototype,C.D=_.prototype,C.prototype=new I,C.prototype.constructor=C,C.C=function(b,N,j){for(var A=Array(arguments.length-2),de=2;de<arguments.length;de++)A[de-2]=arguments[de];return _.prototype[N].apply(b,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,_,I){I||(I=0);var b=Array(16);if(typeof _=="string")for(var N=0;16>N;++N)b[N]=_.charCodeAt(I++)|_.charCodeAt(I++)<<8|_.charCodeAt(I++)<<16|_.charCodeAt(I++)<<24;else for(N=0;16>N;++N)b[N]=_[I++]|_[I++]<<8|_[I++]<<16|_[I++]<<24;_=C.g[0],I=C.g[1],N=C.g[2];var j=C.g[3],A=_+(j^I&(N^j))+b[0]+3614090360&4294967295;_=I+(A<<7&4294967295|A>>>25),A=j+(N^_&(I^N))+b[1]+3905402710&4294967295,j=_+(A<<12&4294967295|A>>>20),A=N+(I^j&(_^I))+b[2]+606105819&4294967295,N=j+(A<<17&4294967295|A>>>15),A=I+(_^N&(j^_))+b[3]+3250441966&4294967295,I=N+(A<<22&4294967295|A>>>10),A=_+(j^I&(N^j))+b[4]+4118548399&4294967295,_=I+(A<<7&4294967295|A>>>25),A=j+(N^_&(I^N))+b[5]+1200080426&4294967295,j=_+(A<<12&4294967295|A>>>20),A=N+(I^j&(_^I))+b[6]+2821735955&4294967295,N=j+(A<<17&4294967295|A>>>15),A=I+(_^N&(j^_))+b[7]+4249261313&4294967295,I=N+(A<<22&4294967295|A>>>10),A=_+(j^I&(N^j))+b[8]+1770035416&4294967295,_=I+(A<<7&4294967295|A>>>25),A=j+(N^_&(I^N))+b[9]+2336552879&4294967295,j=_+(A<<12&4294967295|A>>>20),A=N+(I^j&(_^I))+b[10]+4294925233&4294967295,N=j+(A<<17&4294967295|A>>>15),A=I+(_^N&(j^_))+b[11]+2304563134&4294967295,I=N+(A<<22&4294967295|A>>>10),A=_+(j^I&(N^j))+b[12]+1804603682&4294967295,_=I+(A<<7&4294967295|A>>>25),A=j+(N^_&(I^N))+b[13]+4254626195&4294967295,j=_+(A<<12&4294967295|A>>>20),A=N+(I^j&(_^I))+b[14]+2792965006&4294967295,N=j+(A<<17&4294967295|A>>>15),A=I+(_^N&(j^_))+b[15]+1236535329&4294967295,I=N+(A<<22&4294967295|A>>>10),A=_+(N^j&(I^N))+b[1]+4129170786&4294967295,_=I+(A<<5&4294967295|A>>>27),A=j+(I^N&(_^I))+b[6]+3225465664&4294967295,j=_+(A<<9&4294967295|A>>>23),A=N+(_^I&(j^_))+b[11]+643717713&4294967295,N=j+(A<<14&4294967295|A>>>18),A=I+(j^_&(N^j))+b[0]+3921069994&4294967295,I=N+(A<<20&4294967295|A>>>12),A=_+(N^j&(I^N))+b[5]+3593408605&4294967295,_=I+(A<<5&4294967295|A>>>27),A=j+(I^N&(_^I))+b[10]+38016083&4294967295,j=_+(A<<9&4294967295|A>>>23),A=N+(_^I&(j^_))+b[15]+3634488961&4294967295,N=j+(A<<14&4294967295|A>>>18),A=I+(j^_&(N^j))+b[4]+3889429448&4294967295,I=N+(A<<20&4294967295|A>>>12),A=_+(N^j&(I^N))+b[9]+568446438&4294967295,_=I+(A<<5&4294967295|A>>>27),A=j+(I^N&(_^I))+b[14]+3275163606&4294967295,j=_+(A<<9&4294967295|A>>>23),A=N+(_^I&(j^_))+b[3]+4107603335&4294967295,N=j+(A<<14&4294967295|A>>>18),A=I+(j^_&(N^j))+b[8]+1163531501&4294967295,I=N+(A<<20&4294967295|A>>>12),A=_+(N^j&(I^N))+b[13]+2850285829&4294967295,_=I+(A<<5&4294967295|A>>>27),A=j+(I^N&(_^I))+b[2]+4243563512&4294967295,j=_+(A<<9&4294967295|A>>>23),A=N+(_^I&(j^_))+b[7]+1735328473&4294967295,N=j+(A<<14&4294967295|A>>>18),A=I+(j^_&(N^j))+b[12]+2368359562&4294967295,I=N+(A<<20&4294967295|A>>>12),A=_+(I^N^j)+b[5]+4294588738&4294967295,_=I+(A<<4&4294967295|A>>>28),A=j+(_^I^N)+b[8]+2272392833&4294967295,j=_+(A<<11&4294967295|A>>>21),A=N+(j^_^I)+b[11]+1839030562&4294967295,N=j+(A<<16&4294967295|A>>>16),A=I+(N^j^_)+b[14]+4259657740&4294967295,I=N+(A<<23&4294967295|A>>>9),A=_+(I^N^j)+b[1]+2763975236&4294967295,_=I+(A<<4&4294967295|A>>>28),A=j+(_^I^N)+b[4]+1272893353&4294967295,j=_+(A<<11&4294967295|A>>>21),A=N+(j^_^I)+b[7]+4139469664&4294967295,N=j+(A<<16&4294967295|A>>>16),A=I+(N^j^_)+b[10]+3200236656&4294967295,I=N+(A<<23&4294967295|A>>>9),A=_+(I^N^j)+b[13]+681279174&4294967295,_=I+(A<<4&4294967295|A>>>28),A=j+(_^I^N)+b[0]+3936430074&4294967295,j=_+(A<<11&4294967295|A>>>21),A=N+(j^_^I)+b[3]+3572445317&4294967295,N=j+(A<<16&4294967295|A>>>16),A=I+(N^j^_)+b[6]+76029189&4294967295,I=N+(A<<23&4294967295|A>>>9),A=_+(I^N^j)+b[9]+3654602809&4294967295,_=I+(A<<4&4294967295|A>>>28),A=j+(_^I^N)+b[12]+3873151461&4294967295,j=_+(A<<11&4294967295|A>>>21),A=N+(j^_^I)+b[15]+530742520&4294967295,N=j+(A<<16&4294967295|A>>>16),A=I+(N^j^_)+b[2]+3299628645&4294967295,I=N+(A<<23&4294967295|A>>>9),A=_+(N^(I|~j))+b[0]+4096336452&4294967295,_=I+(A<<6&4294967295|A>>>26),A=j+(I^(_|~N))+b[7]+1126891415&4294967295,j=_+(A<<10&4294967295|A>>>22),A=N+(_^(j|~I))+b[14]+2878612391&4294967295,N=j+(A<<15&4294967295|A>>>17),A=I+(j^(N|~_))+b[5]+4237533241&4294967295,I=N+(A<<21&4294967295|A>>>11),A=_+(N^(I|~j))+b[12]+1700485571&4294967295,_=I+(A<<6&4294967295|A>>>26),A=j+(I^(_|~N))+b[3]+2399980690&4294967295,j=_+(A<<10&4294967295|A>>>22),A=N+(_^(j|~I))+b[10]+4293915773&4294967295,N=j+(A<<15&4294967295|A>>>17),A=I+(j^(N|~_))+b[1]+2240044497&4294967295,I=N+(A<<21&4294967295|A>>>11),A=_+(N^(I|~j))+b[8]+1873313359&4294967295,_=I+(A<<6&4294967295|A>>>26),A=j+(I^(_|~N))+b[15]+4264355552&4294967295,j=_+(A<<10&4294967295|A>>>22),A=N+(_^(j|~I))+b[6]+2734768916&4294967295,N=j+(A<<15&4294967295|A>>>17),A=I+(j^(N|~_))+b[13]+1309151649&4294967295,I=N+(A<<21&4294967295|A>>>11),A=_+(N^(I|~j))+b[4]+4149444226&4294967295,_=I+(A<<6&4294967295|A>>>26),A=j+(I^(_|~N))+b[11]+3174756917&4294967295,j=_+(A<<10&4294967295|A>>>22),A=N+(_^(j|~I))+b[2]+718787259&4294967295,N=j+(A<<15&4294967295|A>>>17),A=I+(j^(N|~_))+b[9]+3951481745&4294967295,C.g[0]=C.g[0]+_&4294967295,C.g[1]=C.g[1]+(N+(A<<21&4294967295|A>>>11))&4294967295,C.g[2]=C.g[2]+N&4294967295,C.g[3]=C.g[3]+j&4294967295}r.prototype.u=function(C,_){_===void 0&&(_=C.length);for(var I=_-this.blockSize,b=this.B,N=this.h,j=0;j<_;){if(N==0)for(;j<=I;)s(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<_;)if(b[N++]=C.charCodeAt(j++),N==this.blockSize){s(this,b),N=0;break}}else for(;j<_;)if(b[N++]=C[j++],N==this.blockSize){s(this,b),N=0;break}}this.h=N,this.o+=_},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var _=1;_<C.length-8;++_)C[_]=0;var I=8*this.o;for(_=C.length-8;_<C.length;++_)C[_]=I&255,I/=256;for(this.u(C),C=Array(16),_=I=0;4>_;++_)for(var b=0;32>b;b+=8)C[I++]=this.g[_]>>>b&255;return C};function i(C,_){var I=a;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=_(C)}function o(C,_){this.h=_;for(var I=[],b=!0,N=C.length-1;0<=N;N--){var j=C[N]|0;b&&j==_||(I[N]=j,b=!1)}this.g=I}var a={};function l(C){return-128<=C&&128>C?i(C,function(_){return new o([_|0],0>_?-1:0)}):new o([C|0],0>C?-1:0)}function d(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return P(d(-C));for(var _=[],I=1,b=0;C>=I;b++)_[b]=C/I|0,I*=4294967296;return new o(_,0)}function h(C,_){if(C.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(C.charAt(0)=="-")return P(h(C.substring(1),_));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=d(Math.pow(_,8)),b=f,N=0;N<C.length;N+=8){var j=Math.min(8,C.length-N),A=parseInt(C.substring(N,N+j),_);8>j?(j=d(Math.pow(_,j)),b=b.j(j).add(d(A))):(b=b.j(I),b=b.add(d(A)))}return b}var f=l(0),m=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(S(this))return-P(this).m();for(var C=0,_=1,I=0;I<this.g.length;I++){var b=this.i(I);C+=(0<=b?b:4294967296+b)*_,_*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(x(this))return"0";if(S(this))return"-"+P(this).toString(C);for(var _=d(Math.pow(C,6)),I=this,b="";;){var N=R(I,_).g;I=k(I,N.j(_));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(C);if(I=N,x(I))return j+b;for(;6>j.length;)j="0"+j;b=j+b}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function x(C){if(C.h!=0)return!1;for(var _=0;_<C.g.length;_++)if(C.g[_]!=0)return!1;return!0}function S(C){return C.h==-1}t.l=function(C){return C=k(this,C),S(C)?-1:x(C)?0:1};function P(C){for(var _=C.g.length,I=[],b=0;b<_;b++)I[b]=~C.g[b];return new o(I,~C.h).add(m)}t.abs=function(){return S(this)?P(this):this},t.add=function(C){for(var _=Math.max(this.g.length,C.g.length),I=[],b=0,N=0;N<=_;N++){var j=b+(this.i(N)&65535)+(C.i(N)&65535),A=(j>>>16)+(this.i(N)>>>16)+(C.i(N)>>>16);b=A>>>16,j&=65535,A&=65535,I[N]=A<<16|j}return new o(I,I[I.length-1]&-2147483648?-1:0)};function k(C,_){return C.add(P(_))}t.j=function(C){if(x(this)||x(C))return f;if(S(this))return S(C)?P(this).j(P(C)):P(P(this).j(C));if(S(C))return P(this.j(P(C)));if(0>this.l(y)&&0>C.l(y))return d(this.m()*C.m());for(var _=this.g.length+C.g.length,I=[],b=0;b<2*_;b++)I[b]=0;for(b=0;b<this.g.length;b++)for(var N=0;N<C.g.length;N++){var j=this.i(b)>>>16,A=this.i(b)&65535,de=C.i(N)>>>16,et=C.i(N)&65535;I[2*b+2*N]+=A*et,w(I,2*b+2*N),I[2*b+2*N+1]+=j*et,w(I,2*b+2*N+1),I[2*b+2*N+1]+=A*de,w(I,2*b+2*N+1),I[2*b+2*N+2]+=j*de,w(I,2*b+2*N+2)}for(b=0;b<_;b++)I[b]=I[2*b+1]<<16|I[2*b];for(b=_;b<2*_;b++)I[b]=0;return new o(I,0)};function w(C,_){for(;(C[_]&65535)!=C[_];)C[_+1]+=C[_]>>>16,C[_]&=65535,_++}function E(C,_){this.g=C,this.h=_}function R(C,_){if(x(_))throw Error("division by zero");if(x(C))return new E(f,f);if(S(C))return _=R(P(C),_),new E(P(_.g),P(_.h));if(S(_))return _=R(C,P(_)),new E(P(_.g),_.h);if(30<C.g.length){if(S(C)||S(_))throw Error("slowDivide_ only works with positive integers.");for(var I=m,b=_;0>=b.l(C);)I=V(I),b=V(b);var N=O(I,1),j=O(b,1);for(b=O(b,2),I=O(I,2);!x(b);){var A=j.add(b);0>=A.l(C)&&(N=N.add(I),j=A),b=O(b,1),I=O(I,1)}return _=k(C,N.j(_)),new E(N,_)}for(N=f;0<=C.l(_);){for(I=Math.max(1,Math.floor(C.m()/_.m())),b=Math.ceil(Math.log(I)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),j=d(I),A=j.j(_);S(A)||0<A.l(C);)I-=b,j=d(I),A=j.j(_);x(j)&&(j=m),N=N.add(j),C=k(C,A)}return new E(N,C)}t.A=function(C){return R(this,C).h},t.and=function(C){for(var _=Math.max(this.g.length,C.g.length),I=[],b=0;b<_;b++)I[b]=this.i(b)&C.i(b);return new o(I,this.h&C.h)},t.or=function(C){for(var _=Math.max(this.g.length,C.g.length),I=[],b=0;b<_;b++)I[b]=this.i(b)|C.i(b);return new o(I,this.h|C.h)},t.xor=function(C){for(var _=Math.max(this.g.length,C.g.length),I=[],b=0;b<_;b++)I[b]=this.i(b)^C.i(b);return new o(I,this.h^C.h)};function V(C){for(var _=C.g.length+1,I=[],b=0;b<_;b++)I[b]=C.i(b)<<1|C.i(b-1)>>>31;return new o(I,C.h)}function O(C,_){var I=_>>5;_%=32;for(var b=C.g.length-I,N=[],j=0;j<b;j++)N[j]=0<_?C.i(j+I)>>>_|C.i(j+I+1)<<32-_:C.i(j+I);return new o(N,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,kT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,As=o}).apply(typeof q1<"u"?q1:typeof self<"u"?self:typeof window<"u"?window:{});var au=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IT,Go,ST,ju,gp,bT,CT,PT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,g){return u==Array.prototype||u==Object.prototype||(u[p]=g.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof au=="object"&&au];for(var p=0;p<u.length;++p){var g=u[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(u,p){if(p)e:{var g=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var D=u[T];if(!(D in g))break e;g=g[D]}u=u[u.length-1],T=g[u],p=p(T),p!=T&&p!=null&&e(g,u,{configurable:!0,writable:!0,value:p})}}function i(u,p){u instanceof String&&(u+="");var g=0,T=!1,D={next:function(){if(!T&&g<u.length){var L=g++;return{value:p(L,u[L]),done:!1}}return T=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}s("Array.prototype.values",function(u){return u||function(){return i(this,function(p,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function d(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function h(u,p,g){return u.call.apply(u.bind,arguments)}function f(u,p,g){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,T),u.apply(p,D)}}return function(){return u.apply(p,arguments)}}function m(u,p,g){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function y(u,p){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function x(u,p){function g(){}g.prototype=p.prototype,u.aa=p.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(T,D,L){for(var B=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)B[pe-2]=arguments[pe];return p.prototype[D].apply(T,B)}}function S(u){const p=u.length;if(0<p){const g=Array(p);for(let T=0;T<p;T++)g[T]=u[T];return g}return[]}function P(u,p){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(l(T)){const D=u.length||0,L=T.length||0;u.length=D+L;for(let B=0;B<L;B++)u[D+B]=T[B]}else u.push(T)}}class k{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function w(u){return/^[\s\xa0]*$/.test(u)}function E(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function R(u){return R[" "](u),u}R[" "]=function(){};var V=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function O(u,p,g){for(const T in u)p.call(g,u[T],T,u)}function C(u,p){for(const g in u)p.call(void 0,u[g],g,u)}function _(u){const p={};for(const g in u)p[g]=u[g];return p}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(u,p){let g,T;for(let D=1;D<arguments.length;D++){T=arguments[D];for(g in T)u[g]=T[g];for(let L=0;L<I.length;L++)g=I[L],Object.prototype.hasOwnProperty.call(T,g)&&(u[g]=T[g])}}function N(u){var p=1;u=u.split(":");const g=[];for(;0<p&&u.length;)g.push(u.shift()),p--;return u.length&&g.push(u.join(":")),g}function j(u){a.setTimeout(()=>{throw u},0)}function A(){var u=H;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class de{constructor(){this.h=this.g=null}add(p,g){const T=et.get();T.set(p,g),this.h?this.h.next=T:this.g=T,this.h=T}}var et=new k(()=>new Ee,u=>u.reset());class Ee{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let $e,$=!1,H=new de,J=()=>{const u=a.Promise.resolve(void 0);$e=()=>{u.then(Y)}};var Y=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(g){j(g)}var p=et;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}$=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function we(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}we.prototype.h=function(){this.defaultPrevented=!0};var Mt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};a.addEventListener("test",g,p),a.removeEventListener("test",g,p)}catch{}return u}();function Ft(u,p){if(we.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(V){e:{try{R(p.nodeName);var D=!0;break e}catch{}D=!1}D||(p=null)}}else g=="mouseover"?p=u.fromElement:g=="mouseout"&&(p=u.toElement);this.relatedTarget=p,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ft[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ft.aa.h.call(this)}}x(Ft,we);var ft={2:"touch",3:"pen",4:"mouse"};Ft.prototype.h=function(){Ft.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ut="closure_listenable_"+(1e6*Math.random()|0),Cd=0;function po(u,p,g,T,D){this.listener=u,this.proxy=null,this.src=p,this.type=g,this.capture=!!T,this.ha=D,this.key=++Cd,this.da=this.fa=!1}function Dn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Bt(u){this.src=u,this.g={},this.h=0}Bt.prototype.add=function(u,p,g,T,D){var L=u.toString();u=this.g[L],u||(u=this.g[L]=[],this.h++);var B=Pd(u,p,T,D);return-1<B?(p=u[B],g||(p.fa=!1)):(p=new po(p,this.src,L,!!T,D),p.fa=g,u.push(p)),p};function El(u,p){var g=p.type;if(g in u.g){var T=u.g[g],D=Array.prototype.indexOf.call(T,p,void 0),L;(L=0<=D)&&Array.prototype.splice.call(T,D,1),L&&(Dn(p),u.g[g].length==0&&(delete u.g[g],u.h--))}}function Pd(u,p,g,T){for(var D=0;D<u.length;++D){var L=u[D];if(!L.da&&L.listener==p&&L.capture==!!g&&L.ha==T)return D}return-1}var Ad="closure_lm_"+(1e6*Math.random()|0),Nd={};function Xg(u,p,g,T,D){if(Array.isArray(p)){for(var L=0;L<p.length;L++)Xg(u,p[L],g,T,D);return null}return g=e0(g),u&&u[Ut]?u.K(p,g,d(T)?!!T.capture:!1,D):oI(u,p,g,!1,T,D)}function oI(u,p,g,T,D,L){if(!p)throw Error("Invalid event type");var B=d(D)?!!D.capture:!!D,pe=jd(u);if(pe||(u[Ad]=pe=new Bt(u)),g=pe.add(p,g,T,B,L),g.proxy)return g;if(T=aI(),g.proxy=T,T.src=u,T.listener=g,u.addEventListener)Mt||(D=B),D===void 0&&(D=!1),u.addEventListener(p.toString(),T,D);else if(u.attachEvent)u.attachEvent(Zg(p.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function aI(){function u(g){return p.call(u.src,u.listener,g)}const p=lI;return u}function Jg(u,p,g,T,D){if(Array.isArray(p))for(var L=0;L<p.length;L++)Jg(u,p[L],g,T,D);else T=d(T)?!!T.capture:!!T,g=e0(g),u&&u[Ut]?(u=u.i,p=String(p).toString(),p in u.g&&(L=u.g[p],g=Pd(L,g,T,D),-1<g&&(Dn(L[g]),Array.prototype.splice.call(L,g,1),L.length==0&&(delete u.g[p],u.h--)))):u&&(u=jd(u))&&(p=u.g[p.toString()],u=-1,p&&(u=Pd(p,g,T,D)),(g=-1<u?p[u]:null)&&Rd(g))}function Rd(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[Ut])El(p.i,u);else{var g=u.type,T=u.proxy;p.removeEventListener?p.removeEventListener(g,T,u.capture):p.detachEvent?p.detachEvent(Zg(g),T):p.addListener&&p.removeListener&&p.removeListener(T),(g=jd(p))?(El(g,u),g.h==0&&(g.src=null,p[Ad]=null)):Dn(u)}}}function Zg(u){return u in Nd?Nd[u]:Nd[u]="on"+u}function lI(u,p){if(u.da)u=!0;else{p=new Ft(p,this);var g=u.listener,T=u.ha||u.src;u.fa&&Rd(u),u=g.call(T,p)}return u}function jd(u){return u=u[Ad],u instanceof Bt?u:null}var Dd="__closure_events_fn_"+(1e9*Math.random()>>>0);function e0(u){return typeof u=="function"?u:(u[Dd]||(u[Dd]=function(p){return u.handleEvent(p)}),u[Dd])}function tt(){oe.call(this),this.i=new Bt(this),this.M=this,this.F=null}x(tt,oe),tt.prototype[Ut]=!0,tt.prototype.removeEventListener=function(u,p,g,T){Jg(this,u,p,g,T)};function pt(u,p){var g,T=u.F;if(T)for(g=[];T;T=T.F)g.push(T);if(u=u.M,T=p.type||p,typeof p=="string")p=new we(p,u);else if(p instanceof we)p.target=p.target||u;else{var D=p;p=new we(T,u),b(p,D)}if(D=!0,g)for(var L=g.length-1;0<=L;L--){var B=p.g=g[L];D=Tl(B,T,!0,p)&&D}if(B=p.g=u,D=Tl(B,T,!0,p)&&D,D=Tl(B,T,!1,p)&&D,g)for(L=0;L<g.length;L++)B=p.g=g[L],D=Tl(B,T,!1,p)&&D}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var g=u.g[p],T=0;T<g.length;T++)Dn(g[T]);delete u.g[p],u.h--}}this.F=null},tt.prototype.K=function(u,p,g,T){return this.i.add(String(u),p,!1,g,T)},tt.prototype.L=function(u,p,g,T){return this.i.add(String(u),p,!0,g,T)};function Tl(u,p,g,T){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var D=!0,L=0;L<p.length;++L){var B=p[L];if(B&&!B.da&&B.capture==g){var pe=B.listener,qe=B.ha||B.src;B.fa&&El(u.i,B),D=pe.call(qe,T)!==!1&&D}}return D&&!T.defaultPrevented}function t0(u,p,g){if(typeof u=="function")g&&(u=m(u,g));else if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function n0(u){u.g=t0(()=>{u.g=null,u.i&&(u.i=!1,n0(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class uI extends oe{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:n0(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mo(u){oe.call(this),this.h=u,this.g={}}x(mo,oe);var r0=[];function s0(u){O(u.g,function(p,g){this.g.hasOwnProperty(g)&&Rd(p)},u),u.g={}}mo.prototype.N=function(){mo.aa.N.call(this),s0(this)},mo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ld=a.JSON.stringify,cI=a.JSON.parse,dI=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Vd(){}Vd.prototype.h=null;function i0(u){return u.h||(u.h=u.i())}function o0(){}var go={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Od(){we.call(this,"d")}x(Od,we);function Md(){we.call(this,"c")}x(Md,we);var cs={},a0=null;function kl(){return a0=a0||new tt}cs.La="serverreachability";function l0(u){we.call(this,cs.La,u)}x(l0,we);function yo(u){const p=kl();pt(p,new l0(p))}cs.STAT_EVENT="statevent";function u0(u,p){we.call(this,cs.STAT_EVENT,u),this.stat=p}x(u0,we);function mt(u){const p=kl();pt(p,new u0(p,u))}cs.Ma="timingevent";function c0(u,p){we.call(this,cs.Ma,u),this.size=p}x(c0,we);function vo(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function xo(){this.g=!0}xo.prototype.xa=function(){this.g=!1};function hI(u,p,g,T,D,L){u.info(function(){if(u.g)if(L)for(var B="",pe=L.split("&"),qe=0;qe<pe.length;qe++){var le=pe[qe].split("=");if(1<le.length){var nt=le[0];le=le[1];var rt=nt.split("_");B=2<=rt.length&&rt[1]=="type"?B+(nt+"="+le+"&"):B+(nt+"=redacted&")}}else B=null;else B=L;return"XMLHTTP REQ ("+T+") [attempt "+D+"]: "+p+`
`+g+`
`+B})}function fI(u,p,g,T,D,L,B){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+D+"]: "+p+`
`+g+`
`+L+" "+B})}function Js(u,p,g,T){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+mI(u,g)+(T?" "+T:"")})}function pI(u,p){u.info(function(){return"TIMEOUT: "+p})}xo.prototype.info=function(){};function mI(u,p){if(!u.g)return p;if(!p)return null;try{var g=JSON.parse(p);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var T=g[u];if(!(2>T.length)){var D=T[1];if(Array.isArray(D)&&!(1>D.length)){var L=D[0];if(L!="noop"&&L!="stop"&&L!="close")for(var B=1;B<D.length;B++)D[B]=""}}}}return Ld(g)}catch{return p}}var Il={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},d0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Fd;function Sl(){}x(Sl,Vd),Sl.prototype.g=function(){return new XMLHttpRequest},Sl.prototype.i=function(){return{}},Fd=new Sl;function hr(u,p,g,T){this.j=u,this.i=p,this.l=g,this.R=T||1,this.U=new mo(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new h0}function h0(){this.i=null,this.g="",this.h=!1}var f0={},Ud={};function Bd(u,p,g){u.L=1,u.v=Al(Ln(p)),u.m=g,u.P=!0,p0(u,null)}function p0(u,p){u.F=Date.now(),bl(u),u.A=Ln(u.v);var g=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),C0(g.i,"t",T),u.C=0,g=u.j.J,u.h=new h0,u.g=q0(u.j,g?p:null,!u.m),0<u.O&&(u.M=new uI(m(u.Y,u,u.g),u.O)),p=u.U,g=u.g,T=u.ca;var D="readystatechange";Array.isArray(D)||(D&&(r0[0]=D.toString()),D=r0);for(var L=0;L<D.length;L++){var B=Xg(g,D[L],T||p.handleEvent,!1,p.h||p);if(!B)break;p.g[B.key]=B}p=u.H?_(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),yo(),hI(u.i,u.u,u.A,u.l,u.R,u.m)}hr.prototype.ca=function(u){u=u.target;const p=this.M;p&&Vn(u)==3?p.j():this.Y(u)},hr.prototype.Y=function(u){try{if(u==this.g)e:{const rt=Vn(this.g);var p=this.g.Ba();const ti=this.g.Z();if(!(3>rt)&&(rt!=3||this.g&&(this.h.h||this.g.oa()||L0(this.g)))){this.J||rt!=4||p==7||(p==8||0>=ti?yo(3):yo(2)),$d(this);var g=this.g.Z();this.X=g;t:if(m0(this)){var T=L0(this.g);u="";var D=T.length,L=Vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ds(this),wo(this);var B="";break t}this.h.i=new a.TextDecoder}for(p=0;p<D;p++)this.h.h=!0,u+=this.h.i.decode(T[p],{stream:!(L&&p==D-1)});T.length=0,this.h.g+=u,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=g==200,fI(this.i,this.u,this.A,this.l,this.R,rt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var pe,qe=this.g;if((pe=qe.g?qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(pe)){var le=pe;break t}}le=null}if(g=le)Js(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zd(this,g);else{this.o=!1,this.s=3,mt(12),ds(this),wo(this);break e}}if(this.P){g=!0;let Jt;for(;!this.J&&this.C<B.length;)if(Jt=gI(this,B),Jt==Ud){rt==4&&(this.s=4,mt(14),g=!1),Js(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==f0){this.s=4,mt(15),Js(this.i,this.l,B,"[Invalid Chunk]"),g=!1;break}else Js(this.i,this.l,Jt,null),zd(this,Jt);if(m0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rt!=4||B.length!=0||this.h.h||(this.s=1,mt(16),g=!1),this.o=this.o&&g,!g)Js(this.i,this.l,B,"[Invalid Chunked Response]"),ds(this),wo(this);else if(0<B.length&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.ba&&!nt.M&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Qd(nt),nt.M=!0,mt(11))}}else Js(this.i,this.l,B,null),zd(this,B);rt==4&&ds(this),this.o&&!this.J&&(rt==4?$0(this.j,this):(this.o=!1,bl(this)))}else jI(this.g),g==400&&0<B.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),ds(this),wo(this)}}}catch{}finally{}};function m0(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function gI(u,p){var g=u.C,T=p.indexOf(`
`,g);return T==-1?Ud:(g=Number(p.substring(g,T)),isNaN(g)?f0:(T+=1,T+g>p.length?Ud:(p=p.slice(T,T+g),u.C=T+g,p)))}hr.prototype.cancel=function(){this.J=!0,ds(this)};function bl(u){u.S=Date.now()+u.I,g0(u,u.I)}function g0(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=vo(m(u.ba,u),p)}function $d(u){u.B&&(a.clearTimeout(u.B),u.B=null)}hr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(pI(this.i,this.A),this.L!=2&&(yo(),mt(17)),ds(this),this.s=2,wo(this)):g0(this,this.S-u)};function wo(u){u.j.G==0||u.J||$0(u.j,u)}function ds(u){$d(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,s0(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function zd(u,p){try{var g=u.j;if(g.G!=0&&(g.g==u||Wd(g.h,u))){if(!u.K&&Wd(g.h,u)&&g.G==3){try{var T=g.Da.g.parse(p)}catch{T=null}if(Array.isArray(T)&&T.length==3){var D=T;if(D[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)Vl(g),Dl(g);else break e;Gd(g),mt(18)}}else g.za=D[1],0<g.za-g.T&&37500>D[2]&&g.F&&g.v==0&&!g.C&&(g.C=vo(m(g.Za,g),6e3));if(1>=x0(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else fs(g,11)}else if((u.K||g.g==u)&&Vl(g),!w(p))for(D=g.Da.g.parse(p),p=0;p<D.length;p++){let le=D[p];if(g.T=le[0],le=le[1],g.G==2)if(le[0]=="c"){g.K=le[1],g.ia=le[2];const nt=le[3];nt!=null&&(g.la=nt,g.j.info("VER="+g.la));const rt=le[4];rt!=null&&(g.Aa=rt,g.j.info("SVER="+g.Aa));const ti=le[5];ti!=null&&typeof ti=="number"&&0<ti&&(T=1.5*ti,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Jt=u.g;if(Jt){const Ml=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ml){var L=T.h;L.g||Ml.indexOf("spdy")==-1&&Ml.indexOf("quic")==-1&&Ml.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Hd(L,L.h),L.h=null))}if(T.D){const Yd=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;Yd&&(T.ya=Yd,ye(T.I,T.D,Yd))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var B=u;if(T.qa=H0(T,T.J?T.ia:null,T.W),B.K){w0(T.h,B);var pe=B,qe=T.L;qe&&(pe.I=qe),pe.B&&($d(pe),bl(pe)),T.g=B}else U0(T);0<g.i.length&&Ll(g)}else le[0]!="stop"&&le[0]!="close"||fs(g,7);else g.G==3&&(le[0]=="stop"||le[0]=="close"?le[0]=="stop"?fs(g,7):Kd(g):le[0]!="noop"&&g.l&&g.l.ta(le),g.v=0)}}yo(4)}catch{}}var yI=class{constructor(u,p){this.g=u,this.map=p}};function y0(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function v0(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function x0(u){return u.h?1:u.g?u.g.size:0}function Wd(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Hd(u,p){u.g?u.g.add(p):u.h=p}function w0(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}y0.prototype.cancel=function(){if(this.i=_0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function _0(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const g of u.g.values())p=p.concat(g.D);return p}return S(u.i)}function vI(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],g=u.length,T=0;T<g;T++)p.push(u[T]);return p}p=[],g=0;for(T in u)p[g++]=u[T];return p}function xI(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var g=0;g<u;g++)p.push(g);return p}p=[],g=0;for(const T in u)p[g++]=T;return p}}}function E0(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var g=xI(u),T=vI(u),D=T.length,L=0;L<D;L++)p.call(void 0,T[L],g&&g[L],u)}var T0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wI(u,p){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var T=u[g].indexOf("="),D=null;if(0<=T){var L=u[g].substring(0,T);D=u[g].substring(T+1)}else L=u[g];p(L,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function hs(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof hs){this.h=u.h,Cl(this,u.j),this.o=u.o,this.g=u.g,Pl(this,u.s),this.l=u.l;var p=u.i,g=new To;g.i=p.i,p.g&&(g.g=new Map(p.g),g.h=p.h),k0(this,g),this.m=u.m}else u&&(p=String(u).match(T0))?(this.h=!1,Cl(this,p[1]||"",!0),this.o=_o(p[2]||""),this.g=_o(p[3]||"",!0),Pl(this,p[4]),this.l=_o(p[5]||"",!0),k0(this,p[6]||"",!0),this.m=_o(p[7]||"")):(this.h=!1,this.i=new To(null,this.h))}hs.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Eo(p,I0,!0),":");var g=this.g;return(g||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Eo(p,I0,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(Eo(g,g.charAt(0)=="/"?TI:EI,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",Eo(g,II)),u.join("")};function Ln(u){return new hs(u)}function Cl(u,p,g){u.j=g?_o(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function Pl(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function k0(u,p,g){p instanceof To?(u.i=p,SI(u.i,u.h)):(g||(p=Eo(p,kI)),u.i=new To(p,u.h))}function ye(u,p,g){u.i.set(p,g)}function Al(u){return ye(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function _o(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Eo(u,p,g){return typeof u=="string"?(u=encodeURI(u).replace(p,_I),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function _I(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var I0=/[#\/\?@]/g,EI=/[#\?:]/g,TI=/[#\?]/g,kI=/[#\?@]/g,II=/#/g;function To(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function fr(u){u.g||(u.g=new Map,u.h=0,u.i&&wI(u.i,function(p,g){u.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=To.prototype,t.add=function(u,p){fr(this),this.i=null,u=Zs(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(p),this.h+=1,this};function S0(u,p){fr(u),p=Zs(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function b0(u,p){return fr(u),p=Zs(u,p),u.g.has(p)}t.forEach=function(u,p){fr(this),this.g.forEach(function(g,T){g.forEach(function(D){u.call(p,D,T,this)},this)},this)},t.na=function(){fr(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),g=[];for(let T=0;T<p.length;T++){const D=u[T];for(let L=0;L<D.length;L++)g.push(p[T])}return g},t.V=function(u){fr(this);let p=[];if(typeof u=="string")b0(this,u)&&(p=p.concat(this.g.get(Zs(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)p=p.concat(u[g])}return p},t.set=function(u,p){return fr(this),this.i=null,u=Zs(this,u),b0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function C0(u,p,g){S0(u,p),0<g.length&&(u.i=null,u.g.set(Zs(u,p),S(g)),u.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var g=0;g<p.length;g++){var T=p[g];const L=encodeURIComponent(String(T)),B=this.V(T);for(T=0;T<B.length;T++){var D=L;B[T]!==""&&(D+="="+encodeURIComponent(String(B[T]))),u.push(D)}}return this.i=u.join("&")};function Zs(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function SI(u,p){p&&!u.j&&(fr(u),u.i=null,u.g.forEach(function(g,T){var D=T.toLowerCase();T!=D&&(S0(this,T),C0(this,D,g))},u)),u.j=p}function bI(u,p){const g=new xo;if(a.Image){const T=new Image;T.onload=y(pr,g,"TestLoadImage: loaded",!0,p,T),T.onerror=y(pr,g,"TestLoadImage: error",!1,p,T),T.onabort=y(pr,g,"TestLoadImage: abort",!1,p,T),T.ontimeout=y(pr,g,"TestLoadImage: timeout",!1,p,T),a.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else p(!1)}function CI(u,p){const g=new xo,T=new AbortController,D=setTimeout(()=>{T.abort(),pr(g,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:T.signal}).then(L=>{clearTimeout(D),L.ok?pr(g,"TestPingServer: ok",!0,p):pr(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(D),pr(g,"TestPingServer: error",!1,p)})}function pr(u,p,g,T,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),T(g)}catch{}}function PI(){this.g=new dI}function AI(u,p,g){const T=g||"";try{E0(u,function(D,L){let B=D;d(D)&&(B=Ld(D)),p.push(T+L+"="+encodeURIComponent(B))})}catch(D){throw p.push(T+"type="+encodeURIComponent("_badmap")),D}}function Nl(u){this.l=u.Ub||null,this.j=u.eb||!1}x(Nl,Vd),Nl.prototype.g=function(){return new Rl(this.l,this.j)},Nl.prototype.i=function(u){return function(){return u}}({});function Rl(u,p){tt.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Rl,tt),t=Rl.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,Io(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ko(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Io(this)),this.g&&(this.readyState=3,Io(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;P0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function P0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?ko(this):Io(this),this.readyState==3&&P0(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,ko(this))},t.Qa=function(u){this.g&&(this.response=u,ko(this))},t.ga=function(){this.g&&ko(this)};function ko(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Io(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=p.next();return u.join(`\r
`)};function Io(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Rl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function A0(u){let p="";return O(u,function(g,T){p+=T,p+=":",p+=g,p+=`\r
`}),p}function qd(u,p,g){e:{for(T in g){var T=!1;break e}T=!0}T||(g=A0(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):ye(u,p,g))}function Ce(u){tt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ce,tt);var NI=/^https?$/i,RI=["POST","PUT"];t=Ce.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Fd.g(),this.v=this.o?i0(this.o):i0(Fd),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(L){N0(this,L);return}if(u=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var D in T)g.set(D,T[D]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const L of T.keys())g.set(L,T.get(L));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(L=>L.toLowerCase()=="content-type"),D=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(RI,p,void 0))||T||D||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,B]of g)this.g.setRequestHeader(L,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{D0(this),this.u=!0,this.g.send(u),this.u=!1}catch(L){N0(this,L)}};function N0(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,R0(u),jl(u)}function R0(u){u.A||(u.A=!0,pt(u,"complete"),pt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,pt(this,"complete"),pt(this,"abort"),jl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jl(this,!0)),Ce.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?j0(this):this.bb())},t.bb=function(){j0(this)};function j0(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Vn(u)!=4||u.Z()!=2)){if(u.u&&Vn(u)==4)t0(u.Ea,0,u);else if(pt(u,"readystatechange"),Vn(u)==4){u.h=!1;try{const B=u.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var T;if(T=B===0){var D=String(u.D).match(T0)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),T=!NI.test(D?D.toLowerCase():"")}g=T}if(g)pt(u,"complete"),pt(u,"success");else{u.m=6;try{var L=2<Vn(u)?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.Z()+"]",R0(u)}}finally{jl(u)}}}}function jl(u,p){if(u.g){D0(u);const g=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||pt(u,"ready");try{g.onreadystatechange=T}catch{}}}function D0(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Vn(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Vn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),cI(p)}};function L0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function jI(u){const p={};u=(u.g&&2<=Vn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var g=N(u[T]);const D=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const L=p[D]||[];p[D]=L,L.push(g)}C(p,function(T){return T.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function So(u,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||p}function V0(u){this.Aa=0,this.i=[],this.j=new xo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=So("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=So("baseRetryDelayMs",5e3,u),this.cb=So("retryDelaySeedMs",1e4,u),this.Wa=So("forwardChannelMaxRetries",2,u),this.wa=So("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new y0(u&&u.concurrentRequestLimit),this.Da=new PI,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=V0.prototype,t.la=8,t.G=1,t.connect=function(u,p,g,T){mt(0),this.W=u,this.H=p||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=H0(this,null,this.W),Ll(this)};function Kd(u){if(O0(u),u.G==3){var p=u.U++,g=Ln(u.I);if(ye(g,"SID",u.K),ye(g,"RID",p),ye(g,"TYPE","terminate"),bo(u,g),p=new hr(u,u.j,p),p.L=2,p.v=Al(Ln(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=p.v,g=!0),g||(p.g=q0(p.j,null),p.g.ea(p.v)),p.F=Date.now(),bl(p)}W0(u)}function Dl(u){u.g&&(Qd(u),u.g.cancel(),u.g=null)}function O0(u){Dl(u),u.u&&(a.clearTimeout(u.u),u.u=null),Vl(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Ll(u){if(!v0(u.h)&&!u.s){u.s=!0;var p=u.Ga;$e||J(),$||($e(),$=!0),H.add(p,u),u.B=0}}function DI(u,p){return x0(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=vo(m(u.Ga,u,p),z0(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const D=new hr(this,this.j,u);let L=this.o;if(this.S&&(L?(L=_(L),b(L,this.S)):L=this.S),this.m!==null||this.O||(D.H=L,L=null),this.P)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(p+=T,4096<p){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=F0(this,D,p),g=Ln(this.I),ye(g,"RID",u),ye(g,"CVER",22),this.D&&ye(g,"X-HTTP-Session-Id",this.D),bo(this,g),L&&(this.O?p="headers="+encodeURIComponent(String(A0(L)))+"&"+p:this.m&&qd(g,this.m,L)),Hd(this.h,D),this.Ua&&ye(g,"TYPE","init"),this.P?(ye(g,"$req",p),ye(g,"SID","null"),D.T=!0,Bd(D,g,null)):Bd(D,g,p),this.G=2}}else this.G==3&&(u?M0(this,u):this.i.length==0||v0(this.h)||M0(this))};function M0(u,p){var g;p?g=p.l:g=u.U++;const T=Ln(u.I);ye(T,"SID",u.K),ye(T,"RID",g),ye(T,"AID",u.T),bo(u,T),u.m&&u.o&&qd(T,u.m,u.o),g=new hr(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),p&&(u.i=p.D.concat(u.i)),p=F0(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Hd(u.h,g),Bd(g,T,p)}function bo(u,p){u.H&&O(u.H,function(g,T){ye(p,T,g)}),u.l&&E0({},function(g,T){ye(p,T,g)})}function F0(u,p,g){g=Math.min(u.i.length,g);var T=u.l?m(u.l.Na,u.l,u):null;e:{var D=u.i;let L=-1;for(;;){const B=["count="+g];L==-1?0<g?(L=D[0].g,B.push("ofs="+L)):L=0:B.push("ofs="+L);let pe=!0;for(let qe=0;qe<g;qe++){let le=D[qe].g;const nt=D[qe].map;if(le-=L,0>le)L=Math.max(0,D[qe].g-100),pe=!1;else try{AI(nt,B,"req"+le+"_")}catch{T&&T(nt)}}if(pe){T=B.join("&");break e}}}return u=u.i.splice(0,g),p.D=u,T}function U0(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;$e||J(),$||($e(),$=!0),H.add(p,u),u.v=0}}function Gd(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=vo(m(u.Fa,u),z0(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,B0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=vo(m(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),Dl(this),B0(this))};function Qd(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function B0(u){u.g=new hr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Ln(u.qa);ye(p,"RID","rpc"),ye(p,"SID",u.K),ye(p,"AID",u.T),ye(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&ye(p,"TO",u.ja),ye(p,"TYPE","xmlhttp"),bo(u,p),u.m&&u.o&&qd(p,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=Al(Ln(p)),g.m=null,g.P=!0,p0(g,u)}t.Za=function(){this.C!=null&&(this.C=null,Dl(this),Gd(this),mt(19))};function Vl(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function $0(u,p){var g=null;if(u.g==p){Vl(u),Qd(u),u.g=null;var T=2}else if(Wd(u.h,p))g=p.D,w0(u.h,p),T=1;else return;if(u.G!=0){if(p.o)if(T==1){g=p.m?p.m.length:0,p=Date.now()-p.F;var D=u.B;T=kl(),pt(T,new c0(T,g)),Ll(u)}else U0(u);else if(D=p.s,D==3||D==0&&0<p.X||!(T==1&&DI(u,p)||T==2&&Gd(u)))switch(g&&0<g.length&&(p=u.h,p.i=p.i.concat(g)),D){case 1:fs(u,5);break;case 4:fs(u,10);break;case 3:fs(u,6);break;default:fs(u,2)}}}function z0(u,p){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*p}function fs(u,p){if(u.j.info("Error code "+p),p==2){var g=m(u.fb,u),T=u.Xa;const D=!T;T=new hs(T||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Cl(T,"https"),Al(T),D?bI(T.toString(),g):CI(T.toString(),g)}else mt(2);u.G=0,u.l&&u.l.sa(p),W0(u),O0(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function W0(u){if(u.G=0,u.ka=[],u.l){const p=_0(u.h);(p.length!=0||u.i.length!=0)&&(P(u.ka,p),P(u.ka,u.i),u.h.i.length=0,S(u.i),u.i.length=0),u.l.ra()}}function H0(u,p,g){var T=g instanceof hs?Ln(g):new hs(g);if(T.g!="")p&&(T.g=p+"."+T.g),Pl(T,T.s);else{var D=a.location;T=D.protocol,p=p?p+"."+D.hostname:D.hostname,D=+D.port;var L=new hs(null);T&&Cl(L,T),p&&(L.g=p),D&&Pl(L,D),g&&(L.l=g),T=L}return g=u.D,p=u.ya,g&&p&&ye(T,g,p),ye(T,"VER",u.la),bo(u,T),T}function q0(u,p,g){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new Ce(new Nl({eb:g})):new Ce(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function K0(){}t=K0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ol(){}Ol.prototype.g=function(u,p){return new Pt(u,p)};function Pt(u,p){tt.call(this),this.g=new V0(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!w(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!w(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new ei(this)}x(Pt,tt),Pt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pt.prototype.close=function(){Kd(this.g)},Pt.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=Ld(u),u=g);p.i.push(new yI(p.Ya++,u)),p.G==3&&Ll(p)},Pt.prototype.N=function(){this.g.l=null,delete this.j,Kd(this.g),delete this.g,Pt.aa.N.call(this)};function G0(u){Od.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const g in p){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}x(G0,Od);function Q0(){Md.call(this),this.status=1}x(Q0,Md);function ei(u){this.g=u}x(ei,K0),ei.prototype.ua=function(){pt(this.g,"a")},ei.prototype.ta=function(u){pt(this.g,new G0(u))},ei.prototype.sa=function(u){pt(this.g,new Q0)},ei.prototype.ra=function(){pt(this.g,"b")},Ol.prototype.createWebChannel=Ol.prototype.g,Pt.prototype.send=Pt.prototype.o,Pt.prototype.open=Pt.prototype.m,Pt.prototype.close=Pt.prototype.close,PT=function(){return new Ol},CT=function(){return kl()},bT=cs,gp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Il.NO_ERROR=0,Il.TIMEOUT=8,Il.HTTP_ERROR=6,ju=Il,d0.COMPLETE="complete",ST=d0,o0.EventType=go,go.OPEN="a",go.CLOSE="b",go.ERROR="c",go.MESSAGE="d",tt.prototype.listen=tt.prototype.K,Go=o0,Ce.prototype.listenOnce=Ce.prototype.L,Ce.prototype.getLastError=Ce.prototype.Ka,Ce.prototype.getLastErrorCode=Ce.prototype.Ba,Ce.prototype.getStatus=Ce.prototype.Z,Ce.prototype.getResponseJson=Ce.prototype.Oa,Ce.prototype.getResponseText=Ce.prototype.oa,Ce.prototype.send=Ce.prototype.ea,Ce.prototype.setWithCredentials=Ce.prototype.Ha,IT=Ce}).apply(typeof au<"u"?au:typeof self<"u"?self:typeof window<"u"?window:{});const K1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}lt.UNAUTHENTICATED=new lt(null),lt.GOOGLE_CREDENTIALS=new lt("google-credentials-uid"),lt.FIRST_PARTY=new lt("first-party-uid"),lt.MOCK_USER=new lt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ao="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new eg("@firebase/firestore");function Mo(){return Bs.logLevel}function W(t,...e){if(Bs.logLevel<=se.DEBUG){const n=e.map(hg);Bs.debug(`Firestore (${ao}): ${t}`,...n)}}function ir(t,...e){if(Bs.logLevel<=se.ERROR){const n=e.map(hg);Bs.error(`Firestore (${ao}): ${t}`,...n)}}function qi(t,...e){if(Bs.logLevel<=se.WARN){const n=e.map(hg);Bs.warn(`Firestore (${ao}): ${t}`,...n)}}function hg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t="Unexpected state"){const e=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: `+t;throw ir(e),new Error(e)}function fe(t,e){t||X()}function ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends Nn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class T6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(lt.UNAUTHENTICATED))}shutdown(){}}class k6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class I6{constructor(e){this.t=e,this.currentUser=lt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){fe(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new qr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new qr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(fe(typeof r.accessToken=="string"),new AT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return fe(e===null||typeof e=="string"),new lt(e)}}class S6{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=lt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class b6{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new S6(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(lt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class C6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class P6{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){fe(this.o===void 0);const r=i=>{i.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,W("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(fe(typeof n.token=="string"),this.R=n.token,new C6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=A6(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function ce(t,e){return t<e?-1:t>e?1:0}function Ki(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new q(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Be.fromMillis(Date.now())}static fromDate(e){return Be.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Be(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Z(e)}static min(){return new Z(new Be(0,0))}static max(){return new Z(new Be(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(e,n,r){n===void 0?n=0:n>e.length&&X(),r===void 0?r=e.length-n:r>e.length-n&&X(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return za.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof za?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ae extends za{construct(e,n,r){return new Ae(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new q(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ae(n)}static emptyPath(){return new Ae([])}}const N6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends za{construct(e,n,r){return new Qe(e,n,r)}static isValidIdentifier(e){return N6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Qe(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new q(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new q(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new q(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qe(n)}static emptyPath(){return new Qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.path=e}static fromPath(e){return new K(Ae.fromString(e))}static fromName(e){return new K(Ae.fromString(e).popFirst(5))}static empty(){return new K(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ae.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new K(new Ae(e.slice()))}}function R6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Z.fromTimestamp(r===1e9?new Be(n+1,0):new Be(n,r));return new Zr(s,K.empty(),e)}function j6(t){return new Zr(t.readTime,t.key,-1)}class Zr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zr(Z.min(),K.empty(),-1)}static max(){return new Zr(Z.max(),K.empty(),-1)}}function D6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=K.comparator(t.documentKey,e.documentKey),n!==0?n:ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class V6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==L6)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(s=>s?M.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new M((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const d=l;n(e[d]).next(h=>{o[d]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new M((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function O6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ml(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}fg.oe=-1;function yd(t){return t==null}function Sc(t){return t===0&&1/t==-1/0}function M6(t){return typeof t=="number"&&Number.isInteger(t)&&!Sc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function lo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function RT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e,n){this.comparator=e,this.root=n||Ge.EMPTY}insert(e,n){return new be(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(e){return new be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lu(this.root,e,this.comparator,!1)}getReverseIterator(){return new lu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lu(this.root,e,this.comparator,!0)}}class lu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ge{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Ge.RED,this.left=s??Ge.EMPTY,this.right=i??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Ge(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ge.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();const e=this.left.check();if(e!==this.right.check())throw X();return e+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Ge(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.comparator=e,this.data=new be(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Q1(this.data.getIterator())}getIteratorFrom(e){return new Q1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Xe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xe(this.comparator);return n.data=e,n}}class Q1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.fields=e,e.sort(Qe.comparator)}static empty(){return new an([])}unionWith(e){let n=new Xe(Qe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new an(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ki(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new jT("Invalid base64 string: "+i):i}}(e);return new Ze(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Ze(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ze.EMPTY_BYTE_STRING=new Ze("");const F6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(t){if(fe(!!t),typeof t=="string"){let e=0;const n=F6.exec(t);if(fe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ne(t.seconds),nanos:Ne(t.nanos)}}function Ne(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $s(t){return typeof t=="string"?Ze.fromBase64String(t):Ze.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function mg(t){const e=t.mapValue.fields.__previous_value__;return pg(e)?mg(e):e}function Wa(t){const e=es(t.mapValue.fields.__local_write_time__.timestampValue);return new Be(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e,n,r,s,i,o,a,l,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=d}}class Ha{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ha("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ha&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu={mapValue:{}};function zs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pg(t)?4:$6(t)?9007199254740991:B6(t)?10:11:X()}function bn(t,e){if(t===e)return!0;const n=zs(t);if(n!==zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wa(t).isEqual(Wa(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=es(s.timestampValue),a=es(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return $s(s.bytesValue).isEqual($s(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Ne(s.geoPointValue.latitude)===Ne(i.geoPointValue.latitude)&&Ne(s.geoPointValue.longitude)===Ne(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Ne(s.integerValue)===Ne(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Ne(s.doubleValue),a=Ne(i.doubleValue);return o===a?Sc(o)===Sc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ki(t.arrayValue.values||[],e.arrayValue.values||[],bn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(G1(o)!==G1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!bn(o[l],a[l])))return!1;return!0}(t,e);default:return X()}}function qa(t,e){return(t.values||[]).find(n=>bn(n,e))!==void 0}function Gi(t,e){if(t===e)return 0;const n=zs(t),r=zs(e);if(n!==r)return ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Ne(i.integerValue||i.doubleValue),l=Ne(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Y1(t.timestampValue,e.timestampValue);case 4:return Y1(Wa(t),Wa(e));case 5:return ce(t.stringValue,e.stringValue);case 6:return function(i,o){const a=$s(i),l=$s(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let d=0;d<a.length&&d<l.length;d++){const h=ce(a[d],l[d]);if(h!==0)return h}return ce(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ce(Ne(i.latitude),Ne(o.latitude));return a!==0?a:ce(Ne(i.longitude),Ne(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return X1(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,d,h;const f=i.fields||{},m=o.fields||{},y=(a=f.value)===null||a===void 0?void 0:a.arrayValue,x=(l=m.value)===null||l===void 0?void 0:l.arrayValue,S=ce(((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0,((h=x==null?void 0:x.values)===null||h===void 0?void 0:h.length)||0);return S!==0?S:X1(y,x)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===uu.mapValue&&o===uu.mapValue)return 0;if(i===uu.mapValue)return 1;if(o===uu.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),d=o.fields||{},h=Object.keys(d);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const m=ce(l[f],h[f]);if(m!==0)return m;const y=Gi(a[l[f]],d[h[f]]);if(y!==0)return y}return ce(l.length,h.length)}(t.mapValue,e.mapValue);default:throw X()}}function Y1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ce(t,e);const n=es(t),r=es(e),s=ce(n.seconds,r.seconds);return s!==0?s:ce(n.nanos,r.nanos)}function X1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Gi(n[s],r[s]);if(i)return i}return ce(n.length,r.length)}function Qi(t){return yp(t)}function yp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=es(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return $s(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return K.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=yp(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${yp(n.fields[o])}`;return s+"}"}(t.mapValue):X()}function vp(t){return!!t&&"integerValue"in t}function gg(t){return!!t&&"arrayValue"in t}function J1(t){return!!t&&"nullValue"in t}function Z1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Du(t){return!!t&&"mapValue"in t}function B6(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function pa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return lo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=pa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function $6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.value=e}static empty(){return new qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Du(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pa(n)}setAll(e){let n=Qe.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=pa(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Du(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return bn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Du(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){lo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new qt(pa(this.value))}}function DT(t){const e=[];return lo(t.fields,(n,r)=>{const s=new Qe([n]);if(Du(r)){const i=DT(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new an(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ct(e,0,Z.min(),Z.min(),Z.min(),qt.empty(),0)}static newFoundDocument(e,n,r,s){return new ct(e,1,n,Z.min(),r,s,0)}static newNoDocument(e,n){return new ct(e,2,n,Z.min(),Z.min(),qt.empty(),0)}static newUnknownDocument(e,n){return new ct(e,3,n,Z.min(),Z.min(),qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ct&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ct(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n){this.position=e,this.inclusive=n}}function ex(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=K.comparator(K.fromName(o.referenceValue),n.key):r=Gi(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function tx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!bn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n="asc"){this.field=e,this.dir=n}}function z6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{}class Fe extends LT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new H6(e,n,r):n==="array-contains"?new G6(e,r):n==="in"?new Q6(e,r):n==="not-in"?new Y6(e,r):n==="array-contains-any"?new X6(e,r):new Fe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new q6(e,r):new K6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Gi(n,this.value)):n!==null&&zs(this.value)===zs(n)&&this.matchesComparison(Gi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cn extends LT{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Cn(e,n)}matches(e){return VT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function VT(t){return t.op==="and"}function OT(t){return W6(t)&&VT(t)}function W6(t){for(const e of t.filters)if(e instanceof Cn)return!1;return!0}function xp(t){if(t instanceof Fe)return t.field.canonicalString()+t.op.toString()+Qi(t.value);if(OT(t))return t.filters.map(e=>xp(e)).join(",");{const e=t.filters.map(n=>xp(n)).join(",");return`${t.op}(${e})`}}function MT(t,e){return t instanceof Fe?function(r,s){return s instanceof Fe&&r.op===s.op&&r.field.isEqual(s.field)&&bn(r.value,s.value)}(t,e):t instanceof Cn?function(r,s){return s instanceof Cn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&MT(o,s.filters[a]),!0):!1}(t,e):void X()}function FT(t){return t instanceof Fe?function(n){return`${n.field.canonicalString()} ${n.op} ${Qi(n.value)}`}(t):t instanceof Cn?function(n){return n.op.toString()+" {"+n.getFilters().map(FT).join(" ,")+"}"}(t):"Filter"}class H6 extends Fe{constructor(e,n,r){super(e,n,r),this.key=K.fromName(r.referenceValue)}matches(e){const n=K.comparator(e.key,this.key);return this.matchesComparison(n)}}class q6 extends Fe{constructor(e,n){super(e,"in",n),this.keys=UT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class K6 extends Fe{constructor(e,n){super(e,"not-in",n),this.keys=UT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function UT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}class G6 extends Fe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gg(n)&&qa(n.arrayValue,this.value)}}class Q6 extends Fe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qa(this.value.arrayValue,n)}}class Y6 extends Fe{constructor(e,n){super(e,"not-in",n)}matches(e){if(qa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!qa(this.value.arrayValue,n)}}class X6 extends Fe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>qa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function nx(t,e=null,n=[],r=[],s=null,i=null,o=null){return new J6(t,e,n,r,s,i,o)}function yg(t){const e=ee(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>xp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),yd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qi(r)).join(",")),e.ue=n}return e.ue}function vg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!z6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!tx(t.startAt,e.startAt)&&tx(t.endAt,e.endAt)}function wp(t){return K.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Z6(t,e,n,r,s,i,o,a){return new vd(t,e,n,r,s,i,o,a)}function xg(t){return new vd(t)}function rx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eD(t){return t.collectionGroup!==null}function ma(t){const e=ee(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Xe(Qe.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Cc(i,r))}),n.has(Qe.keyField().canonicalString())||e.ce.push(new Cc(Qe.keyField(),r))}return e.ce}function In(t){const e=ee(t);return e.le||(e.le=tD(e,ma(t))),e.le}function tD(t,e){if(t.limitType==="F")return nx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Cc(s.field,i)});const n=t.endAt?new bc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new bc(t.startAt.position,t.startAt.inclusive):null;return nx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function _p(t,e,n){return new vd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xd(t,e){return vg(In(t),In(e))&&t.limitType===e.limitType}function BT(t){return`${yg(In(t))}|lt:${t.limitType}`}function ii(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>FT(s)).join(", ")}]`),yd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Qi(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Qi(s)).join(",")),`Target(${r})`}(In(t))}; limitType=${t.limitType})`}function wd(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):K.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ma(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const d=ex(o,a,l);return o.inclusive?d<=0:d<0}(r.startAt,ma(r),s)||r.endAt&&!function(o,a,l){const d=ex(o,a,l);return o.inclusive?d>=0:d>0}(r.endAt,ma(r),s))}(t,e)}function nD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function $T(t){return(e,n)=>{let r=!1;for(const s of ma(t)){const i=rD(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function rD(t,e,n){const r=t.field.isKeyField()?K.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),d=a.data.field(i);return l!==null&&d!==null?Gi(l,d):X()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){lo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return RT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=new be(K.comparator);function or(){return sD}const zT=new be(K.comparator);function Qo(...t){let e=zT;for(const n of t)e=e.insert(n.key,n);return e}function WT(t){let e=zT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Is(){return ga()}function HT(){return ga()}function ga(){return new uo(t=>t.toString(),(t,e)=>t.isEqual(e))}const iD=new be(K.comparator),oD=new Xe(K.comparator);function re(...t){let e=oD;for(const n of t)e=e.add(n);return e}const aD=new Xe(ce);function lD(){return aD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sc(e)?"-0":e}}function qT(t){return{integerValue:""+t}}function uD(t,e){return M6(e)?qT(e):wg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(){this._=void 0}}function cD(t,e,n){return t instanceof Ka?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&pg(i)&&(i=mg(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Ga?GT(t,e):t instanceof Qa?QT(t,e):function(s,i){const o=KT(s,i),a=sx(o)+sx(s.Pe);return vp(o)&&vp(s.Pe)?qT(a):wg(s.serializer,a)}(t,e)}function dD(t,e,n){return t instanceof Ga?GT(t,e):t instanceof Qa?QT(t,e):n}function KT(t,e){return t instanceof Pc?function(r){return vp(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Ka extends _d{}class Ga extends _d{constructor(e){super(),this.elements=e}}function GT(t,e){const n=YT(e);for(const r of t.elements)n.some(s=>bn(s,r))||n.push(r);return{arrayValue:{values:n}}}class Qa extends _d{constructor(e){super(),this.elements=e}}function QT(t,e){let n=YT(e);for(const r of t.elements)n=n.filter(s=>!bn(s,r));return{arrayValue:{values:n}}}class Pc extends _d{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function sx(t){return Ne(t.integerValue||t.doubleValue)}function YT(t){return gg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,n){this.field=e,this.transform=n}}function fD(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ga&&s instanceof Ga||r instanceof Qa&&s instanceof Qa?Ki(r.elements,s.elements,bn):r instanceof Pc&&s instanceof Pc?bn(r.Pe,s.Pe):r instanceof Ka&&s instanceof Ka}(t.transform,e.transform)}class pD{constructor(e,n){this.version=e,this.transformResults=n}}class Xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ed{}function XT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ZT(t.key,Xn.none()):new gl(t.key,t.data,Xn.none());{const n=t.data,r=qt.empty();let s=new Xe(Qe.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Qs(t.key,r,new an(s.toArray()),Xn.none())}}function mD(t,e,n){t instanceof gl?function(s,i,o){const a=s.value.clone(),l=ox(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Qs?function(s,i,o){if(!Lu(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=ox(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(JT(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ya(t,e,n,r){return t instanceof gl?function(i,o,a,l){if(!Lu(i.precondition,o))return a;const d=i.value.clone(),h=ax(i.fieldTransforms,l,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Qs?function(i,o,a,l){if(!Lu(i.precondition,o))return a;const d=ax(i.fieldTransforms,l,o),h=o.data;return h.setAll(JT(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Lu(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function gD(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=KT(r.transform,s||null);i!=null&&(n===null&&(n=qt.empty()),n.set(r.field,i))}return n||null}function ix(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ki(r,s,(i,o)=>fD(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class gl extends Ed{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Qs extends Ed{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function JT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ox(t,e,n){const r=new Map;fe(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,dD(o,a,n[s]))}return r}function ax(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,cD(i,o,e))}return r}class ZT extends Ed{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yD extends Ed{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&mD(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ya(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ya(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=HT();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=XT(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),re())}isEqual(e){return this.batchId===e.batchId&&Ki(this.mutations,e.mutations,(n,r)=>ix(n,r))&&Ki(this.baseMutations,e.baseMutations,(n,r)=>ix(n,r))}}class _g{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){fe(e.mutations.length===r.length);let s=function(){return iD}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new _g(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le,ie;function _D(t){switch(t){default:return X();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function ek(t){if(t===void 0)return ir("GRPC error has no .code"),F.UNKNOWN;switch(t){case Le.OK:return F.OK;case Le.CANCELLED:return F.CANCELLED;case Le.UNKNOWN:return F.UNKNOWN;case Le.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Le.INTERNAL:return F.INTERNAL;case Le.UNAVAILABLE:return F.UNAVAILABLE;case Le.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Le.NOT_FOUND:return F.NOT_FOUND;case Le.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Le.ABORTED:return F.ABORTED;case Le.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Le.DATA_LOSS:return F.DATA_LOSS;default:return X()}}(ie=Le||(Le={}))[ie.OK=0]="OK",ie[ie.CANCELLED=1]="CANCELLED",ie[ie.UNKNOWN=2]="UNKNOWN",ie[ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ie[ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ie[ie.NOT_FOUND=5]="NOT_FOUND",ie[ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",ie[ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",ie[ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",ie[ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ie[ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ie[ie.ABORTED=10]="ABORTED",ie[ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",ie[ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",ie[ie.INTERNAL=13]="INTERNAL",ie[ie.UNAVAILABLE=14]="UNAVAILABLE",ie[ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=new As([4294967295,4294967295],0);function lx(t){const e=ED().encode(t),n=new kT;return n.update(e),new Uint8Array(n.digest())}function ux(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new As([n,r],0),new As([s,i],0)]}class Eg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Yo(`Invalid padding: ${n}`);if(r<0)throw new Yo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Yo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Yo(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=As.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(As.fromNumber(r)));return s.compare(TD)===1&&(s=new As([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=lx(e),[r,s]=ux(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Eg(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=lx(e),[r,s]=ux(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Yo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,yl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Td(Z.min(),s,new be(ce),or(),re())}}class yl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yl(r,n,re(),re(),re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class tk{constructor(e,n){this.targetId=e,this.me=n}}class nk{constructor(e,n,r=Ze.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class cx{constructor(){this.fe=0,this.ge=hx(),this.pe=Ze.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=re(),n=re(),r=re();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:X()}}),new yl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=hx()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class kD{constructor(e){this.Le=e,this.Be=new Map,this.ke=or(),this.qe=dx(),this.Qe=new be(ce)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:X()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(wp(i))if(r===0){const o=new K(i.path);this.Ue(n,o,ct.newNoDocument(o,Z.min()))}else fe(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=$s(r).toUint8Array()}catch(l){if(l instanceof jT)return qi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Eg(o,s,i)}catch(l){return qi(l instanceof Yo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&wp(a.target)){const l=new K(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,ct.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=re();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const d=this.Je(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Td(e,n,this.Qe,this.ke,r);return this.ke=or(),this.qe=dx(),this.Qe=new be(ce),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new cx,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Xe(ce),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||W("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new cx),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function dx(){return new be(K.comparator)}function hx(){return new be(K.comparator)}const ID={asc:"ASCENDING",desc:"DESCENDING"},SD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bD={and:"AND",or:"OR"};class CD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ep(t,e){return t.useProto3Json||yd(e)?e:{value:e}}function Ac(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function PD(t,e){return Ac(t,e.toTimestamp())}function Sn(t){return fe(!!t),Z.fromTimestamp(function(n){const r=es(n);return new Be(r.seconds,r.nanos)}(t))}function Tg(t,e){return Tp(t,e).canonicalString()}function Tp(t,e){const n=function(s){return new Ae(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function sk(t){const e=Ae.fromString(t);return fe(uk(e)),e}function kp(t,e){return Tg(t.databaseId,e.path)}function zh(t,e){const n=sk(e);if(n.get(1)!==t.databaseId.projectId)throw new q(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new q(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new K(ok(n))}function ik(t,e){return Tg(t.databaseId,e)}function AD(t){const e=sk(t);return e.length===4?Ae.emptyPath():ok(e)}function Ip(t){return new Ae(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ok(t){return fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function fx(t,e,n){return{name:kp(t,e),fields:n.value.mapValue.fields}}function ND(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:X()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(fe(h===void 0||typeof h=="string"),Ze.fromBase64String(h||"")):(fe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Ze.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?F.UNKNOWN:ek(d.code);return new q(h,d.message||"")}(o);n=new nk(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=zh(t,r.document.name),i=Sn(r.document.updateTime),o=r.document.createTime?Sn(r.document.createTime):Z.min(),a=new qt({mapValue:{fields:r.document.fields}}),l=ct.newFoundDocument(s,i,o,a),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Vu(d,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=zh(t,r.document),i=r.readTime?Sn(r.readTime):Z.min(),o=ct.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Vu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=zh(t,r.document),i=r.removedTargetIds||[];n=new Vu([],i,s,null)}else{if(!("filter"in e))return X();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new wD(s,i),a=r.targetId;n=new tk(a,o)}}return n}function RD(t,e){let n;if(e instanceof gl)n={update:fx(t,e.key,e.value)};else if(e instanceof ZT)n={delete:kp(t,e.key)};else if(e instanceof Qs)n={update:fx(t,e.key,e.data),updateMask:BD(e.fieldMask)};else{if(!(e instanceof yD))return X();n={verify:kp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Ka)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ga)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Qa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Pc)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw X()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:PD(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:X()}(t,e.precondition)),n}function jD(t,e){return t&&t.length>0?(fe(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Sn(s.updateTime):Sn(i);return o.isEqual(Z.min())&&(o=Sn(i)),new pD(o,s.transformResults||[])}(n,e))):[]}function DD(t,e){return{documents:[ik(t,e.path)]}}function LD(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ik(t,s);const i=function(d){if(d.length!==0)return lk(Cn.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(m){return{field:oi(m.field),direction:MD(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Ep(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:s}}function VD(t){let e=AD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){fe(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=ak(f);return m instanceof Cn&&OT(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(x){return new Cc(ai(x.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,yd(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(f){const m=!!f.before,y=f.values||[];return new bc(y,m)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const m=!f.before,y=f.values||[];return new bc(y,m)}(n.endAt)),Z6(e,s,o,i,a,"F",l,d)}function OD(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ak(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ai(n.unaryFilter.field);return Fe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ai(n.unaryFilter.field);return Fe.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ai(n.unaryFilter.field);return Fe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ai(n.unaryFilter.field);return Fe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return X()}}(t):t.fieldFilter!==void 0?function(n){return Fe.create(ai(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Cn.create(n.compositeFilter.filters.map(r=>ak(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return X()}}(n.compositeFilter.op))}(t):X()}function MD(t){return ID[t]}function FD(t){return SD[t]}function UD(t){return bD[t]}function oi(t){return{fieldPath:t.canonicalString()}}function ai(t){return Qe.fromServerFormat(t.fieldPath)}function lk(t){return t instanceof Fe?function(n){if(n.op==="=="){if(Z1(n.value))return{unaryFilter:{field:oi(n.field),op:"IS_NAN"}};if(J1(n.value))return{unaryFilter:{field:oi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Z1(n.value))return{unaryFilter:{field:oi(n.field),op:"IS_NOT_NAN"}};if(J1(n.value))return{unaryFilter:{field:oi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oi(n.field),op:FD(n.op),value:n.value}}}(t):t instanceof Cn?function(n){const r=n.getFilters().map(s=>lk(s));return r.length===1?r[0]:{compositeFilter:{op:UD(n.op),filters:r}}}(t):X()}function BD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function uk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n,r,s,i=Z.min(),o=Z.min(),a=Ze.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Rr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.ct=e}}function zD(t){const e=VD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?_p(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this.un=new HD}addToCollectionParentIndex(e,n){return this.un.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}deleteAllFieldIndexes(e){return M.resolve()}createTargetIndexes(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(Zr.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(Zr.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class HD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Xe(Ae.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Xe(Ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Yi(0)}static kn(){return new Yi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(){this.changes=new uo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ct.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&ya(r.mutation,s,an.empty(),Be.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=re()){const s=Is();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Qo();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Is();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,re()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=or();const o=ga(),a=function(){return ga()}();return n.forEach((l,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof Qs)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),ya(h.mutation,d,h.mutation.getFieldMask(),Be.now())):o.set(d.key,an.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>{var f;return a.set(d,new KD(h,(f=o.get(d))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ga();let s=new be((o,a)=>o-a),i=re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const d=n.get(l);if(d===null)return;let h=r.get(l)||an.empty();h=a.applyToLocalView(d,h),r.set(l,h);const f=(s.get(a.batchId)||re()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),d=l.key,h=l.value,f=HT();h.forEach(m=>{if(!i.has(m)){const y=XT(n.get(m),r.get(m));y!==null&&f.set(m,y),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return K.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):M.resolve(Is());let a=-1,l=i;return o.next(d=>M.forEach(d,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?M.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{l=l.insert(h,m)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,l,d,re())).next(h=>({batchId:a,changes:WT(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(r=>{let s=Qo();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Qo();return this.indexManager.getCollectionParents(e,i).next(a=>M.forEach(a,l=>{const d=function(f,m){return new vd(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,ct.newInvalidDocument(h)))});let a=Qo();return o.forEach((l,d)=>{const h=i.get(l);h!==void 0&&ya(h.mutation,d,an.empty(),Be.now()),wd(n,d)&&(a=a.insert(l,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return M.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Sn(s.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:zD(s.bundledQuery),readTime:Sn(s.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(){this.overlays=new be(K.comparator),this.Ir=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Is();return M.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const s=Is(),i=n.length+1,o=new K(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,d=l.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return M.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new be((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=Is(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=Is(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return M.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new xD(n,r));let i=this.Ir.get(n);i===void 0&&(i=re(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this.sessionToken=Ze.EMPTY_BYTE_STRING}getSessionToken(e){return M.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,M.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(){this.Tr=new Xe(ze.Er),this.dr=new Xe(ze.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new ze(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ze(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new K(new Ae([])),r=new ze(n,e),s=new ze(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new K(new Ae([])),r=new ze(n,e),s=new ze(n,e+1);let i=re();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new ze(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ze{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return K.comparator(e.key,n.key)||ce(e.wr,n.wr)}static Ar(e,n){return ce(e.wr,n.wr)||K.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Xe(ze.Er)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new vD(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new ze(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return M.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ze(n,0),s=new ze(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),M.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xe(ce);return n.forEach(s=>{const i=new ze(s,0),o=new ze(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),M.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;K.isDocumentKey(i)||(i=i.child(""));const o=new ze(new K(i),0);let a=new Xe(ce);return this.br.forEachWhile(l=>{const d=l.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(l.wr)),!0)},o),M.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){fe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return M.forEach(n.mutations,s=>{const i=new ze(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new ze(n,0),s=this.br.firstAfterOrEqual(r);return M.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e){this.Mr=e,this.docs=function(){return new be(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():ct.newInvalidDocument(n))}getEntries(e,n){let r=or();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():ct.newInvalidDocument(s))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=or();const o=n.path,a=new K(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:d,value:{document:h}}=l.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||D6(j6(h),r)<=0||(s.has(h.key)||wd(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return M.resolve(i)}getAllFromCollectionGroup(e,n,r,s){X()}Or(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new eL(this)}getSize(e){return M.resolve(this.size)}}class eL extends qD{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e){this.persistence=e,this.Nr=new uo(n=>yg(n),vg),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Lr=0,this.Br=new kg,this.targetCount=0,this.kr=Yi.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),M.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Yi(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.Kn(n),M.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),M.waitFor(i).next(()=>s)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),M.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e,n){this.qr={},this.overlays={},this.Qr=new fg(0),this.Kr=!1,this.Kr=!0,this.$r=new XD,this.referenceDelegate=e(this),this.Ur=new tL(this),this.indexManager=new WD,this.remoteDocumentCache=function(s){return new ZD(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new $D(n),this.Gr=new QD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new YD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new JD(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const s=new rL(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return M.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class rL extends V6{constructor(e){super(),this.currentSequenceNumber=e}}class Ig{constructor(e){this.persistence=e,this.Jr=new kg,this.Yr=null}static Zr(e){return new Ig(e)}get Xr(){if(this.Yr)return this.Yr;throw X()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),M.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Xr,r=>{const s=K.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,Z.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return M.or([()=>M.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=re(),s=re();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Sg(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return $4()?8:O6(ht())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new sL;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Mo()<=se.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",ii(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),M.resolve()):(Mo()<=se.DEBUG&&W("QueryEngine","Query:",ii(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Mo()<=se.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",ii(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,In(n))):M.resolve())}Yi(e,n){if(rx(n))return M.resolve(null);let r=In(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=_p(n,null,"F"),r=In(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=re(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const d=this.ts(n,a);return this.ns(n,d,o,l.readTime)?this.Yi(e,_p(n,null,"F")):this.rs(e,d,n,l)}))})))}Zi(e,n,r,s){return rx(n)||s.isEqual(Z.min())?M.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?M.resolve(null):(Mo()<=se.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ii(n)),this.rs(e,o,n,R6(s,-1)).next(a=>a))})}ts(e,n){let r=new Xe($T(e));return n.forEach((s,i)=>{wd(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Mo()<=se.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",ii(n)),this.Ji.getDocumentsMatchingQuery(e,n,Zr.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new be(ce),this._s=new uo(i=>yg(i),vg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GD(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function aL(t,e,n,r){return new oL(t,e,n,r)}async function ck(t,e){const n=ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=re();for(const d of s){o.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:a}))})})}function lL(t,e){const n=ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,d,h){const f=d.batch,m=f.keys();let y=M.resolve();return m.forEach(x=>{y=y.next(()=>h.getEntry(l,x)).next(S=>{const P=d.docVersions.get(x);fe(P!==null),S.version.compareTo(P)<0&&(f.applyToRemoteDocument(S,d),S.isValidDocument()&&(S.setReadTime(d.commitVersion),h.addEntry(S)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=re();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(l=l.add(a.batch.mutations[d].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function dk(t){const e=ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function uL(t,e){const n=ee(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;a.push(n.Ur.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,h.addedDocuments,f)));let y=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(Ze.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),s=s.insert(f,y),function(S,P,k){return S.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(m,y,h)&&a.push(n.Ur.updateTargetData(i,y))});let l=or(),d=re();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(cL(i,o,e.documentUpdates).next(h=>{l=h.Ps,d=h.Is})),!r.isEqual(Z.min())){const h=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return M.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,d)).next(()=>l)}).then(i=>(n.os=s,i))}function cL(t,e,n){let r=re(),s=re();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=or();return n.forEach((a,l)=>{const d=i.get(a);l.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Z.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):W("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function dL(t,e){const n=ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function hL(t,e){const n=ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,M.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Rr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Sp(t,e,n){const r=ee(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ml(o))throw o;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function px(t,e,n){const r=ee(t);let s=Z.min(),i=re();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,d,h){const f=ee(l),m=f._s.get(h);return m!==void 0?M.resolve(f.os.get(m)):f.Ur.getTargetData(d,h)}(r,o,In(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:Z.min(),n?i:re())).next(a=>(fL(r,nD(e),a),{documents:a,Ts:i})))}function fL(t,e,n){let r=t.us.get(e)||Z.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class mx{constructor(){this.activeTargetIds=lD()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pL{constructor(){this.so=new mx,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new mx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cu=null;function Wh(){return cu===null?cu=function(){return 268435456+Math.round(2147483648*Math.random())}():cu++,"0x"+cu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ot="WebChannelConnection";class vL extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=Wh(),l=this.xo(n,r.toUriEncodedString());W("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,i,o),this.No(n,l,d,s).then(h=>(W("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw qi("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",s),h})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ao}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=gL[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Wh();return new Promise((o,a)=>{const l=new IT;l.setWithCredentials(!0),l.listenOnce(ST.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ju.NO_ERROR:const h=l.getResponseJson();W(ot,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case ju.TIMEOUT:W(ot,`RPC '${e}' ${i} timed out`),a(new q(F.DEADLINE_EXCEEDED,"Request time out"));break;case ju.HTTP_ERROR:const f=l.getStatus();if(W(ot,`RPC '${e}' ${i} failed with status:`,f,"response text:",l.getResponseText()),f>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const x=function(P){const k=P.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(k)>=0?k:F.UNKNOWN}(y.status);a(new q(x,y.message))}else a(new q(F.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new q(F.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{W(ot,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);W(ot,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",d,r,15)})}Bo(e,n,r){const s=Wh(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=PT(),a=CT(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");W(ot,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=o.createWebChannel(h,l);let m=!1,y=!1;const x=new yL({Io:P=>{y?W(ot,`Not sending because RPC '${e}' stream ${s} is closed:`,P):(m||(W(ot,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),W(ot,`RPC '${e}' stream ${s} sending:`,P),f.send(P))},To:()=>f.close()}),S=(P,k,w)=>{P.listen(k,E=>{try{w(E)}catch(R){setTimeout(()=>{throw R},0)}})};return S(f,Go.EventType.OPEN,()=>{y||(W(ot,`RPC '${e}' stream ${s} transport opened.`),x.yo())}),S(f,Go.EventType.CLOSE,()=>{y||(y=!0,W(ot,`RPC '${e}' stream ${s} transport closed`),x.So())}),S(f,Go.EventType.ERROR,P=>{y||(y=!0,qi(ot,`RPC '${e}' stream ${s} transport errored:`,P),x.So(new q(F.UNAVAILABLE,"The operation could not be completed")))}),S(f,Go.EventType.MESSAGE,P=>{var k;if(!y){const w=P.data[0];fe(!!w);const E=w,R=E.error||((k=E[0])===null||k===void 0?void 0:k.error);if(R){W(ot,`RPC '${e}' stream ${s} received error:`,R);const V=R.status;let O=function(I){const b=Le[I];if(b!==void 0)return ek(b)}(V),C=R.message;O===void 0&&(O=F.INTERNAL,C="Unknown error status: "+V+" with message "+R.message),y=!0,x.So(new q(O,C)),f.close()}else W(ot,`RPC '${e}' stream ${s} received:`,w),x.bo(w)}}),S(a,bT.STAT_EVENT,P=>{P.stat===gp.PROXY?W(ot,`RPC '${e}' stream ${s} detected buffering proxy`):P.stat===gp.NOPROXY&&W(ot,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}}function Hh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(t){return new CD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&W("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,n,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new hk(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(ir(n.toString()),ir("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new q(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xL extends fk{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=ND(this.serializer,e),r=function(i){if(!("targetChange"in i))return Z.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Z.min():o.readTime?Sn(o.readTime):Z.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Ip(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=wp(l)?{documents:DD(i,l)}:{query:LD(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=rk(i,o.resumeToken);const d=Ep(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(Z.min())>0){a.readTime=Ac(i,o.snapshotVersion.toTimestamp());const d=Ep(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=OD(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Ip(this.serializer),n.removeTarget=e,this.a_(n)}}class wL extends fk{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return fe(!!e.streamToken),this.lastStreamToken=e.streamToken,fe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=jD(e.writeResults,e.commitTime),r=Sn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Ip(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>RD(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new q(F.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,Tp(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new q(F.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Tp(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(F.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class EL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ir(n),this.D_=!1):W("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ys(this)&&(W("RemoteStore","Restarting streams for network reachability change."),await async function(l){const d=ee(l);d.L_.add(4),await vl(d),d.q_.set("Unknown"),d.L_.delete(4),await Id(d)}(this))})}),this.q_=new EL(r,s)}}async function Id(t){if(Ys(t))for(const e of t.B_)await e(!0)}async function vl(t){for(const e of t.B_)await e(!1)}function pk(t,e){const n=ee(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Ag(n)?Pg(n):co(n).r_()&&Cg(n,e))}function bg(t,e){const n=ee(t),r=co(n);n.N_.delete(e),r.r_()&&mk(n,e),n.N_.size===0&&(r.r_()?r.o_():Ys(n)&&n.q_.set("Unknown"))}function Cg(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}co(t).A_(e)}function mk(t,e){t.Q_.xe(e),co(t).R_(e)}function Pg(t){t.Q_=new kD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),co(t).start(),t.q_.v_()}function Ag(t){return Ys(t)&&!co(t).n_()&&t.N_.size>0}function Ys(t){return ee(t).L_.size===0}function gk(t){t.Q_=void 0}async function kL(t){t.q_.set("Online")}async function IL(t){t.N_.forEach((e,n)=>{Cg(t,e)})}async function SL(t,e){gk(t),Ag(t)?(t.q_.M_(e),Pg(t)):t.q_.set("Unknown")}async function bL(t,e,n){if(t.q_.set("Online"),e instanceof nk&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Nc(t,r)}else if(e instanceof Vu?t.Q_.Ke(e):e instanceof tk?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Z.min()))try{const r=await dk(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.N_.get(d);h&&i.N_.set(d,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,d)=>{const h=i.N_.get(l);if(!h)return;i.N_.set(l,h.withResumeToken(Ze.EMPTY_BYTE_STRING,h.snapshotVersion)),mk(i,l);const f=new Rr(h.target,l,d,h.sequenceNumber);Cg(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){W("RemoteStore","Failed to raise snapshot:",r),await Nc(t,r)}}async function Nc(t,e,n){if(!ml(e))throw e;t.L_.add(1),await vl(t),t.q_.set("Offline"),n||(n=()=>dk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Id(t)})}function yk(t,e){return e().catch(n=>Nc(t,n,e))}async function Sd(t){const e=ee(t),n=ts(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;CL(e);)try{const s=await dL(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,PL(e,s)}catch(s){await Nc(e,s)}vk(e)&&xk(e)}function CL(t){return Ys(t)&&t.O_.length<10}function PL(t,e){t.O_.push(e);const n=ts(t);n.r_()&&n.V_&&n.m_(e.mutations)}function vk(t){return Ys(t)&&!ts(t).n_()&&t.O_.length>0}function xk(t){ts(t).start()}async function AL(t){ts(t).p_()}async function NL(t){const e=ts(t);for(const n of t.O_)e.m_(n.mutations)}async function RL(t,e,n){const r=t.O_.shift(),s=_g.from(r,e,n);await yk(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Sd(t)}async function jL(t,e){e&&ts(t).V_&&await async function(r,s){if(function(o){return _D(o)&&o!==F.ABORTED}(s.code)){const i=r.O_.shift();ts(r).s_(),await yk(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Sd(r)}}(t,e),vk(t)&&xk(t)}async function yx(t,e){const n=ee(t);n.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");const r=Ys(n);n.L_.add(3),await vl(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Id(n)}async function DL(t,e){const n=ee(t);e?(n.L_.delete(2),await Id(n)):e||(n.L_.add(2),await vl(n),n.q_.set("Unknown"))}function co(t){return t.K_||(t.K_=function(n,r,s){const i=ee(n);return i.w_(),new xL(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:kL.bind(null,t),Ro:IL.bind(null,t),mo:SL.bind(null,t),d_:bL.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Ag(t)?Pg(t):t.q_.set("Unknown")):(await t.K_.stop(),gk(t))})),t.K_}function ts(t){return t.U_||(t.U_=function(n,r,s){const i=ee(n);return i.w_(),new wL(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:AL.bind(null,t),mo:jL.bind(null,t),f_:NL.bind(null,t),g_:RL.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Sd(t)):(await t.U_.stop(),t.O_.length>0&&(W("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Ng(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rg(t,e){if(ir("AsyncQueue",`${e}: ${t}`),ml(t))return new q(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this.comparator=e?(n,r)=>e(n,r)||K.comparator(n.key,r.key):(n,r)=>K.comparator(n.key,r.key),this.keyedMap=Qo(),this.sortedSet=new be(this.comparator)}static emptySet(e){return new Li(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Li)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Li;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(){this.W_=new be(K.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):X():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Xi{constructor(e,n,r,s,i,o,a,l,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Xi(e,n,Li.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class VL{constructor(){this.queries=xx(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=ee(n),i=s.queries;s.queries=xx(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new q(F.ABORTED,"Firestore shutting down"))}}function xx(){return new uo(t=>BT(t),xd)}async function OL(t,e){const n=ee(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new LL,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Rg(o,`Initialization of query '${ii(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&jg(n)}async function ML(t,e){const n=ee(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function FL(t,e){const n=ee(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&jg(n)}function UL(t,e,n){const r=ee(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function jg(t){t.Y_.forEach(e=>{e.next()})}var bp,wx;(wx=bp||(bp={})).ea="default",wx.Cache="cache";class BL{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Xi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Xi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==bp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e){this.key=e}}class _k{constructor(e){this.key=e}}class $L{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=re(),this.mutatedKeys=re(),this.Aa=$T(e),this.Ra=new Li(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new vx,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),y=wd(this.query,f)?f:null,x=!!m&&this.mutatedKeys.has(m.key),S=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let P=!1;m&&y?m.data.isEqual(y.data)?x!==S&&(r.track({type:3,doc:y}),P=!0):this.ga(m,y)||(r.track({type:2,doc:y}),P=!0,(l&&this.Aa(y,l)>0||d&&this.Aa(y,d)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),P=!0):m&&!y&&(r.track({type:1,doc:m}),P=!0,(l||d)&&(a=!0)),P&&(y?(o=o.add(y),i=S?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,f)=>function(y,x){const S=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return S(y)-S(x)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,d=l!==this.Ea;return this.Ea=l,o.length!==0||d?{snapshot:new Xi(this.query,e.Ra,i,o,e.mutatedKeys,l===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new vx,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=re(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new _k(r))}),this.da.forEach(r=>{e.has(r)||n.push(new wk(r))}),n}ba(e){this.Ta=e.Ts,this.da=re();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Xi.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class zL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class WL{constructor(e){this.key=e,this.va=!1}}class HL{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new uo(a=>BT(a),xd),this.Ma=new Map,this.xa=new Set,this.Oa=new be(K.comparator),this.Na=new Map,this.La=new kg,this.Ba={},this.ka=new Map,this.qa=Yi.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function qL(t,e,n=!0){const r=bk(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await Ek(r,e,n,!0),s}async function KL(t,e){const n=bk(t);await Ek(n,e,!0,!1)}async function Ek(t,e,n,r){const s=await hL(t.localStore,In(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await GL(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&pk(t.remoteStore,s),a}async function GL(t,e,n,r,s){t.Ka=(f,m,y)=>async function(S,P,k,w){let E=P.view.ma(k);E.ns&&(E=await px(S.localStore,P.query,!1).then(({documents:C})=>P.view.ma(C,E)));const R=w&&w.targetChanges.get(P.targetId),V=w&&w.targetMismatches.get(P.targetId)!=null,O=P.view.applyChanges(E,S.isPrimaryClient,R,V);return Ex(S,P.targetId,O.wa),O.snapshot}(t,f,m,y);const i=await px(t.localStore,e,!0),o=new $L(e,i.Ts),a=o.ma(i.documents),l=yl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,l);Ex(t,n,d.wa);const h=new zL(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function QL(t,e,n){const r=ee(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!xd(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Sp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&bg(r.remoteStore,s.targetId),Cp(r,s.targetId)}).catch(pl)):(Cp(r,s.targetId),await Sp(r.localStore,s.targetId,!0))}async function YL(t,e){const n=ee(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),bg(n.remoteStore,r.targetId))}async function XL(t,e,n){const r=sV(t);try{const s=await function(o,a){const l=ee(o),d=Be.now(),h=a.reduce((y,x)=>y.add(x.key),re());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let x=or(),S=re();return l.cs.getEntries(y,h).next(P=>{x=P,x.forEach((k,w)=>{w.isValidDocument()||(S=S.add(k))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,x)).next(P=>{f=P;const k=[];for(const w of a){const E=gD(w,f.get(w.key).overlayedDocument);E!=null&&k.push(new Qs(w.key,E,DT(E.value.mapValue),Xn.exists(!0)))}return l.mutationQueue.addMutationBatch(y,d,k,a)}).next(P=>{m=P;const k=P.applyToLocalDocumentSet(f,S);return l.documentOverlayCache.saveOverlays(y,P.batchId,k)})}).then(()=>({batchId:m.batchId,changes:WT(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let d=o.Ba[o.currentUser.toKey()];d||(d=new be(ce)),d=d.insert(a,l),o.Ba[o.currentUser.toKey()]=d}(r,s.batchId,n),await xl(r,s.changes),await Sd(r.remoteStore)}catch(s){const i=Rg(s,"Failed to persist write");n.reject(i)}}async function Tk(t,e){const n=ee(t);try{const r=await uL(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(fe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?fe(o.va):s.removedDocuments.size>0&&(fe(o.va),o.va=!1))}),await xl(n,r,e)}catch(r){await pl(r)}}function _x(t,e,n){const r=ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ee(o);l.onlineState=a;let d=!1;l.queries.forEach((h,f)=>{for(const m of f.j_)m.Z_(a)&&(d=!0)}),d&&jg(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function JL(t,e,n){const r=ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new be(K.comparator);o=o.insert(i,ct.newNoDocument(i,Z.min()));const a=re().add(i),l=new Td(Z.min(),new Map,new be(ce),o,a);await Tk(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),Dg(r)}else await Sp(r.localStore,e,!1).then(()=>Cp(r,e,n)).catch(pl)}async function ZL(t,e){const n=ee(t),r=e.batch.batchId;try{const s=await lL(n.localStore,e);Ik(n,r,null),kk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xl(n,s)}catch(s){await pl(s)}}async function eV(t,e,n){const r=ee(t);try{const s=await function(o,a){const l=ee(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return l.mutationQueue.lookupMutationBatch(d,a).next(f=>(fe(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(d,f))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>l.localDocuments.getDocuments(d,h))})}(r.localStore,e);Ik(r,e,n),kk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xl(r,s)}catch(s){await pl(s)}}function kk(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Ik(t,e,n){const r=ee(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Cp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Sk(t,r)})}function Sk(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(bg(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Dg(t))}function Ex(t,e,n){for(const r of n)r instanceof wk?(t.La.addReference(r.key,e),tV(t,r)):r instanceof _k?(W("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Sk(t,r.key)):X()}function tV(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(W("SyncEngine","New document in limbo: "+n),t.xa.add(r),Dg(t))}function Dg(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new K(Ae.fromString(e)),r=t.qa.next();t.Na.set(r,new WL(n)),t.Oa=t.Oa.insert(n,r),pk(t.remoteStore,new Rr(In(xg(n.path)),r,"TargetPurposeLimboResolution",fg.oe))}}async function xl(t,e,n){const r=ee(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(d){s.push(d);const f=Sg.Wi(l.targetId,d);i.push(f)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,d){const h=ee(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>M.forEach(d,m=>M.forEach(m.$i,y=>h.persistence.referenceDelegate.addReference(f,m.targetId,y)).next(()=>M.forEach(m.Ui,y=>h.persistence.referenceDelegate.removeReference(f,m.targetId,y)))))}catch(f){if(!ml(f))throw f;W("LocalStore","Failed to update sequence numbers: "+f)}for(const f of d){const m=f.targetId;if(!f.fromCache){const y=h.os.get(m),x=y.snapshotVersion,S=y.withLastLimboFreeSnapshotVersion(x);h.os=h.os.insert(m,S)}}}(r.localStore,i))}async function nV(t,e){const n=ee(t);if(!n.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());const r=await ck(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new q(F.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xl(n,r.hs)}}function rV(t,e){const n=ee(t),r=n.Na.get(e);if(r&&r.va)return re().add(r.key);{let s=re();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function bk(t){const e=ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Tk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JL.bind(null,e),e.Ca.d_=FL.bind(null,e.eventManager),e.Ca.$a=UL.bind(null,e.eventManager),e}function sV(t){const e=ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eV.bind(null,e),e}class Rc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return aL(this.persistence,new iL,e.initialUser,this.serializer)}Ga(e){return new nL(Ig.Zr,this.serializer)}Wa(e){return new pL}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rc.provider={build:()=>new Rc};class Pp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_x(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nV.bind(null,this.syncEngine),await DL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new VL}()}createDatastore(e){const n=kd(e.databaseInfo.databaseId),r=function(i){return new vL(i)}(e.databaseInfo);return function(i,o,a,l){return new _L(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new TL(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>_x(this.syncEngine,n,0),function(){return gx.D()?new gx:new mL}())}createSyncEngine(e,n){return function(s,i,o,a,l,d,h){const f=new HL(s,i,o,a,l,d);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ee(s);W("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await vl(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Pp.provider={build:()=>new Pp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ir("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=lt.UNAUTHENTICATED,this.clientId=NT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{W("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(W("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Rg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function qh(t,e){t.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await ck(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Tx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await aV(t);W("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>yx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>yx(e.remoteStore,s)),t._onlineComponents=e}async function aV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{await qh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===F.FAILED_PRECONDITION||s.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;qi("Error using user provided cache. Falling back to memory cache: "+n),await qh(t,new Rc)}}else W("FirestoreClient","Using default OfflineComponentProvider"),await qh(t,new Rc);return t._offlineComponents}async function Ck(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),await Tx(t,t._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),await Tx(t,new Pp))),t._onlineComponents}function lV(t){return Ck(t).then(e=>e.syncEngine)}async function uV(t){const e=await Ck(t),n=e.eventManager;return n.onListen=qL.bind(null,e.syncEngine),n.onUnlisten=QL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=KL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=YL.bind(null,e.syncEngine),n}function cV(t,e,n={}){const r=new qr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,d){const h=new iV({next:m=>{h.Za(),o.enqueueAndForget(()=>ML(i,f));const y=m.docs.has(a);!y&&m.fromCache?d.reject(new q(F.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&m.fromCache&&l&&l.source==="server"?d.reject(new q(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new BL(xg(a.path),h,{includeMetadataChanges:!0,_a:!0});return OL(i,f)}(await uV(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(t,e,n){if(!n)throw new q(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function hV(t,e,n,r){if(e===!0&&r===!0)throw new q(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ix(t){if(!K.isDocumentKey(t))throw new q(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Lg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X()}function Ya(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new q(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lg(t);throw new q(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new q(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new q(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Pk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new q(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vg{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sx({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new q(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sx(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new T6;switch(r.type){case"firstParty":return new b6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new q(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=kx.get(n);r&&(W("ComponentProvider","Removing Datastore"),kx.delete(n),r.terminate())}(this),Promise.resolve()}}function fV(t,e,n,r={}){var s;const i=(t=Ya(t,Vg))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&qi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=lt.MOCK_USER;else{a=ME(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new q(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new lt(d)}t._authCredentials=new k6(new AT(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Og(this.firestore,e,this._query)}}class Qt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}}class Xa extends Og{constructor(e,n,r){super(e,n,xg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new K(e))}withConverter(e){return new Xa(this.firestore,e,this._path)}}function bx(t,e,...n){if(t=wt(t),arguments.length===1&&(e=NT.newId()),dV("doc","path",e),t instanceof Vg){const r=Ae.fromString(e,...n);return Ix(r),new Qt(t,null,new K(r))}{if(!(t instanceof Qt||t instanceof Xa))throw new q(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ae.fromString(e,...n));return Ix(r),new Qt(t.firestore,t instanceof Xa?t.converter:null,new K(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new hk(this,"async_queue_retry"),this.Vu=()=>{const r=Hh();r&&W("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Hh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Hh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new qr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ml(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ir("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=Ng.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&X()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Mg extends Vg{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Cx,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Cx(e),this._firestoreClient=void 0,await e}}}function pV(t,e){const n=typeof t=="object"?t:ng(),r=typeof t=="string"?t:"(default)",s=fd(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=LE("firestore");i&&fV(s,...i)}return s}function Ak(t){if(t._terminated)throw new q(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||mV(t),t._firestoreClient}function mV(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,d,h){return new U6(a,l,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,Pk(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new oV(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ji(Ze.fromBase64String(e))}catch(n){throw new q(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ji(Ze.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new q(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new q(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new q(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV=/^__.*__$/;class yV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qs(e,this.data,this.fieldMask,n,this.fieldTransforms):new gl(e,this.data,n,this.fieldTransforms)}}function Nk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}class zg{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new zg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return jc(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Nk(this.Cu)&&gV.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class vV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||kd(e)}Qu(e,n,r,s=!1){return new zg({Cu:e,methodName:n,qu:r,path:Qe.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xV(t){const e=t._freezeSettings(),n=kd(t._databaseId);return new vV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function wV(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);Lk("Data must be an object, but it was:",o,r);const a=jk(r,o);let l,d;if(i.merge)l=new an(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=_V(e,f,n);if(!o.contains(m))throw new q(F.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);TV(h,m)||h.push(m)}l=new an(h),d=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,d=o.fieldTransforms;return new yV(new qt(a),l,d)}class Wg extends Ug{_toFieldTransform(e){return new hD(e.path,new Ka)}isEqual(e){return e instanceof Wg}}function Rk(t,e){if(Dk(t=wt(t)))return Lk("Unsupported field value:",e,t),jk(t,e);if(t instanceof Ug)return function(r,s){if(!Nk(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Rk(a,s.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return uD(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Be.fromDate(r);return{timestampValue:Ac(s.serializer,i)}}if(r instanceof Be){const i=new Be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ac(s.serializer,i)}}if(r instanceof Bg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ji)return{bytesValue:rk(s.serializer,r._byteString)};if(r instanceof Qt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Tg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof $g)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return wg(a.serializer,l)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Lg(r)}`)}(t,e)}function jk(t,e){const n={};return RT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lo(t,(r,s)=>{const i=Rk(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Dk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Be||t instanceof Bg||t instanceof Ji||t instanceof Qt||t instanceof Ug||t instanceof $g)}function Lk(t,e,n){if(!Dk(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Lg(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function _V(t,e,n){if((e=wt(e))instanceof Fg)return e._internalPath;if(typeof e=="string")return Vk(t,e);throw jc("Field path arguments must be of type string or ",t,!1,void 0,n)}const EV=new RegExp("[~\\*/\\[\\]]");function Vk(t,e,n){if(e.search(EV)>=0)throw jc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Fg(...e.split("."))._internalPath}catch{throw jc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function jc(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new q(F.INVALID_ARGUMENT,a+t+l)}function TV(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Mk("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class kV extends Ok{data(){return super.data()}}function Mk(t,e){return typeof e=="string"?Vk(t,e):e instanceof Fg?e._internalPath:e._delegate._internalPath}class IV{convertValue(e,n="none"){switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($s(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw X()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return lo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Ne(o.doubleValue));return new $g(i)}convertGeoPoint(e){return new Bg(Ne(e.latitude),Ne(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=mg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wa(e));default:return null}}convertTimestamp(e){const n=es(e);return new Be(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ae.fromString(e);fe(uk(r));const s=new Ha(r.get(1),r.get(3)),i=new K(r.popFirst(5));return s.isEqual(n)||ir(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fk extends Ok{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new CV(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Mk("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class CV extends Fk{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(t){t=Ya(t,Qt);const e=Ya(t.firestore,Mg);return cV(Ak(e),t._key).then(n=>jV(e,t,n))}class AV extends IV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ji(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,n)}}function NV(t,e,n){t=Ya(t,Qt);const r=Ya(t.firestore,Mg),s=SV(t.converter,e);return RV(r,[wV(xV(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Xn.none())])}function RV(t,e){return function(r,s){const i=new qr;return r.asyncQueue.enqueueAndForget(async()=>XL(await lV(r),s,i)),i.promise}(Ak(t),e)}function jV(t,e,n){const r=n.docs.get(e._key),s=new AV(t);return new Fk(t,s,e._key,r,new bV(n.hasPendingWrites,n.fromCache),e.converter)}function DV(){return new Wg("serverTimestamp")}(function(e,n=!0){(function(s){ao=s})(Gs),Ms(new Jr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Mg(new I6(r.getProvider("auth-internal")),new P6(r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new q(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ha(d.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),En(K1,"4.7.3",e),En(K1,"4.7.3","esm2017")})();var LV="firebase",VV="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En(LV,VV,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk="firebasestorage.googleapis.com",OV="storageBucket",MV=2*60*1e3,FV=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn extends Nn{constructor(e,n,r=0){super(Kh(e),`Firebase Storage: ${n} (${Kh(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,jn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Kh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Pn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Pn||(Pn={}));function Kh(t){return"storage/"+t}function UV(){const t="An unknown error occurred, please check the error payload for server response.";return new jn(Pn.UNKNOWN,t)}function BV(){return new jn(Pn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $V(){return new jn(Pn.CANCELED,"User canceled the upload/download.")}function zV(t){return new jn(Pn.INVALID_URL,"Invalid URL '"+t+"'.")}function WV(t){return new jn(Pn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Px(t){return new jn(Pn.INVALID_ARGUMENT,t)}function Bk(){return new jn(Pn.APP_DELETED,"The Firebase app was deleted.")}function HV(t){return new jn(Pn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ln.makeFromUrl(e,n)}catch{return new ln(e,"")}if(r.path==="")return r;throw WV(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function d(R){R.path_=decodeURIComponent(R.path)}const h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp(`^https?://${f}/${h}/b/${s}/o${m}`,"i"),x={bucket:1,path:3},S=n===Uk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",k=new RegExp(`^https?://${S}/${s}/${P}`,"i"),E=[{regex:a,indices:l,postModify:i},{regex:y,indices:x,postModify:d},{regex:k,indices:{bucket:1,path:2},postModify:d}];for(let R=0;R<E.length;R++){const V=E[R],O=V.regex.exec(e);if(O){const C=O[V.indices.bucket];let _=O[V.indices.path];_||(_=""),r=new ln(C,_),V.postModify(r);break}}if(r==null)throw zV(e);return r}}class qV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let d=!1;function h(...P){d||(d=!0,e.apply(null,P))}function f(P){s=setTimeout(()=>{s=null,t(y,l())},P)}function m(){i&&clearTimeout(i)}function y(P,...k){if(d){m();return}if(P){m(),h.call(null,P,...k);return}if(l()||o){m(),h.call(null,P,...k);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,f(E)}let x=!1;function S(P){x||(x=!0,m(),!d&&(s!==null?(P||(a=2),clearTimeout(s),f(0)):P||(a=1)))}return f(0),i=setTimeout(()=>{o=!0,S(!0)},n),S}function GV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(t){return t!==void 0}function Ax(t,e,n,r){if(r<e)throw Px(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Px(`Invalid value for '${t}'. Expected ${n} or less.`)}function YV(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Dc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Dc||(Dc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XV(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JV{constructor(e,n,r,s,i,o,a,l,d,h,f,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=f,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,x)=>{this.resolve_=y,this.reject_=x,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new du(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,d=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,d)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Dc.NO_ERROR,l=i.getStatus();if(!a||XV(l,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===Dc.ABORT;r(!1,new du(!1,null,h));return}const d=this.successCodes_.indexOf(l)!==-1;r(!0,new du(d,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());QV(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=UV();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?Bk():$V();o(l)}else{const l=BV();o(l)}};this.canceled_?n(!1,new du(!1,null,!0)):this.backoffId_=KV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&GV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class du{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function ZV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function e9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function t9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function n9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function r9(t,e,n,r,s,i,o=!0){const a=YV(t.urlParams),l=t.url+a,d=Object.assign({},t.headers);return t9(d,e),ZV(d,n),e9(d,i),n9(d,r),new JV(l,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function i9(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n){this._service=e,n instanceof ln?this._location=n:this._location=ln.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Lc(e,n)}get root(){const e=new ln(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return i9(this._location.path)}get storage(){return this._service}get parent(){const e=s9(this._location.path);if(e===null)return null;const n=new ln(this._location.bucket,e);return new Lc(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw HV(e)}}function Nx(t,e){const n=e==null?void 0:e[OV];return n==null?null:ln.makeFromBucketSpec(n,t)}function o9(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:ME(s,t.app.options.projectId))}class a9{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=Uk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=MV,this._maxUploadRetryTime=FV,this._requests=new Set,s!=null?this._bucket=ln.makeFromBucketSpec(s,this._host):this._bucket=Nx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ln.makeFromBucketSpec(this._url,e):this._bucket=Nx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ax("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ax("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Lc(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new qV(Bk());{const o=r9(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const Rx="@firebase/storage",jx="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k="storage";function l9(t=ng(),e){t=wt(t);const r=fd(t,$k).getImmediate({identifier:e}),s=LE("storage");return s&&u9(r,...s),r}function u9(t,e,n,r={}){o9(t,e,n,r)}function c9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new a9(n,r,s,e,Gs)}function d9(){Ms(new Jr($k,c9,"PUBLIC").setMultipleInstances(!0)),En(Rx,jx,""),En(Rx,jx,"esm2017")}d9();const h9={apiKey:"AIzaSyBjov09GatKOmnpKspWHQySV-Zfx7tTH4A",authDomain:"learn-sphere-app.firebaseapp.com",projectId:"learn-sphere-app",storageBucket:"learn-sphere-app.firebasestorage.app",messagingSenderId:"616607041445",appId:"1:616607041445:web:34b85e740a41608e0d0a4c",measurementId:"G-TQ1B5JCB44"},Hg=BE(h9),Fo=_6(Hg),Dx=pV(Hg);l9(Hg);let f9={data:""},p9=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||f9,m9=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,g9=/\/\*[^]*?\*\/|  +/g,Lx=/\n+/g,Cr=(t,e)=>{let n="",r="",s="";for(let i in t){let o=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+o+";":r+=i[1]=="f"?Cr(o,i):i+"{"+Cr(o,i[1]=="k"?"":e)+"}":typeof o=="object"?r+=Cr(o,e?e.replace(/([^,])+/g,a=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):o!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Cr.p?Cr.p(i,o):i+":"+o+";")}return n+(e&&s?e+"{"+s+"}":s)+r},On={},zk=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+zk(t[n]);return e}return t},y9=(t,e,n,r,s)=>{let i=zk(t),o=On[i]||(On[i]=(l=>{let d=0,h=11;for(;d<l.length;)h=101*h+l.charCodeAt(d++)>>>0;return"go"+h})(i));if(!On[o]){let l=i!==t?t:(d=>{let h,f,m=[{}];for(;h=m9.exec(d.replace(g9,""));)h[4]?m.shift():h[3]?(f=h[3].replace(Lx," ").trim(),m.unshift(m[0][f]=m[0][f]||{})):m[0][h[1]]=h[2].replace(Lx," ").trim();return m[0]})(t);On[o]=Cr(s?{["@keyframes "+o]:l}:l,n?"":"."+o)}let a=n&&On.g?On.g:null;return n&&(On.g=On[o]),((l,d,h,f)=>{f?d.data=d.data.replace(f,l):d.data.indexOf(l)===-1&&(d.data=h?l+d.data:d.data+l)})(On[o],e,r,a),o},v9=(t,e,n)=>t.reduce((r,s,i)=>{let o=e[i];if(o&&o.call){let a=o(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Cr(a,""):a===!1?"":a}return r+s+(o??"")},"");function bd(t){let e=this||{},n=t.call?t(e.p):t;return y9(n.unshift?n.raw?v9(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,p9(e.target),e.g,e.o,e.k)}let Wk,Ap,Np;bd.bind({g:1});let ar=bd.bind({k:1});function x9(t,e,n,r){Cr.p=e,Wk=t,Ap=n,Np=r}function ls(t,e){let n=this||{};return function(){let r=arguments;function s(i,o){let a=Object.assign({},i),l=a.className||s.className;n.p=Object.assign({theme:Ap&&Ap()},a),n.o=/ *go\d+/.test(l),a.className=bd.apply(n,r)+(l?" "+l:"");let d=t;return t[0]&&(d=a.as||t,delete a.as),Np&&d[0]&&Np(a),Wk(d,a)}return s}}var w9=t=>typeof t=="function",Vc=(t,e)=>w9(t)?t(e):t,_9=(()=>{let t=0;return()=>(++t).toString()})(),Hk=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),E9=20,qk=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,E9)};case 1:return{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return qk(t,{type:t.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},Ou=[],Ss={toasts:[],pausedAt:void 0},Xs=t=>{Ss=qk(Ss,t),Ou.forEach(e=>{e(Ss)})},T9={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},k9=(t={})=>{let[e,n]=v.useState(Ss),r=v.useRef(Ss);v.useEffect(()=>(r.current!==Ss&&n(Ss),Ou.push(n),()=>{let i=Ou.indexOf(n);i>-1&&Ou.splice(i,1)}),[]);let s=e.toasts.map(i=>{var o,a,l;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((o=t[i.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:i.duration||((a=t[i.type])==null?void 0:a.duration)||(t==null?void 0:t.duration)||T9[i.type],style:{...t.style,...(l=t[i.type])==null?void 0:l.style,...i.style}}});return{...e,toasts:s}},I9=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||_9()}),wl=t=>(e,n)=>{let r=I9(e,t,n);return Xs({type:2,toast:r}),r.id},vt=(t,e)=>wl("blank")(t,e);vt.error=wl("error");vt.success=wl("success");vt.loading=wl("loading");vt.custom=wl("custom");vt.dismiss=t=>{Xs({type:3,toastId:t})};vt.remove=t=>Xs({type:4,toastId:t});vt.promise=(t,e,n)=>{let r=vt.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let i=e.success?Vc(e.success,s):void 0;return i?vt.success(i,{id:r,...n,...n==null?void 0:n.success}):vt.dismiss(r),s}).catch(s=>{let i=e.error?Vc(e.error,s):void 0;i?vt.error(i,{id:r,...n,...n==null?void 0:n.error}):vt.dismiss(r)}),t};var S9=(t,e)=>{Xs({type:1,toast:{id:t,height:e}})},b9=()=>{Xs({type:5,time:Date.now()})},va=new Map,C9=1e3,P9=(t,e=C9)=>{if(va.has(t))return;let n=setTimeout(()=>{va.delete(t),Xs({type:4,toastId:t})},e);va.set(t,n)},A9=t=>{let{toasts:e,pausedAt:n}=k9(t);v.useEffect(()=>{if(n)return;let i=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&vt.dismiss(a.id);return}return setTimeout(()=>vt.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=v.useCallback(()=>{n&&Xs({type:6,time:Date.now()})},[n]),s=v.useCallback((i,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:d}=o||{},h=e.filter(y=>(y.position||d)===(i.position||d)&&y.height),f=h.findIndex(y=>y.id===i.id),m=h.filter((y,x)=>x<f&&y.visible).length;return h.filter(y=>y.visible).slice(...a?[m+1]:[0,m]).reduce((y,x)=>y+(x.height||0)+l,0)},[e]);return v.useEffect(()=>{e.forEach(i=>{if(i.dismissed)P9(i.id,i.removeDelay);else{let o=va.get(i.id);o&&(clearTimeout(o),va.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:S9,startPause:b9,endPause:r,calculateOffset:s}}},N9=ar`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,R9=ar`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,j9=ar`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,D9=ls("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${N9} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${R9} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${j9} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,L9=ar`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,V9=ls("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${L9} 1s linear infinite;
`,O9=ar`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,M9=ar`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,F9=ls("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${O9} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${M9} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,U9=ls("div")`
  position: absolute;
`,B9=ls("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,$9=ar`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,z9=ls("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${$9} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,W9=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?v.createElement(z9,null,e):e:n==="blank"?null:v.createElement(B9,null,v.createElement(V9,{...r}),n!=="loading"&&v.createElement(U9,null,n==="error"?v.createElement(D9,{...r}):v.createElement(F9,{...r})))},H9=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,q9=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,K9="0%{opacity:0;} 100%{opacity:1;}",G9="0%{opacity:1;} 100%{opacity:0;}",Q9=ls("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Y9=ls("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,X9=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=Hk()?[K9,G9]:[H9(n),q9(n)];return{animation:e?`${ar(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ar(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},J9=v.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?X9(t.position||e||"top-center",t.visible):{opacity:0},i=v.createElement(W9,{toast:t}),o=v.createElement(Y9,{...t.ariaProps},Vc(t.message,t));return v.createElement(Q9,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:i,message:o}):v.createElement(v.Fragment,null,i,o))});x9(v.createElement);var Z9=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let i=v.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return v.createElement("div",{ref:i,className:e,style:n},s)},eO=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Hk()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},tO=bd`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,hu=16,nO=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,containerStyle:i,containerClassName:o})=>{let{toasts:a,handlers:l}=A9(n);return v.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:hu,left:hu,right:hu,bottom:hu,pointerEvents:"none",...i},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(d=>{let h=d.position||e,f=l.calculateOffset(d,{reverseOrder:t,gutter:r,defaultPosition:e}),m=eO(h,f);return v.createElement(Z9,{id:d.id,key:d.id,onHeightUpdate:l.updateHeight,className:d.visible?tO:"",style:m},d.type==="custom"?Vc(d.message,d):s?s(d):v.createElement(J9,{toast:d,position:h}))}))},yr=vt;const Kk=v.createContext();function us(){return v.useContext(Kk)}function rO({children:t}){const[e,n]=v.useState(null),[r,s]=v.useState(null),[i,o]=v.useState(!0);async function a(y,x,S){try{const k=(await rj(Fo,y,x)).user;return await oj(k,{displayName:S}),await NV(bx(Dx,"users",k.uid),{uid:k.uid,email:k.email,displayName:S,createdAt:DV(),points:0,level:1,badges:[],enrolledCourses:[],completedCourses:[],preferences:{notifications:!0,theme:"light",language:"en"}}),yr.success("Account created successfully!"),k}catch(P){throw yr.error(P.message),P}}async function l(y,x){try{const S=await sj(Fo,y,x);return yr.success("Signed in successfully!"),S.user}catch(S){throw yr.error(S.message),S}}async function d(){try{await cj(Fo),yr.success("Signed out successfully!")}catch(y){throw yr.error(y.message),y}}async function h(y){try{await nj(Fo,y),yr.success("Password reset email sent!")}catch(x){throw yr.error(x.message),x}}async function f(y){try{const x=await PV(bx(Dx,"users",y));return x.exists()?(s(x.data()),x.data()):null}catch(x){return console.error("Error fetching user data:",x),null}}v.useEffect(()=>uj(Fo,async x=>{n(x),x?await f(x.uid):s(null),o(!1)}),[]);const m={currentUser:e,userData:r,signup:a,signin:l,signout:d,resetPassword:h,fetchUserData:f,loading:i};return c.jsx(Kk.Provider,{value:m,children:t})}const Gk=v.createContext();function sO(){return v.useContext(Gk)}function iO({children:t}){const[e,n]=v.useState(()=>{const i=localStorage.getItem("theme");return i?i==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});function r(){n(i=>!i)}v.useEffect(()=>{e?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},[e]);const s={isDarkMode:e,toggleDarkMode:r};return c.jsx(Gk.Provider,{value:s,children:t})}function oO({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"}))}const An=v.forwardRef(oO);function aO({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"}))}const Qk=v.forwardRef(aO);function lO({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const Oc=v.forwardRef(lO);function uO({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const cO=v.forwardRef(uO);function dO({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"}))}const hO=v.forwardRef(dO);function fO({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const pO=v.forwardRef(fO);function mO({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const gO=v.forwardRef(mO);function yO({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const vO=v.forwardRef(yO);function xO({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Mn=v.forwardRef(xO);function wO({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const gn=v.forwardRef(wO);function _O({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const ri=v.forwardRef(_O);function EO({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const qg=v.forwardRef(EO);function TO({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const kO=v.forwardRef(TO);function IO({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const Yk=v.forwardRef(IO);function SO({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"}),v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"}))}const bO=v.forwardRef(SO);function CO({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))}const PO=v.forwardRef(CO);function AO({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const Mc=v.forwardRef(AO);function NO({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const RO=v.forwardRef(NO);function jO({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const DO=v.forwardRef(jO);function LO({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const VO=v.forwardRef(LO);function OO({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const Gh=v.forwardRef(OO);function MO({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 6.087c0-.355.186-.676.401-.959.221-.29.349-.634.349-1.003 0-1.036-1.007-1.875-2.25-1.875s-2.25.84-2.25 1.875c0 .369.128.713.349 1.003.215.283.401.604.401.959v0a.64.64 0 0 1-.657.643 48.39 48.39 0 0 1-4.163-.3c.186 1.613.293 3.25.315 4.907a.656.656 0 0 1-.658.663v0c-.355 0-.676-.186-.959-.401a1.647 1.647 0 0 0-1.003-.349c-1.036 0-1.875 1.007-1.875 2.25s.84 2.25 1.875 2.25c.369 0 .713-.128 1.003-.349.283-.215.604-.401.959-.401v0c.31 0 .555.26.532.57a48.039 48.039 0 0 1-.642 5.056c1.518.19 3.058.309 4.616.354a.64.64 0 0 0 .657-.643v0c0-.355-.186-.676-.401-.959a1.647 1.647 0 0 1-.349-1.003c0-1.035 1.008-1.875 2.25-1.875 1.243 0 2.25.84 2.25 1.875 0 .369-.128.713-.349 1.003-.215.283-.4.604-.4.959v0c0 .333.277.599.61.58a48.1 48.1 0 0 0 5.427-.63 48.05 48.05 0 0 0 .582-4.717.532.532 0 0 0-.533-.57v0c-.355 0-.676.186-.959.401-.29.221-.634.349-1.003.349-1.035 0-1.875-1.007-1.875-2.25s.84-2.25 1.875-2.25c.37 0 .713.128 1.003.349.283.215.604.401.96.401v0a.656.656 0 0 0 .658-.663 48.422 48.422 0 0 0-.37-5.36c-1.886.342-3.81.574-5.766.689a.578.578 0 0 1-.61-.58v0Z"}))}const Xk=v.forwardRef(MO);function FO({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const Kg=v.forwardRef(FO);function UO({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const BO=v.forwardRef(UO);function $O({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const zO=v.forwardRef($O);function WO({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const Fc=v.forwardRef(WO);function HO({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const qO=v.forwardRef(HO);function KO({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15.75 10.5 4.72-4.72a.75.75 0 0 1 1.28.53v11.38a.75.75 0 0 1-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25h-9A2.25 2.25 0 0 0 2.25 7.5v9a2.25 2.25 0 0 0 2.25 2.25Z"}))}const GO=v.forwardRef(KO);function QO({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Uc=v.forwardRef(QO);function YO(){const{currentUser:t,signout:e}=us(),{isDarkMode:n,toggleDarkMode:r}=sO(),[s,i]=v.useState(!1),[o,a]=v.useState(!1),l=io(),d=rl();v.useEffect(()=>{const f=()=>{i(window.scrollY>10)};return window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),v.useEffect(()=>{a(!1)},[l]);const h=async()=>{try{await e(),d("/")}catch(f){console.error("Error signing out:",f)}};return c.jsxs("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-300 ${s||o||t?"bg-white bg-opacity-90 backdrop-blur-sm shadow-sm dark:bg-gray-900 dark:bg-opacity-90":"bg-transparent"}`,children:[c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsxs(te,{to:"/",className:"flex items-center space-x-2",children:[c.jsx(An,{className:"h-8 w-8 text-primary"}),c.jsx("span",{className:"text-xl font-bold tracking-tight",children:"LearnSphere"})]}),c.jsxs("div",{className:"hidden md:flex md:items-center md:space-x-8",children:[c.jsx(te,{to:"/",className:`nav-link ${l.pathname==="/"?"text-primary font-medium":"text-gray-700 dark:text-gray-300"}`,children:"Home"}),t?c.jsxs(c.Fragment,{children:[c.jsx(te,{to:"/dashboard",className:`nav-link ${l.pathname==="/dashboard"?"text-primary font-medium":"text-gray-700 dark:text-gray-300"}`,children:"Dashboard"}),c.jsx(te,{to:"/courses",className:`nav-link ${l.pathname.includes("/courses")?"text-primary font-medium":"text-gray-700 dark:text-gray-300"}`,children:"Courses"}),c.jsx(te,{to:"/learning-path",className:`nav-link ${l.pathname==="/learning-path"?"text-primary font-medium":"text-gray-700 dark:text-gray-300"}`,children:"Learning Path"})]}):c.jsxs(c.Fragment,{children:[c.jsx("a",{href:"#features",className:"text-gray-700 hover:text-primary dark:text-gray-300 dark:hover:text-primary transition-colors",children:"Features"}),c.jsx("a",{href:"#how-it-works",className:"text-gray-700 hover:text-primary dark:text-gray-300 dark:hover:text-primary transition-colors",children:"How It Works"}),c.jsx("a",{href:"#testimonials",className:"text-gray-700 hover:text-primary dark:text-gray-300 dark:hover:text-primary transition-colors",children:"Testimonials"})]})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("button",{onClick:r,className:"rounded-full p-1.5 text-gray-700 hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-800 transition-colors","aria-label":"Toggle dark mode",children:n?c.jsx(BO,{className:"h-5 w-5"}):c.jsx(DO,{className:"h-5 w-5"})}),t?c.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[c.jsxs(te,{to:"/profile",className:"flex items-center space-x-2",children:[c.jsx(zO,{className:"h-7 w-7 text-gray-700 dark:text-gray-300"}),c.jsx("span",{className:"text-sm font-medium",children:"Profile"})]}),c.jsx("button",{onClick:h,className:"btn btn-outline",children:"Sign Out"})]}):c.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[c.jsx(te,{to:"/signin",className:"btn btn-outline",children:"Sign In"}),c.jsx(te,{to:"/signup",className:"btn btn-primary",children:"Sign Up"})]}),c.jsx("button",{onClick:()=>a(!o),className:"md:hidden rounded-md p-2 text-gray-700 hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-800 transition-colors",children:o?c.jsx(Uc,{className:"h-6 w-6"}):c.jsx(cO,{className:"h-6 w-6"})})]})]})}),o&&c.jsx(ue.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"md:hidden border-t border-gray-200 dark:border-gray-800",children:c.jsxs("div",{className:"px-4 py-3 space-y-3",children:[c.jsx(te,{to:"/",className:"block py-2 px-3 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800",children:"Home"}),t?c.jsxs(c.Fragment,{children:[c.jsx(te,{to:"/dashboard",className:"block py-2 px-3 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800",children:"Dashboard"}),c.jsx(te,{to:"/courses",className:"block py-2 px-3 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800",children:"Courses"}),c.jsx(te,{to:"/learning-path",className:"block py-2 px-3 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800",children:"Learning Path"}),c.jsx(te,{to:"/profile",className:"block py-2 px-3 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800",children:"Profile"}),c.jsx("button",{onClick:h,className:"w-full text-left py-2 px-3 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800",children:"Sign Out"})]}):c.jsxs(c.Fragment,{children:[c.jsx("a",{href:"#features",className:"block py-2 px-3 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800",children:"Features"}),c.jsx("a",{href:"#how-it-works",className:"block py-2 px-3 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800",children:"How It Works"}),c.jsx("a",{href:"#testimonials",className:"block py-2 px-3 rounded-md hover:bg-gray-100 dark:hover:bg-gray-800",children:"Testimonials"}),c.jsxs("div",{className:"pt-4 space-y-2",children:[c.jsx(te,{to:"/signin",className:"block w-full py-2 text-center border border-gray-300 rounded-md dark:border-gray-700",children:"Sign In"}),c.jsx(te,{to:"/signup",className:"block w-full py-2 text-center bg-primary text-white rounded-md",children:"Sign Up"})]})]})]})})]})}function XO(){const t=new Date().getFullYear();return c.jsx("footer",{className:"bg-gray-100 dark:bg-gray-800 pt-12 pb-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(An,{className:"h-8 w-8 text-primary"}),c.jsx("span",{className:"text-xl font-bold tracking-tight",children:"LearnSphere"})]}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:"Empowering everyone to learn without limits. Our inclusive learning platform makes education accessible, engaging, and personalized for all."}),c.jsxs("div",{className:"flex space-x-4 pt-2",children:[c.jsx("a",{href:"#",className:"text-gray-600 hover:text-primary dark:text-gray-400 dark:hover:text-primary transition-colors",children:c.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M22.675 0h-21.35c-.732 0-1.325.593-1.325 1.325v21.351c0 .731.593 1.324 1.325 1.324h11.495v-9.294h-3.128v-3.622h3.128v-2.671c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12v9.293h6.116c.73 0 1.323-.593 1.323-1.325v-21.35c0-.732-.593-1.325-1.325-1.325z"})})}),c.jsx("a",{href:"#",className:"text-gray-600 hover:text-primary dark:text-gray-400 dark:hover:text-primary transition-colors",children:c.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723 10.1 10.1 0 01-3.127 1.184 4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})}),c.jsx("a",{href:"#",className:"text-gray-600 hover:text-primary dark:text-gray-400 dark:hover:text-primary transition-colors",children:c.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z"})})}),c.jsx("a",{href:"#",className:"text-gray-600 hover:text-primary dark:text-gray-400 dark:hover:text-primary transition-colors",children:c.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-gray-900 dark:text-white mb-4",children:"Platform"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsx("li",{children:c.jsx(te,{to:"/courses",className:"text-gray-600 hover:text-primary dark:text-gray-400 dark:hover:text-primary text-sm transition-colors",children:"All Courses"})}),c.jsx("li",{children:c.jsx(te,{to:"/learning-path",className:"text-gray-600 hover:text-primary dark:text-gray-400 dark:hover:text-primary text-sm transition-colors",children:"Learning Paths"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-600 hover:text-primary dark:text-gray-400 dark:hover:text-primary text-sm transition-colors",children:"Certification"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-600 hover:text-primary dark:text-gray-400 dark:hover:text-primary text-sm transition-colors",children:"For Educators"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-600 hover:text-primary dark:text-gray-400 dark:hover:text-primary text-sm transition-colors",children:"Enterprise"})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-gray-900 dark:text-white mb-4",children:"Resources"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-600 hover:text-primary dark:text-gray-400 dark:hover:text-primary text-sm transition-colors",children:"Help Center"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-600 hover:text-primary dark:text-gray-400 dark:hover:text-primary text-sm transition-colors",children:"Knowledge Base"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-600 hover:text-primary dark:text-gray-400 dark:hover:text-primary text-sm transition-colors",children:"Community"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-600 hover:text-primary dark:text-gray-400 dark:hover:text-primary text-sm transition-colors",children:"Blog"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-600 hover:text-primary dark:text-gray-400 dark:hover:text-primary text-sm transition-colors",children:"Tutorials"})})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-bold uppercase tracking-wider text-gray-900 dark:text-white mb-4",children:"Legal"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-600 hover:text-primary dark:text-gray-400 dark:hover:text-primary text-sm transition-colors",children:"Terms of Service"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-600 hover:text-primary dark:text-gray-400 dark:hover:text-primary text-sm transition-colors",children:"Privacy Policy"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-600 hover:text-primary dark:text-gray-400 dark:hover:text-primary text-sm transition-colors",children:"Cookie Policy"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-600 hover:text-primary dark:text-gray-400 dark:hover:text-primary text-sm transition-colors",children:"Accessibility"})}),c.jsx("li",{children:c.jsx("a",{href:"#",className:"text-gray-600 hover:text-primary dark:text-gray-400 dark:hover:text-primary text-sm transition-colors",children:"Contact Us"})})]})]})]}),c.jsx("div",{className:"mt-12 border-t border-gray-200 dark:border-gray-700 pt-8",children:c.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm text-center",children:["© ",t," LearnSphere. All rights reserved."]})})]})})}function Kr({children:t}){return c.jsxs("div",{className:"flex flex-col min-h-screen",children:[c.jsx(YO,{}),c.jsx("main",{className:"flex-grow pt-16",children:c.jsx(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:t})}),c.jsx(XO,{})]})}function JO(){const{currentUser:t}=us(),[e,n]=v.useState(!1);v.useEffect(()=>{const i=()=>{n(window.scrollY>50)};return window.addEventListener("scroll",i),()=>{window.removeEventListener("scroll",i)}},[]);const r=[{id:1,title:"Introduction to Web Development",description:"Learn the fundamentals of HTML, CSS, and JavaScript to build your first website.",coverImage:"https://images.pexels.com/photos/1181263/pexels-photo-1181263.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",category:"Web Development",difficulty:"Beginner",duration:"8 weeks",rating:4.8,reviewsCount:342,studentsCount:"2.5k+",instructor:{name:"Alex Morgan",avatarUrl:"https://images.pexels.com/photos/3763188/pexels-photo-3763188.jpeg?auto=compress&cs=tinysrgb&w=1600"}},{id:2,title:"Data Science Fundamentals",description:"Master the basics of data analysis and visualization using Python and popular libraries.",coverImage:"https://images.pexels.com/photos/590022/pexels-photo-590022.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",category:"Data Science",difficulty:"Intermediate",duration:"10 weeks",rating:4.7,reviewsCount:268,studentsCount:"1.8k+",instructor:{name:"Sarah Chen",avatarUrl:"https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=1600"}},{id:3,title:"Mobile App Development with React Native",description:"Build cross-platform mobile applications using React Native and JavaScript.",coverImage:"https://images.pexels.com/photos/2451552/pexels-photo-2451552.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",category:"Mobile Development",difficulty:"Advanced",duration:"12 weeks",rating:4.9,reviewsCount:189,studentsCount:"1.2k+",instructor:{name:"James Wilson",avatarUrl:"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=1600"}}],s=[{id:1,content:"LearnSphere transformed my learning experience. The AI tutor helped me understand complex concepts that I was struggling with for months!",author:"Emily Johnson",role:"Software Developer",avatarUrl:"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=1600"},{id:2,content:"As someone with a learning disability, I've always struggled with traditional education platforms. LearnSphere's inclusive approach and adaptive learning has made all the difference.",author:"Michael Rodriguez",role:"Graphic Designer",avatarUrl:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=1600"},{id:3,content:"The gamification elements make learning addictive in the best way! I'm constantly motivated to keep pushing myself and earn new badges.",author:"Sophia Chen",role:"Marketing Specialist",avatarUrl:"https://images.pexels.com/photos/415829/pexels-photo-415829.jpeg?auto=compress&cs=tinysrgb&w=1600"}];return c.jsxs(Kr,{children:[c.jsxs("section",{className:"relative min-h-screen bg-gradient-to-br from-white to-gray-100 dark:from-gray-900 dark:to-gray-800 flex items-center pt-16",children:[c.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-5"}),c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-24 flex flex-col md:flex-row items-center",children:[c.jsx("div",{className:"md:w-1/2 mb-12 md:mb-0",children:c.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[c.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold leading-tight mb-6",children:["Learn Without ",c.jsx("span",{className:"text-primary",children:"Limits"})]}),c.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 mb-8 max-w-xl",children:"An inclusive e-learning platform with personalized AI tutoring and gamification to make education accessible and engaging for everyone."}),c.jsx("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:t?c.jsx(te,{to:"/dashboard",className:"btn btn-primary text-base px-8 py-3",children:"Go to Dashboard"}):c.jsxs(c.Fragment,{children:[c.jsx(te,{to:"/signup",className:"btn btn-primary text-base px-8 py-3",children:"Get Started Free"}),c.jsx(te,{to:"/signin",className:"btn btn-outline text-base px-8 py-3",children:"Sign In"})]})}),c.jsxs("div",{className:"mt-8 flex items-center space-x-2",children:[c.jsxs("div",{className:"flex -space-x-2",children:[c.jsx("img",{src:"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=1600",className:"w-8 h-8 rounded-full border-2 border-white dark:border-gray-800",alt:"User"}),c.jsx("img",{src:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=1600",className:"w-8 h-8 rounded-full border-2 border-white dark:border-gray-800",alt:"User"}),c.jsx("img",{src:"https://images.pexels.com/photos/415829/pexels-photo-415829.jpeg?auto=compress&cs=tinysrgb&w=1600",className:"w-8 h-8 rounded-full border-2 border-white dark:border-gray-800",alt:"User"})]}),c.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Joined by ",c.jsx("span",{className:"font-semibold",children:"10,000+"})," learners"]})]})]})}),c.jsx("div",{className:"md:w-1/2",children:c.jsxs(ue.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},className:"relative",children:[c.jsx("div",{className:"relative z-10 rounded-xl overflow-hidden shadow-2xl",children:c.jsx("img",{src:"https://images.pexels.com/photos/3861958/pexels-photo-3861958.jpeg?auto=compress&cs=tinysrgb&w=1600",alt:"E-learning platform interface",className:"w-full"})}),c.jsx("div",{className:"absolute -bottom-6 -right-6 w-24 h-24 rounded-full bg-primary opacity-20 animate-pulse"}),c.jsx("div",{className:"absolute -top-6 -left-6 w-32 h-32 rounded-full bg-secondary opacity-20 animate-pulse"})]})})]})]}),c.jsx("section",{id:"features",className:"py-16 md:py-24 bg-white dark:bg-gray-900",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[c.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Why Choose LearnSphere?"}),c.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Our platform is designed to make education accessible, engaging, and effective for everyone."})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-12",children:[c.jsxs(ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},className:"bg-gray-50 dark:bg-gray-800 p-6 rounded-lg hover:shadow-md transition-shadow",children:[c.jsx("div",{className:"bg-primary/10 rounded-lg p-3 inline-block mb-4",children:c.jsx(An,{className:"h-8 w-8 text-primary"})}),c.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Personalized Learning Paths"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Custom learning journeys tailored to your skills, goals, and learning pace to ensure effective progress."})]}),c.jsxs(ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.1},viewport:{once:!0},className:"bg-gray-50 dark:bg-gray-800 p-6 rounded-lg hover:shadow-md transition-shadow",children:[c.jsx("div",{className:"bg-secondary/10 rounded-lg p-3 inline-block mb-4",children:c.jsx(vO,{className:"h-8 w-8 text-secondary"})}),c.jsx("h3",{className:"text-xl font-semibold mb-3",children:"AI-Powered Tutor"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Get instant help and guidance from our intelligent AI assistant that adapts to your learning style."})]}),c.jsxs(ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},viewport:{once:!0},className:"bg-gray-50 dark:bg-gray-800 p-6 rounded-lg hover:shadow-md transition-shadow",children:[c.jsx("div",{className:"bg-green-100 dark:bg-green-900/20 rounded-lg p-3 inline-block mb-4",children:c.jsx(Xk,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),c.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Gamified Experience"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Earn points, badges, and climb leaderboards as you learn, making education fun and motivating."})]}),c.jsxs(ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.3},viewport:{once:!0},className:"bg-gray-50 dark:bg-gray-800 p-6 rounded-lg hover:shadow-md transition-shadow",children:[c.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/20 rounded-lg p-3 inline-block mb-4",children:c.jsx(Fc,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"})}),c.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Inclusive Learning"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Accessible design and multiple learning formats to accommodate different abilities and learning preferences."})]}),c.jsxs(ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.4},viewport:{once:!0},className:"bg-gray-50 dark:bg-gray-800 p-6 rounded-lg hover:shadow-md transition-shadow",children:[c.jsx("div",{className:"bg-purple-100 dark:bg-purple-900/20 rounded-lg p-3 inline-block mb-4",children:c.jsx(Qk,{className:"h-8 w-8 text-purple-600 dark:text-purple-400"})}),c.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Adaptive Assessments"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Smart quizzes and assignments that adjust to your performance to identify and reinforce areas of improvement."})]}),c.jsxs(ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.5},viewport:{once:!0},className:"bg-gray-50 dark:bg-gray-800 p-6 rounded-lg hover:shadow-md transition-shadow",children:[c.jsx("div",{className:"bg-yellow-100 dark:bg-yellow-900/20 rounded-lg p-3 inline-block mb-4",children:c.jsx(PO,{className:"h-8 w-8 text-yellow-600 dark:text-yellow-400"})}),c.jsx("h3",{className:"text-xl font-semibold mb-3",children:"Interactive Content"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Engaging videos, simulations, and interactive exercises that make complex concepts easy to understand."})]})]})]})}),c.jsx("section",{id:"how-it-works",className:"py-16 md:py-24 bg-gray-50 dark:bg-gray-800",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[c.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"How LearnSphere Works"}),c.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Our proven approach to effective, inclusive, and enjoyable online learning."})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-8 md:gap-4",children:[c.jsxs(ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},className:"relative",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-8 shadow-sm relative z-10",children:[c.jsx("div",{className:"absolute -top-4 -left-4 w-10 h-10 rounded-full bg-primary flex items-center justify-center text-white font-bold",children:"1"}),c.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Create Your Profile"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Sign up and complete a brief assessment to help us understand your goals, learning style, and current skill level."}),c.jsxs("ul",{className:"space-y-2",children:[c.jsxs("li",{className:"flex items-start",children:[c.jsx(Mn,{className:"h-5 w-5 text-green-500 mr-2 mt-0.5"}),c.jsx("span",{className:"text-sm",children:"Personalized onboarding"})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx(Mn,{className:"h-5 w-5 text-green-500 mr-2 mt-0.5"}),c.jsx("span",{className:"text-sm",children:"Initial skill assessment"})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx(Mn,{className:"h-5 w-5 text-green-500 mr-2 mt-0.5"}),c.jsx("span",{className:"text-sm",children:"Learning preferences"})]})]})]}),c.jsx("div",{className:"md:hidden h-10 w-1 bg-primary mx-auto my-2"}),c.jsx("div",{className:"hidden md:block absolute top-1/2 right-0 h-1 w-full md:w-16 bg-primary -mr-4"})]}),c.jsxs(ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},viewport:{once:!0},className:"relative",children:[c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-8 shadow-sm relative z-10",children:[c.jsx("div",{className:"absolute -top-4 -left-4 w-10 h-10 rounded-full bg-primary flex items-center justify-center text-white font-bold",children:"2"}),c.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Follow Your Learning Path"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Access your customized course recommendations and progress through interactive content with AI-assisted guidance."}),c.jsxs("ul",{className:"space-y-2",children:[c.jsxs("li",{className:"flex items-start",children:[c.jsx(Mn,{className:"h-5 w-5 text-green-500 mr-2 mt-0.5"}),c.jsx("span",{className:"text-sm",children:"Tailored course roadmap"})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx(Mn,{className:"h-5 w-5 text-green-500 mr-2 mt-0.5"}),c.jsx("span",{className:"text-sm",children:"AI tutor assistance"})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx(Mn,{className:"h-5 w-5 text-green-500 mr-2 mt-0.5"}),c.jsx("span",{className:"text-sm",children:"Progress tracking"})]})]})]}),c.jsx("div",{className:"md:hidden h-10 w-1 bg-primary mx-auto my-2"}),c.jsx("div",{className:"hidden md:block absolute top-1/2 right-0 h-1 w-full md:w-16 bg-primary -mr-4"})]}),c.jsx(ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.4},viewport:{once:!0},className:"relative",children:c.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-8 shadow-sm relative z-10",children:[c.jsx("div",{className:"absolute -top-4 -left-4 w-10 h-10 rounded-full bg-primary flex items-center justify-center text-white font-bold",children:"3"}),c.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Earn Recognition"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Complete courses, earn certificates, collect badges, and showcase your achievements on your learner profile."}),c.jsxs("ul",{className:"space-y-2",children:[c.jsxs("li",{className:"flex items-start",children:[c.jsx(Mn,{className:"h-5 w-5 text-green-500 mr-2 mt-0.5"}),c.jsx("span",{className:"text-sm",children:"Digital certificates"})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx(Mn,{className:"h-5 w-5 text-green-500 mr-2 mt-0.5"}),c.jsx("span",{className:"text-sm",children:"Achievement badges"})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx(Mn,{className:"h-5 w-5 text-green-500 mr-2 mt-0.5"}),c.jsx("span",{className:"text-sm",children:"Skills portfolio"})]})]})]})})]})]})}),c.jsx("section",{className:"py-16 md:py-24 bg-white dark:bg-gray-900",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[c.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Featured Courses"}),c.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Explore our most popular courses taught by industry experts."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map((i,o)=>c.jsxs(ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:o*.1},viewport:{once:!0},className:"card group",children:[c.jsxs("div",{className:"relative overflow-hidden rounded-t-lg -mt-6 -mx-6 mb-4",children:[c.jsx("img",{src:i.coverImage,alt:i.title,className:"w-full h-40 object-cover transition-transform duration-500 group-hover:scale-105"}),c.jsx("div",{className:"absolute top-3 left-3",children:c.jsx("span",{className:`badge ${i.difficulty==="Beginner"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100":i.difficulty==="Intermediate"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100"}`,children:i.difficulty})}),c.jsx("div",{className:"absolute top-3 right-3",children:c.jsx("span",{className:"badge bg-primary/10 text-primary dark:bg-primary/20",children:i.category})})]}),c.jsx("h3",{className:"text-lg font-semibold mb-2 line-clamp-2",children:i.title}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4 line-clamp-2",children:i.description}),c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Kg,{className:"h-5 w-5 text-yellow-400"}),c.jsx("span",{className:"ml-1 text-sm font-medium",children:i.rating}),c.jsxs("span",{className:"ml-1 text-xs text-gray-500 dark:text-gray-400",children:["(",i.reviewsCount,")"]})]}),c.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-400 text-sm",children:[c.jsx(qg,{className:"h-4 w-4 mr-1"}),i.duration]}),c.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-400 text-sm",children:[c.jsx(Fc,{className:"h-4 w-4 mr-1"}),i.studentsCount]})]}),c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("img",{src:i.instructor.avatarUrl,alt:i.instructor.name,className:"h-6 w-6 rounded-full object-cover"}),c.jsx("span",{className:"ml-2 text-sm",children:i.instructor.name})]}),t?c.jsx(te,{to:`/courses/${i.id}`,className:"btn btn-primary w-full",children:"View Course"}):c.jsx(te,{to:"/signup",className:"btn btn-primary w-full",children:"Sign Up to Access"})]},i.id))}),c.jsx("div",{className:"text-center mt-12",children:c.jsx(te,{to:t?"/courses":"/signup",className:"btn btn-outline",children:t?"Browse All Courses":"Sign Up to Browse All Courses"})})]})}),c.jsx("section",{id:"testimonials",className:"py-16 md:py-24 bg-gray-50 dark:bg-gray-800",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center max-w-3xl mx-auto mb-16",children:[c.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"What Our Learners Say"}),c.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400",children:"Discover how LearnSphere has transformed the learning experience for our community."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:s.map((i,o)=>c.jsxs(ue.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.5,delay:o*.1},viewport:{once:!0},className:"bg-white dark:bg-gray-900 p-6 rounded-lg shadow-sm relative",children:[c.jsx("div",{className:"absolute top-4 right-4 text-5xl leading-none text-primary opacity-20",children:'"'}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:i.content}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("img",{src:i.avatarUrl,alt:i.author,className:"w-12 h-12 rounded-full object-cover mr-4"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:i.author}),c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:i.role})]})]})]},i.id))})]})}),c.jsx("section",{className:"py-16 md:py-24 bg-gradient-to-r from-primary to-secondary text-white",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 text-center",children:c.jsxs(ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},children:[c.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Ready to Start Your Learning Journey?"}),c.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto text-white/90",children:"Join thousands of learners today and unlock your full potential with LearnSphere's inclusive learning platform."}),c.jsx("div",{className:"flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-4",children:t?c.jsx(te,{to:"/dashboard",className:"btn bg-white text-primary hover:bg-white/90 text-base px-8 py-3",children:"Go to Dashboard"}):c.jsxs(c.Fragment,{children:[c.jsx(te,{to:"/signup",className:"btn bg-white text-primary hover:bg-white/90 text-base px-8 py-3",children:"Create Free Account"}),c.jsx(te,{to:"/signin",className:"btn border border-white bg-transparent hover:bg-white/10 text-base px-8 py-3",children:"Sign In"})]})})]})})})]})}function ZO(){const[t,e]=v.useState(""),[n,r]=v.useState(""),[s,i]=v.useState(""),[o,a]=v.useState(!1),{signin:l}=us(),d=rl();async function h(f){f.preventDefault();try{i(""),a(!0),await l(t,n),d("/dashboard")}catch(m){i(m.message)}finally{a(!1)}}return c.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900 px-4",children:c.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs(te,{to:"/",className:"inline-block",children:[c.jsx(An,{className:"h-12 w-12 text-primary mx-auto"}),c.jsx("h1",{className:"mt-4 text-3xl font-bold",children:"LearnSphere"})]}),c.jsx("h2",{className:"mt-6 text-xl",children:"Sign in to your account"}),c.jsxs("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:["Or"," ",c.jsx(te,{to:"/signup",className:"text-primary font-medium hover:underline",children:"create a new account"})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-md rounded-lg px-8 py-10",children:[s&&c.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 px-4 py-3 rounded-md mb-6 text-sm",children:s}),c.jsxs("form",{onSubmit:h,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email Address"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Yk,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{id:"email",type:"email",required:!0,value:t,onChange:f=>e(f.target.value),className:"pl-10 w-full input",placeholder:"you@example.com"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Mc,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{id:"password",type:"password",required:!0,value:n,onChange:f=>r(f.target.value),className:"pl-10 w-full input",placeholder:"••••••••"})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),c.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Remember me"})]}),c.jsx("div",{className:"text-sm",children:c.jsx("a",{href:"#",className:"text-primary hover:underline",children:"Forgot password?"})})]}),c.jsx("button",{type:"submit",disabled:o,className:"w-full btn btn-primary py-2.5",children:o?c.jsxs("span",{className:"flex items-center justify-center",children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})]}),c.jsxs("div",{className:"mt-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-700"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-2 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400",children:"Or continue with"})})]}),c.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[c.jsx("button",{type:"button",className:"w-full flex justify-center py-2.5 px-4 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700",children:c.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M6.29 18.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0020 3.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.073 4.073 0 01.8 7.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 010 16.407a11.616 11.616 0 006.29 1.84"})})}),c.jsx("button",{type:"button",className:"w-full flex justify-center py-2.5 px-4 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700",children:c.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M10 0C4.477 0 0 4.484 0 10.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0110 4.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.203 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.942.359.31.678.921.678 1.856 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0020 10.017C20 4.484 15.522 0 10 0z",clipRule:"evenodd"})})})]})]})]})]})})}function eM(){const[t,e]=v.useState({displayName:"",email:"",password:"",confirmPassword:""}),[n,r]=v.useState(""),[s,i]=v.useState(!1),{signup:o}=us(),a=rl(),l=y=>{const{name:x,value:S}=y.target;e(P=>({...P,[x]:S}))};async function d(y){if(y.preventDefault(),t.password!==t.confirmPassword)return r("Passwords do not match");try{r(""),i(!0),await o(t.email,t.password,t.displayName),a("/dashboard")}catch(x){r(x.message)}finally{i(!1)}}const h=()=>{const{password:y}=t;if(!y)return 0;let x=0;return y.length>=8&&(x+=1),/[A-Z]/.test(y)&&(x+=1),/[0-9]/.test(y)&&(x+=1),/[^A-Za-z0-9]/.test(y)&&(x+=1),x},f=()=>{const y=h();if(y===0)return"Too weak";if(y===1)return"Weak";if(y===2)return"Medium";if(y===3)return"Strong";if(y===4)return"Very strong"},m=()=>{const y=h();if(y===0)return"bg-gray-200 dark:bg-gray-700";if(y===1)return"bg-red-500";if(y===2)return"bg-yellow-500";if(y===3)return"bg-green-500";if(y===4)return"bg-green-600"};return c.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-50 dark:bg-gray-900 px-4",children:c.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsxs(te,{to:"/",className:"inline-block",children:[c.jsx(An,{className:"h-12 w-12 text-primary mx-auto"}),c.jsx("h1",{className:"mt-4 text-3xl font-bold",children:"LearnSphere"})]}),c.jsx("h2",{className:"mt-6 text-xl",children:"Create your account"}),c.jsxs("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:["Already have an account?"," ",c.jsx(te,{to:"/signin",className:"text-primary font-medium hover:underline",children:"Sign in"})]})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow-md rounded-lg px-8 py-10",children:[n&&c.jsx("div",{className:"bg-red-50 dark:bg-red-900/30 text-red-600 dark:text-red-400 px-4 py-3 rounded-md mb-6 text-sm",children:n}),c.jsxs("form",{onSubmit:d,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Full Name"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(qO,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{id:"displayName",name:"displayName",type:"text",required:!0,value:t.displayName,onChange:l,className:"pl-10 w-full input",placeholder:"John Doe"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email Address"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Yk,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:t.email,onChange:l,className:"pl-10 w-full input",placeholder:"you@example.com"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Mc,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:t.password,onChange:l,className:"pl-10 w-full input",placeholder:"••••••••",minLength:8})]}),t.password&&c.jsxs("div",{className:"mt-2",children:[c.jsxs("div",{className:"flex justify-between items-center mb-1",children:[c.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:["Password strength: ",c.jsx("span",{className:"font-medium",children:f()})]}),c.jsxs("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[h(),"/4"]})]}),c.jsx("div",{className:"h-1.5 w-full bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:c.jsx("div",{className:`h-full ${m()} transition-all duration-300`,style:{width:`${h()*25}%`}})}),c.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-1",children:[c.jsxs("div",{className:`flex items-center text-xs ${t.password.length>=8?"text-green-500":"text-gray-500 dark:text-gray-400"}`,children:[t.password.length>=8?c.jsx(gn,{className:"h-3 w-3 mr-1"}):c.jsx("span",{className:"h-3 w-3 mr-1"}),"At least 8 characters"]}),c.jsxs("div",{className:`flex items-center text-xs ${/[A-Z]/.test(t.password)?"text-green-500":"text-gray-500 dark:text-gray-400"}`,children:[/[A-Z]/.test(t.password)?c.jsx(gn,{className:"h-3 w-3 mr-1"}):c.jsx("span",{className:"h-3 w-3 mr-1"}),"Uppercase letter"]}),c.jsxs("div",{className:`flex items-center text-xs ${/[0-9]/.test(t.password)?"text-green-500":"text-gray-500 dark:text-gray-400"}`,children:[/[0-9]/.test(t.password)?c.jsx(gn,{className:"h-3 w-3 mr-1"}):c.jsx("span",{className:"h-3 w-3 mr-1"}),"Number"]}),c.jsxs("div",{className:`flex items-center text-xs ${/[^A-Za-z0-9]/.test(t.password)?"text-green-500":"text-gray-500 dark:text-gray-400"}`,children:[/[^A-Za-z0-9]/.test(t.password)?c.jsx(gn,{className:"h-3 w-3 mr-1"}):c.jsx("span",{className:"h-3 w-3 mr-1"}),"Special character"]})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirm Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Mc,{className:"h-5 w-5 text-gray-400"})}),c.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:t.confirmPassword,onChange:l,className:`pl-10 w-full input ${t.confirmPassword&&t.password!==t.confirmPassword?"border-red-500 focus:ring-red-500/50":""}`,placeholder:"••••••••"})]}),t.confirmPassword&&t.password!==t.confirmPassword&&c.jsx("p",{className:"mt-1 text-sm text-red-500",children:"Passwords do not match"})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{id:"terms",name:"terms",type:"checkbox",required:!0,className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),c.jsxs("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:["I agree to the"," ",c.jsx("a",{href:"#",className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",c.jsx("a",{href:"#",className:"text-primary hover:underline",children:"Privacy Policy"})]})]}),c.jsx("button",{type:"submit",disabled:s||t.confirmPassword&&t.password!==t.confirmPassword,className:"w-full btn btn-primary py-2.5",children:s?c.jsxs("span",{className:"flex items-center justify-center",children:[c.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating account..."]}):"Create Account"})]}),c.jsxs("div",{className:"mt-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 flex items-center",children:c.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-700"})}),c.jsx("div",{className:"relative flex justify-center text-sm",children:c.jsx("span",{className:"px-2 bg-white dark:bg-gray-800 text-gray-500 dark:text-gray-400",children:"Or sign up with"})})]}),c.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[c.jsx("button",{type:"button",className:"w-full flex justify-center py-2.5 px-4 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700",children:c.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{d:"M6.29 18.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0020 3.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.073 4.073 0 01.8 7.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 010 16.407a11.616 11.616 0 006.29 1.84"})})}),c.jsx("button",{type:"button",className:"w-full flex justify-center py-2.5 px-4 border border-gray-300 dark:border-gray-700 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700",children:c.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:c.jsx("path",{fillRule:"evenodd",d:"M10 0C4.477 0 0 4.484 0 10.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0110 4.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.203 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.942.359.31.678.921.678 1.856 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0020 10.017C20 4.484 15.522 0 10 0z",clipRule:"evenodd"})})})]})]})]})]})})}function tM({userData:t}){const[e,n]=v.useState(!1);v.useEffect(()=>{const s=setTimeout(()=>{n(!0)},300);return()=>clearTimeout(s)},[]);const r=[{id:1,name:"Learning Streak",value:"7 days",icon:bO,color:"text-orange-500",bgColor:"bg-orange-100 dark:bg-orange-900/20"},{id:2,name:"Time Spent",value:"12h 30m",icon:qg,color:"text-blue-500",bgColor:"bg-blue-100 dark:bg-blue-900/20"},{id:3,name:"Courses Completed",value:"3",icon:An,color:"text-green-500",bgColor:"bg-green-100 dark:bg-green-900/20"},{id:4,name:"XP Points",value:"1,250",icon:Kg,color:"text-purple-500",bgColor:"bg-purple-100 dark:bg-purple-900/20"}];return c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:r.map(s=>c.jsxs(ue.div,{initial:{opacity:0,y:20},animate:e?{opacity:1,y:0}:{},transition:{duration:.5,delay:s.id*.1,ease:"easeOut"},className:"flex items-center p-4 bg-white dark:bg-gray-800 rounded-lg shadow-sm hover:shadow-md transition-shadow",children:[c.jsx("div",{className:`p-3 rounded-full ${s.bgColor} mr-4`,children:c.jsx(s.icon,{className:`h-6 w-6 ${s.color}`})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:s.name}),c.jsx("p",{className:"text-xl font-semibold",children:s.value})]})]},s.id))})}function nM({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z",clipRule:"evenodd"}))}const rM=v.forwardRef(nM);function sM({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const Xo=v.forwardRef(sM);function iM({title:t,titleId:e,...n},r){return v.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":e},n),t?v.createElement("title",{id:e},t):null,v.createElement("path",{fillRule:"evenodd",d:"M8.25 6.75a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0ZM15.75 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM2.25 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM6.31 15.117A6.745 6.745 0 0 1 12 12a6.745 6.745 0 0 1 6.709 7.498.75.75 0 0 1-.372.568A12.696 12.696 0 0 1 12 21.75c-2.305 0-4.47-.612-6.337-1.684a.75.75 0 0 1-.372-.568 6.787 6.787 0 0 1 1.019-4.38Z",clipRule:"evenodd"}),v.createElement("path",{d:"M5.082 14.254a8.287 8.287 0 0 0-1.308 5.135 9.687 9.687 0 0 1-1.764-.44l-.115-.04a.563.563 0 0 1-.373-.487l-.01-.121a3.75 3.75 0 0 1 3.57-4.047ZM20.226 19.389a8.287 8.287 0 0 0-1.308-5.135 3.75 3.75 0 0 1 3.57 4.047l-.01.121a.563.563 0 0 1-.373.486l-.115.04c-.567.2-1.156.349-1.764.441Z"}))}const oM=v.forwardRef(iM);function Rp({course:t,enrolled:e=!1}){return c.jsxs(ue.div,{whileHover:{y:-5},transition:{type:"spring",stiffness:300},className:"card group",children:[c.jsxs("div",{className:"relative overflow-hidden rounded-t-lg -mt-6 -mx-6 mb-4",children:[c.jsx("img",{src:t.coverImage,alt:t.title,className:"w-full h-40 object-cover transition-transform duration-500 group-hover:scale-105"}),c.jsx("div",{className:"absolute top-3 left-3",children:c.jsx("span",{className:`badge ${t.difficulty==="Beginner"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100":t.difficulty==="Intermediate"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100"}`,children:t.difficulty})}),c.jsx("div",{className:"absolute top-3 right-3",children:c.jsx("span",{className:"badge bg-primary/10 text-primary dark:bg-primary/20",children:t.category})}),e&&c.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1.5 bg-gray-200 dark:bg-gray-700",children:c.jsx("div",{className:"h-full bg-primary",style:{width:`${t.progress}%`}})})]}),c.jsx("h3",{className:"text-lg font-semibold mb-2 line-clamp-2",children:t.title}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4 line-clamp-2",children:t.description}),c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Xo,{className:"h-5 w-5 text-yellow-400"}),c.jsx("span",{className:"ml-1 text-sm font-medium",children:t.rating}),c.jsxs("span",{className:"ml-1 text-xs text-gray-500 dark:text-gray-400",children:["(",t.reviewsCount,")"]})]}),c.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-400 text-sm",children:[c.jsx(rM,{className:"h-4 w-4 mr-1"}),t.duration]}),c.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-400 text-sm",children:[c.jsx(oM,{className:"h-4 w-4 mr-1"}),t.studentsCount]})]}),c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("img",{src:t.instructor.avatarUrl,alt:t.instructor.name,className:"h-6 w-6 rounded-full object-cover"}),c.jsx("span",{className:"ml-2 text-sm",children:t.instructor.name})]}),e?c.jsx(te,{to:`/courses/${t.id}`,className:"btn btn-primary w-full",children:t.progress===0?"Start Learning":"Continue Learning"}):c.jsx(te,{to:`/courses/${t.id}`,className:"btn btn-primary w-full",children:"View Course"})]})}function aM({badge:t,size:e="medium"}){const n={small:"w-12 h-12",medium:"w-16 h-16",large:"w-24 h-24"};return c.jsxs("div",{className:"relative flex flex-col items-center",children:[c.jsxs(ue.div,{whileHover:{scale:1.1},className:`relative ${n[e]} rounded-full flex items-center justify-center p-1`,children:[c.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-br from-primary to-secondary opacity-20 animate-pulse-slow"}),c.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-primary"}),c.jsx("div",{className:`rounded-full bg-white dark:bg-gray-800 ${n[e]} flex items-center justify-center p-2`,children:c.jsx("img",{src:t.iconUrl,alt:t.name,className:"w-full h-full object-contain"})})]}),c.jsx("p",{className:"mt-2 text-xs font-medium text-center",children:t.name}),t.level&&c.jsx("div",{className:"absolute -top-1 -right-1 bg-secondary text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:t.level})]})}function Jk({courseContext:t={}}){const[e,n]=v.useState(!1),[r,s]=v.useState([{id:1,role:"assistant",content:"Hello! I'm your AI tutor. How can I help you with your learning today?",timestamp:new Date}]),[i,o]=v.useState(""),[a,l]=v.useState(!1),d=v.useRef(null),h=v.useRef(null);v.useEffect(()=>{d.current&&d.current.scrollIntoView({behavior:"smooth"})},[r]),v.useEffect(()=>{e&&h.current&&h.current.focus()},[e]);const f=async y=>{l(!0),await new Promise(S=>setTimeout(S,1500));let x;return y.toLowerCase().includes("help")||y.toLowerCase().includes("stuck")?x="I see you're having trouble. Let's break this down step by step. Can you tell me specifically which part you're struggling with?":y.toLowerCase().includes("concept")||y.toLowerCase().includes("understand")?x="That's a great question about this concept! The key idea here is to connect it with what you already know. Think of it like [simplified analogy related to course context]. Does that help clarify things?":y.toLowerCase().includes("example")?x="I'd be happy to provide an example. Here's a practical application of this concept: [detailed example relevant to course context]. Try working through this example step by step.":y.toLowerCase().includes("practice")||y.toLowerCase().includes("exercise")?x="Practice is essential for mastery! Here's a custom exercise for you based on your progress: [tailored exercise]. Once you've attempted it, we can discuss your approach.":x="That's an interesting question! Based on your current progress in this course, I'd suggest focusing on understanding the fundamentals first. Would you like me to explain any specific concept in more detail?",l(!1),x},m=async y=>{if(y.preventDefault(),!i.trim())return;const x={id:r.length+1,role:"user",content:i,timestamp:new Date};s(k=>[...k,x]),o("");const S=await f(i),P={id:r.length+2,role:"assistant",content:S,timestamp:new Date};s(k=>[...k,P])};return c.jsxs(c.Fragment,{children:[c.jsx(ue.button,{onClick:()=>n(!0),className:`fixed ${e?"hidden":"flex"} bottom-6 right-6 z-30 items-center justify-center w-14 h-14 rounded-full bg-primary text-white shadow-lg hover:bg-primary/90 transition-all`,whileHover:{scale:1.05},whileTap:{scale:.95},children:c.jsx(An,{className:"h-6 w-6"})}),c.jsx(AE,{children:e&&c.jsxs(ue.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},transition:{type:"spring",damping:20},className:"fixed bottom-6 right-6 z-40 w-80 sm:w-96 h-96 flex flex-col bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[c.jsxs("div",{className:"px-4 py-3 bg-primary text-white flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(An,{className:"h-5 w-5"}),c.jsx("span",{className:"font-medium",children:"AI Learning Assistant"})]}),c.jsx("button",{onClick:()=>n(!1),className:"text-white p-1 rounded-full hover:bg-white/20 transition-colors",children:c.jsx(Uc,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"flex-1 p-4 overflow-y-auto",children:[r.map(y=>c.jsx("div",{className:`mb-4 flex ${y.role==="user"?"justify-end":"justify-start"}`,children:c.jsxs("div",{className:`max-w-[80%] rounded-lg px-4 py-2 ${y.role==="user"?"bg-primary text-white rounded-br-none":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-bl-none"}`,children:[y.content,c.jsx("div",{className:`text-xs mt-1 ${y.role==="user"?"text-primary-100":"text-gray-500 dark:text-gray-400"}`,children:y.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},y.id)),a&&c.jsx("div",{className:"flex justify-start mb-4",children:c.jsxs("div",{className:"bg-gray-100 dark:bg-gray-700 rounded-lg px-4 py-2 flex items-center space-x-1",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-400 dark:bg-gray-400 animate-bounce",style:{animationDelay:"0ms"}}),c.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-400 dark:bg-gray-400 animate-bounce",style:{animationDelay:"150ms"}}),c.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-400 dark:bg-gray-400 animate-bounce",style:{animationDelay:"300ms"}})]})}),c.jsx("div",{ref:d})]}),c.jsxs("div",{className:"px-4 py-2 border-t border-gray-200 dark:border-gray-700 flex gap-2 overflow-x-auto",children:[c.jsx("button",{onClick:()=>o("Help me understand this concept"),className:"flex-shrink-0 px-3 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Help with concept"}),c.jsx("button",{onClick:()=>o("Can you give me an example?"),className:"flex-shrink-0 px-3 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"Need an example"}),c.jsx("button",{onClick:()=>o("I'm stuck on this problem"),className:"flex-shrink-0 px-3 py-1 text-xs border border-gray-300 dark:border-gray-600 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:"I'm stuck"})]}),c.jsxs("form",{onSubmit:m,className:"px-4 py-3 border-t border-gray-200 dark:border-gray-700 flex",children:[c.jsx("input",{ref:h,type:"text",value:i,onChange:y=>o(y.target.value),placeholder:"Ask your learning assistant...",className:"flex-1 input"}),c.jsx("button",{type:"submit",disabled:!i.trim(),className:"ml-2 p-2 rounded-md bg-primary text-white disabled:opacity-50 disabled:cursor-not-allowed",children:c.jsx(VO,{className:"h-5 w-5"})})]})]})})]})}function lM(){const{currentUser:t,userData:e}=us(),[n,r]=v.useState(!0);v.useEffect(()=>{setTimeout(()=>{r(!1)},1e3)},[]);const s=[{id:1,title:"Introduction to Web Development",description:"Learn the fundamentals of HTML, CSS, and JavaScript to build your first website.",coverImage:"https://images.pexels.com/photos/1181263/pexels-photo-1181263.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",category:"Web Development",difficulty:"Beginner",duration:"8 weeks",rating:4.8,reviewsCount:342,studentsCount:"2.5k+",progress:75,instructor:{name:"Alex Morgan",avatarUrl:"https://images.pexels.com/photos/3763188/pexels-photo-3763188.jpeg?auto=compress&cs=tinysrgb&w=1600"}},{id:2,title:"Data Science Fundamentals",description:"Master the basics of data analysis and visualization using Python and popular libraries.",coverImage:"https://images.pexels.com/photos/590022/pexels-photo-590022.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",category:"Data Science",difficulty:"Intermediate",duration:"10 weeks",rating:4.7,reviewsCount:268,studentsCount:"1.8k+",progress:30,instructor:{name:"Sarah Chen",avatarUrl:"https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=1600"}},{id:3,title:"Mobile App Development with React Native",description:"Build cross-platform mobile applications using React Native and JavaScript.",coverImage:"https://images.pexels.com/photos/2451552/pexels-photo-2451552.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",category:"Mobile Development",difficulty:"Advanced",duration:"12 weeks",rating:4.9,reviewsCount:189,studentsCount:"1.2k+",progress:10,instructor:{name:"James Wilson",avatarUrl:"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=1600"}}],i=[{id:4,title:"Advanced JavaScript Concepts",description:"Deep dive into advanced JavaScript topics including closures, prototypes, and asynchronous programming.",coverImage:"https://images.pexels.com/photos/4164418/pexels-photo-4164418.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",category:"Web Development",difficulty:"Advanced",duration:"6 weeks",rating:4.9,reviewsCount:423,studentsCount:"3.2k+",instructor:{name:"David Kim",avatarUrl:"https://images.pexels.com/photos/2379005/pexels-photo-2379005.jpeg?auto=compress&cs=tinysrgb&w=1600"}},{id:5,title:"UI/UX Design Principles",description:"Learn the fundamentals of user interface and user experience design to create intuitive, user-friendly applications.",coverImage:"https://images.pexels.com/photos/196644/pexels-photo-196644.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",category:"Design",difficulty:"Intermediate",duration:"8 weeks",rating:4.7,reviewsCount:256,studentsCount:"1.5k+",instructor:{name:"Emily Johnson",avatarUrl:"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=1600"}}],o=[{id:1,name:"Fast Learner",iconUrl:"https://cdn-icons-png.flaticon.com/512/2620/2620576.png",level:2},{id:2,name:"Quiz Master",iconUrl:"https://cdn-icons-png.flaticon.com/512/3588/3588614.png"},{id:3,name:"Coding Streak",iconUrl:"https://cdn-icons-png.flaticon.com/512/1067/1067357.png"},{id:4,name:"Community Helper",iconUrl:"https://cdn-icons-png.flaticon.com/512/3135/3135706.png"}],a=[{id:1,title:"CSS Grid Quiz",course:"Introduction to Web Development",date:"Tomorrow, 3:00 PM",type:"quiz"},{id:2,title:"Data Visualization Project",course:"Data Science Fundamentals",date:"May 15, 11:59 PM",type:"assignment"},{id:3,title:"React Native Fundamentals",course:"Mobile App Development",date:"Live session - May 12, 2:00 PM",type:"webinar"}];return n?c.jsx(Kr,{children:c.jsx("div",{className:"flex justify-center items-center h-96",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})})}):c.jsxs(Kr,{children:[c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs(ue.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[c.jsxs("h1",{className:"text-3xl font-bold",children:["Welcome back, ",(t==null?void 0:t.displayName)||"Learner","! 👋"]}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Track your progress, continue learning, and discover new courses."})]})}),c.jsx("section",{className:"mb-12",children:c.jsx(tM,{userData:e})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[c.jsxs("section",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("h2",{className:"text-xl font-bold flex items-center",children:[c.jsx(An,{className:"h-5 w-5 mr-2"}),"Your Learning Journey"]}),c.jsxs(te,{to:"/courses",className:"text-primary hover:underline flex items-center",children:["View all courses",c.jsx(Oc,{className:"h-4 w-4 ml-1"})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(l=>c.jsx(Rp,{course:l,enrolled:!0},l.id))})]}),c.jsxs("section",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsx("h2",{className:"text-xl font-bold",children:"Recommended for You"}),c.jsxs(te,{to:"/courses",className:"text-primary hover:underline flex items-center",children:["Browse more",c.jsx(Oc,{className:"h-4 w-4 ml-1"})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.map(l=>c.jsx(Rp,{course:l},l.id))})]})]}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("section",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[c.jsx(pO,{className:"h-5 w-5 mr-2 text-primary"}),"Upcoming Deadlines"]}),c.jsx(te,{to:"/calendar",className:"text-sm text-primary hover:underline",children:"View calendar"})]}),c.jsx("div",{className:"space-y-4",children:a.map(l=>c.jsxs("div",{className:"flex space-x-3",children:[c.jsxs("div",{className:`flex-shrink-0 h-12 w-12 rounded-lg flex items-center justify-center ${l.type==="quiz"?"bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":l.type==="assignment"?"bg-purple-100 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400":"bg-green-100 dark:bg-green-900/20 text-green-600 dark:text-green-400"}`,children:[l.type==="quiz"&&c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),l.type==="assignment"&&c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),l.type==="webinar"&&c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium",children:l.title}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:l.course}),c.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 mt-1",children:l.date})]})]},l.id))})]}),c.jsxs("section",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-4",children:[c.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[c.jsx(gO,{className:"h-5 w-5 mr-2 text-primary"}),"Your Achievements"]}),c.jsx(te,{to:"/profile/achievements",className:"text-sm text-primary hover:underline",children:"View all"})]}),c.jsx("div",{className:"flex justify-around flex-wrap",children:o.map(l=>c.jsx(aM,{badge:l},l.id))})]}),c.jsxs("section",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"7-Day Streak"}),c.jsx("div",{className:"grid grid-cols-7 gap-2",children:[1,2,3,4,5,6,7].map(l=>c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center mb-1 ${l<=5?"bg-primary text-white":"bg-gray-100 dark:bg-gray-700 text-gray-400"}`,children:l}),c.jsx("span",{className:"text-xs text-gray-500",children:["M","T","W","T","F","S","S"][l-1]})]},l))}),c.jsxs("div",{className:"mt-4 text-center",children:[c.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["You've been learning for ",c.jsx("span",{className:"font-semibold",children:"5 days"})," in a row!"]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Complete today's goal to continue your streak"})]})]})]})]})]}),c.jsx(Jk,{})]})}function uM(){const[t,e]=v.useState([]),[n,r]=v.useState(!0),[s,i]=v.useState(""),[o,a]=v.useState("All"),[l,d]=v.useState("All"),[h,f]=v.useState(!1);v.useEffect(()=>{setTimeout(()=>{e([{id:1,title:"Introduction to Web Development",description:"Learn the fundamentals of HTML, CSS, and JavaScript to build your first website.",coverImage:"https://images.pexels.com/photos/1181263/pexels-photo-1181263.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",category:"Web Development",difficulty:"Beginner",duration:"8 weeks",rating:4.8,reviewsCount:342,studentsCount:"2.5k+",instructor:{name:"Alex Morgan",avatarUrl:"https://images.pexels.com/photos/3763188/pexels-photo-3763188.jpeg?auto=compress&cs=tinysrgb&w=1600"}},{id:2,title:"Data Science Fundamentals",description:"Master the basics of data analysis and visualization using Python and popular libraries.",coverImage:"https://images.pexels.com/photos/590022/pexels-photo-590022.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",category:"Data Science",difficulty:"Intermediate",duration:"10 weeks",rating:4.7,reviewsCount:268,studentsCount:"1.8k+",instructor:{name:"Sarah Chen",avatarUrl:"https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=1600"}},{id:3,title:"Mobile App Development with React Native",description:"Build cross-platform mobile applications using React Native and JavaScript.",coverImage:"https://images.pexels.com/photos/2451552/pexels-photo-2451552.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",category:"Mobile Development",difficulty:"Advanced",duration:"12 weeks",rating:4.9,reviewsCount:189,studentsCount:"1.2k+",instructor:{name:"James Wilson",avatarUrl:"https://images.pexels.com/photos/2379004/pexels-photo-2379004.jpeg?auto=compress&cs=tinysrgb&w=1600"}},{id:4,title:"Advanced JavaScript Concepts",description:"Deep dive into advanced JavaScript topics including closures, prototypes, and asynchronous programming.",coverImage:"https://images.pexels.com/photos/4164418/pexels-photo-4164418.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",category:"Web Development",difficulty:"Advanced",duration:"6 weeks",rating:4.9,reviewsCount:423,studentsCount:"3.2k+",instructor:{name:"David Kim",avatarUrl:"https://images.pexels.com/photos/2379005/pexels-photo-2379005.jpeg?auto=compress&cs=tinysrgb&w=1600"}},{id:5,title:"UI/UX Design Principles",description:"Learn the fundamentals of user interface and user experience design to create intuitive, user-friendly applications.",coverImage:"https://images.pexels.com/photos/196644/pexels-photo-196644.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",category:"Design",difficulty:"Intermediate",duration:"8 weeks",rating:4.7,reviewsCount:256,studentsCount:"1.5k+",instructor:{name:"Emily Johnson",avatarUrl:"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=1600"}},{id:6,title:"Machine Learning for Beginners",description:"An introduction to machine learning concepts and techniques with practical examples using Python.",coverImage:"https://images.pexels.com/photos/2599244/pexels-photo-2599244.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",category:"Data Science",difficulty:"Beginner",duration:"10 weeks",rating:4.6,reviewsCount:312,studentsCount:"2.1k+",instructor:{name:"Michael Rodriguez",avatarUrl:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=1600"}},{id:7,title:"Full Stack Web Development",description:"Comprehensive course covering both front-end and back-end technologies for web development.",coverImage:"https://images.pexels.com/photos/1181675/pexels-photo-1181675.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",category:"Web Development",difficulty:"Intermediate",duration:"16 weeks",rating:4.8,reviewsCount:521,studentsCount:"4.5k+",instructor:{name:"Jessica Park",avatarUrl:"https://images.pexels.com/photos/1036623/pexels-photo-1036623.jpeg?auto=compress&cs=tinysrgb&w=1600"}},{id:8,title:"iOS App Development with Swift",description:"Learn to build native iOS applications using Swift and Xcode from scratch.",coverImage:"https://images.pexels.com/photos/607812/pexels-photo-607812.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",category:"Mobile Development",difficulty:"Intermediate",duration:"14 weeks",rating:4.7,reviewsCount:189,studentsCount:"1.3k+",instructor:{name:"Ryan Chen",avatarUrl:"https://images.pexels.com/photos/834863/pexels-photo-834863.jpeg?auto=compress&cs=tinysrgb&w=1600"}}]),r(!1)},1e3)},[]);const m=["All","Web Development","Data Science","Mobile Development","Design"],y=["All","Beginner","Intermediate","Advanced"],x=t.filter(P=>{const k=P.title.toLowerCase().includes(s.toLowerCase())||P.description.toLowerCase().includes(s.toLowerCase()),w=o==="All"||P.category===o,E=l==="All"||P.difficulty===l;return k&&w&&E}),S=()=>{i(""),a("All"),d("All")};return c.jsx(Kr,{children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Course Catalog"}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Explore our comprehensive collection of courses designed to help you achieve your learning goals."})]}),c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center space-y-4 md:space-y-0 md:space-x-4",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(RO,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search for courses...",value:s,onChange:P=>i(P.target.value),className:"w-full pl-10 input"})]}),c.jsxs("button",{onClick:()=>f(!h),className:"md:hidden flex items-center justify-center space-x-2 btn btn-outline",children:[c.jsx(Qk,{className:"h-5 w-5"}),c.jsx("span",{children:"Filters"}),c.jsx(ri,{className:`h-4 w-4 transition-transform ${h?"rotate-180":""}`})]}),c.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[c.jsxs("div",{className:"relative inline-block",children:[c.jsxs("select",{value:o,onChange:P=>a(P.target.value),className:"input pr-8 appearance-none",children:[c.jsx("option",{disabled:!0,children:"Category"}),m.map(P=>c.jsx("option",{value:P,children:P},P))]}),c.jsx(ri,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500 pointer-events-none"})]}),c.jsxs("div",{className:"relative inline-block",children:[c.jsxs("select",{value:l,onChange:P=>d(P.target.value),className:"input pr-8 appearance-none",children:[c.jsx("option",{disabled:!0,children:"Level"}),y.map(P=>c.jsx("option",{value:P,children:P},P))]}),c.jsx(ri,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500 pointer-events-none"})]}),(o!=="All"||l!=="All"||s!=="")&&c.jsxs("button",{onClick:S,className:"flex items-center text-sm text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-primary",children:[c.jsx(Uc,{className:"h-4 w-4 mr-1"}),"Clear filters"]})]})]}),h&&c.jsxs(ue.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"mt-4 md:hidden space-y-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Category"}),c.jsxs("div",{className:"relative",children:[c.jsx("select",{value:o,onChange:P=>a(P.target.value),className:"w-full input pr-8 appearance-none",children:m.map(P=>c.jsx("option",{value:P,children:P},P))}),c.jsx(ri,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500 pointer-events-none"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Difficulty Level"}),c.jsxs("div",{className:"relative",children:[c.jsx("select",{value:l,onChange:P=>d(P.target.value),className:"w-full input pr-8 appearance-none",children:y.map(P=>c.jsx("option",{value:P,children:P},P))}),c.jsx(ri,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500 pointer-events-none"})]})]}),(o!=="All"||l!=="All"||s!=="")&&c.jsxs("button",{onClick:S,className:"flex items-center text-sm text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-primary",children:[c.jsx(Uc,{className:"h-4 w-4 mr-1"}),"Clear all filters"]})]})]}),c.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[c.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Showing ",c.jsx("span",{className:"font-medium",children:x.length})," ",x.length===1?"course":"courses",o!=="All"&&` in ${o}`,l!=="All"&&` for ${l} level`,s&&` matching "${s}"`]}),c.jsxs("div",{className:"relative inline-block",children:[c.jsxs("select",{className:"input pr-8 appearance-none text-sm",children:[c.jsx("option",{children:"Most Popular"}),c.jsx("option",{children:"Newest"}),c.jsx("option",{children:"Highest Rated"}),c.jsx("option",{children:"Price: Low to High"}),c.jsx("option",{children:"Price: High to Low"})]}),c.jsx(ri,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500 pointer-events-none"})]})]}),n?c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):x.length>0?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map((P,k)=>c.jsx(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:k*.05},children:c.jsx(Rp,{course:P})},P.id))}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),c.jsx("h3",{className:"mt-2 text-lg font-medium text-gray-900 dark:text-gray-100",children:"No courses found"}),c.jsx("p",{className:"mt-1 text-gray-500 dark:text-gray-400",children:"Try adjusting your search or filter criteria."}),c.jsx("div",{className:"mt-6",children:c.jsx("button",{onClick:S,className:"btn btn-primary",children:"Clear all filters"})})]})]})})}var cM=Object.defineProperty,dM=(t,e,n)=>e in t?cM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qh=(t,e,n)=>(dM(t,typeof e!="symbol"?e+"":e,n),n);let hM=class{constructor(){Qh(this,"current",this.detect()),Qh(this,"handoffState","pending"),Qh(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Ns=new hM,lr=(t,e)=>{Ns.isServer?v.useEffect(t,e):v.useLayoutEffect(t,e)};function Jo(t){let e=v.useRef(t);return lr(()=>{e.current=t},[t]),e}let jr=function(t){let e=Jo(t);return Nt.useCallback((...n)=>e.current(...n),[e])};function fM(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function pM(){let t=typeof document>"u";return"useSyncExternalStore"in Xh?(e=>e.useSyncExternalStore)(Xh)(()=>()=>{},()=>!1,()=>!t):!1}function mM(){let t=pM(),[e,n]=v.useState(Ns.isHandoffComplete);return e&&Ns.isHandoffComplete===!1&&n(!1),v.useEffect(()=>{e!==!0&&n(!0)},[e]),v.useEffect(()=>Ns.handoff(),[]),t?!1:e}var Vx;let Zk=(Vx=Nt.useId)!=null?Vx:function(){let t=mM(),[e,n]=Nt.useState(t?()=>Ns.nextId():null);return lr(()=>{e===null&&n(Ns.nextId())},[e]),e!=null?""+e:void 0};function Rs(t,e,...n){if(t in e){let s=e[t];return typeof s=="function"?s(...n):s}let r=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Rs),r}function gM(t){return Ns.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let yM=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var tn=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(tn||{}),Zo=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Zo||{}),vM=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(vM||{});function xM(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(yM)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var wM=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(wM||{}),_M=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(_M||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let EM=["textarea","input"].join(",");function TM(t){var e,n;return(n=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,EM))!=null?n:!1}function Ii(t,e=n=>n){return t.slice().sort((n,r)=>{let s=e(n),i=e(r);if(s===null||i===null)return 0;let o=s.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function si(t,e,{sorted:n=!0,relativeTo:r=null,skipElements:s=[]}={}){let i=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?n?Ii(t):t:xM(t);s.length>0&&o.length>1&&(o=o.filter(y=>!s.includes(y))),r=r??i.activeElement;let a=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(r))-1;if(e&4)return Math.max(0,o.indexOf(r))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=e&32?{preventScroll:!0}:{},h=0,f=o.length,m;do{if(h>=f||h+f<=0)return 0;let y=l+h;if(e&16)y=(y+f)%f;else{if(y<0)return 3;if(y>=f)return 1}m=o[y],m==null||m.focus(d),h+=a}while(m!==i.activeElement);return e&6&&TM(m)&&m.select(),2}function Ox(t){var e;if(t.type)return t.type;let n=(e=t.as)!=null?e:"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function kM(t,e){let[n,r]=v.useState(()=>Ox(t));return lr(()=>{r(Ox(t))},[t.type,t.as]),lr(()=>{n||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&r("button")},[n,e]),n}let IM=Symbol();function _l(...t){let e=v.useRef(t);v.useEffect(()=>{e.current=t},[t]);let n=jr(r=>{for(let s of e.current)s!=null&&(typeof s=="function"?s(r):s.current=r)});return t.every(r=>r==null||(r==null?void 0:r[IM]))?void 0:n}function Mx(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var jp=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(jp||{}),SM=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(SM||{});function ho({ourProps:t,theirProps:e,slot:n,defaultTag:r,features:s,visible:i=!0,name:o,mergeRefs:a}){a=a??bM;let l=eI(e,t);if(i)return fu(l,n,r,o,a);let d=s??0;if(d&2){let{static:h=!1,...f}=l;if(h)return fu(f,n,r,o,a)}if(d&1){let{unmount:h=!0,...f}=l;return Rs(h?0:1,{0(){return null},1(){return fu({...f,hidden:!0,style:{display:"none"}},n,r,o,a)}})}return fu(l,n,r,o,a)}function fu(t,e={},n,r,s){let{as:i=n,children:o,refName:a="ref",...l}=Yh(t,["unmount","static"]),d=t.ref!==void 0?{[a]:t.ref}:{},h=typeof o=="function"?o(e):o;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e));let f={};if(e){let m=!1,y=[];for(let[x,S]of Object.entries(e))typeof S=="boolean"&&(m=!0),S===!0&&y.push(x);m&&(f["data-headlessui-state"]=y.join(" "))}if(i===v.Fragment&&Object.keys(Fx(l)).length>0){if(!v.isValidElement(h)||Array.isArray(h)&&h.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(l).map(S=>`  - ${S}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(S=>`  - ${S}`).join(`
`)].join(`
`));let m=h.props,y=typeof(m==null?void 0:m.className)=="function"?(...S)=>Mx(m==null?void 0:m.className(...S),l.className):Mx(m==null?void 0:m.className,l.className),x=y?{className:y}:{};return v.cloneElement(h,Object.assign({},eI(h.props,Fx(Yh(l,["ref"]))),f,d,{ref:s(h.ref,d.ref)},x))}return v.createElement(i,Object.assign({},Yh(l,["ref"]),i!==v.Fragment&&d,i!==v.Fragment&&f),h)}function bM(...t){return t.every(e=>e==null)?void 0:e=>{for(let n of t)n!=null&&(typeof n=="function"?n(e):n.current=e)}}function eI(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},n={};for(let r of t)for(let s in r)s.startsWith("on")&&typeof r[s]=="function"?(n[s]!=null||(n[s]=[]),n[s].push(r[s])):e[s]=r[s];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(e,{[r](s,...i){let o=n[r];for(let a of o){if((s instanceof Event||(s==null?void 0:s.nativeEvent)instanceof Event)&&s.defaultPrevented)return;a(s,...i)}}});return e}function fo(t){var e;return Object.assign(v.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Fx(t){let e=Object.assign({},t);for(let n in e)e[n]===void 0&&delete e[n];return e}function Yh(t,e=[]){let n=Object.assign({},t);for(let r of e)r in n&&delete n[r];return n}let CM="div";var tI=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(tI||{});function PM(t,e){var n;let{features:r=1,...s}=t,i={ref:e,"aria-hidden":(r&2)===2?!0:(n=s["aria-hidden"])!=null?n:void 0,hidden:(r&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return ho({ourProps:i,theirProps:s,slot:{},defaultTag:CM,name:"Hidden"})}let nI=fo(PM);var nn=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(nn||{});function AM(){let t=v.useRef(!1);return lr(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function NM({onFocus:t}){let[e,n]=v.useState(!0),r=AM();return e?Nt.createElement(nI,{as:"button",type:"button",features:tI.Focusable,onFocus:s=>{s.preventDefault();let i,o=50;function a(){if(o--<=0){i&&cancelAnimationFrame(i);return}if(t()){if(cancelAnimationFrame(i),!r.current)return;n(!1);return}i=requestAnimationFrame(a)}i=requestAnimationFrame(a)}}):null}const rI=v.createContext(null);function RM(){return{groups:new Map,get(t,e){var n;let r=this.groups.get(t);r||(r=new Map,this.groups.set(t,r));let s=(n=r.get(e))!=null?n:0;r.set(e,s+1);let i=Array.from(r.keys()).indexOf(e);function o(){let a=r.get(e);a>1?r.set(e,a-1):r.delete(e)}return[i,o]}}}function jM({children:t}){let e=v.useRef(RM());return v.createElement(rI.Provider,{value:e},t)}function sI(t){let e=v.useContext(rI);if(!e)throw new Error("You must wrap your component in a <StableCollection>");let n=DM(),[r,s]=e.current.get(t,n);return v.useEffect(()=>s,[]),r}function DM(){var t,e,n;let r=(n=(e=(t=v.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)==null?void 0:t.ReactCurrentOwner)==null?void 0:e.current)!=null?n:null;if(!r)return Symbol();let s=[],i=r;for(;i;)s.push(i.index),i=i.return;return"$."+s.join(".")}var LM=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(LM||{}),VM=(t=>(t[t.Less=-1]="Less",t[t.Equal=0]="Equal",t[t.Greater=1]="Greater",t))(VM||{}),OM=(t=>(t[t.SetSelectedIndex=0]="SetSelectedIndex",t[t.RegisterTab=1]="RegisterTab",t[t.UnregisterTab=2]="UnregisterTab",t[t.RegisterPanel=3]="RegisterPanel",t[t.UnregisterPanel=4]="UnregisterPanel",t))(OM||{});let MM={0(t,e){var n;let r=Ii(t.tabs,h=>h.current),s=Ii(t.panels,h=>h.current),i=r.filter(h=>{var f;return!((f=h.current)!=null&&f.hasAttribute("disabled"))}),o={...t,tabs:r,panels:s};if(e.index<0||e.index>r.length-1){let h=Rs(Math.sign(e.index-t.selectedIndex),{[-1]:()=>1,0:()=>Rs(Math.sign(e.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(i.length===0)return o;let f=Rs(h,{0:()=>r.indexOf(i[0]),1:()=>r.indexOf(i[i.length-1])});return{...o,selectedIndex:f===-1?t.selectedIndex:f}}let a=r.slice(0,e.index),l=[...r.slice(e.index),...a].find(h=>i.includes(h));if(!l)return o;let d=(n=r.indexOf(l))!=null?n:t.selectedIndex;return d===-1&&(d=t.selectedIndex),{...o,selectedIndex:d}},1(t,e){if(t.tabs.includes(e.tab))return t;let n=t.tabs[t.selectedIndex],r=Ii([...t.tabs,e.tab],i=>i.current),s=t.selectedIndex;return t.info.current.isControlled||(s=r.indexOf(n),s===-1&&(s=t.selectedIndex)),{...t,tabs:r,selectedIndex:s}},2(t,e){return{...t,tabs:t.tabs.filter(n=>n!==e.tab)}},3(t,e){return t.panels.includes(e.panel)?t:{...t,panels:Ii([...t.panels,e.panel],n=>n.current)}},4(t,e){return{...t,panels:t.panels.filter(n=>n!==e.panel)}}},Gg=v.createContext(null);Gg.displayName="TabsDataContext";function Zi(t){let e=v.useContext(Gg);if(e===null){let n=new Error(`<${t} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Zi),n}return e}let Qg=v.createContext(null);Qg.displayName="TabsActionsContext";function Yg(t){let e=v.useContext(Qg);if(e===null){let n=new Error(`<${t} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Yg),n}return e}function FM(t,e){return Rs(e.type,MM,t,e)}let UM=v.Fragment;function BM(t,e){let{defaultIndex:n=0,vertical:r=!1,manual:s=!1,onChange:i,selectedIndex:o=null,...a}=t;const l=r?"vertical":"horizontal",d=s?"manual":"auto";let h=o!==null,f=Jo({isControlled:h}),m=_l(e),[y,x]=v.useReducer(FM,{info:f,selectedIndex:o??n,tabs:[],panels:[]}),S=v.useMemo(()=>({selectedIndex:y.selectedIndex}),[y.selectedIndex]),P=Jo(i||(()=>{})),k=Jo(y.tabs),w=v.useMemo(()=>({orientation:l,activation:d,...y}),[l,d,y]),E=jr(I=>(x({type:1,tab:I}),()=>x({type:2,tab:I}))),R=jr(I=>(x({type:3,panel:I}),()=>x({type:4,panel:I}))),V=jr(I=>{O.current!==I&&P.current(I),h||x({type:0,index:I})}),O=Jo(h?t.selectedIndex:y.selectedIndex),C=v.useMemo(()=>({registerTab:E,registerPanel:R,change:V}),[]);lr(()=>{x({type:0,index:o??n})},[o]),lr(()=>{if(O.current===void 0||y.tabs.length<=0)return;let I=Ii(y.tabs,b=>b.current);I.some((b,N)=>y.tabs[N]!==b)&&V(I.indexOf(y.tabs[O.current]))});let _={ref:m};return Nt.createElement(jM,null,Nt.createElement(Qg.Provider,{value:C},Nt.createElement(Gg.Provider,{value:w},w.tabs.length<=0&&Nt.createElement(NM,{onFocus:()=>{var I,b;for(let N of k.current)if(((I=N.current)==null?void 0:I.tabIndex)===0)return(b=N.current)==null||b.focus(),!0;return!1}}),ho({ourProps:_,theirProps:a,slot:S,defaultTag:UM,name:"Tabs"}))))}let $M="div";function zM(t,e){let{orientation:n,selectedIndex:r}=Zi("Tab.List"),s=_l(e);return ho({ourProps:{ref:s,role:"tablist","aria-orientation":n},theirProps:t,slot:{selectedIndex:r},defaultTag:$M,name:"Tabs.List"})}let WM="button";function HM(t,e){var n,r;let s=Zk(),{id:i=`headlessui-tabs-tab-${s}`,...o}=t,{orientation:a,activation:l,selectedIndex:d,tabs:h,panels:f}=Zi("Tab"),m=Yg("Tab"),y=Zi("Tab"),x=v.useRef(null),S=_l(x,e);lr(()=>m.registerTab(x),[m,x]);let P=sI("tabs"),k=h.indexOf(x);k===-1&&(k=P);let w=k===d,E=jr(b=>{var N;let j=b();if(j===Zo.Success&&l==="auto"){let A=(N=gM(x))==null?void 0:N.activeElement,de=y.tabs.findIndex(et=>et.current===A);de!==-1&&m.change(de)}return j}),R=jr(b=>{let N=h.map(j=>j.current).filter(Boolean);if(b.key===nn.Space||b.key===nn.Enter){b.preventDefault(),b.stopPropagation(),m.change(k);return}switch(b.key){case nn.Home:case nn.PageUp:return b.preventDefault(),b.stopPropagation(),E(()=>si(N,tn.First));case nn.End:case nn.PageDown:return b.preventDefault(),b.stopPropagation(),E(()=>si(N,tn.Last))}if(E(()=>Rs(a,{vertical(){return b.key===nn.ArrowUp?si(N,tn.Previous|tn.WrapAround):b.key===nn.ArrowDown?si(N,tn.Next|tn.WrapAround):Zo.Error},horizontal(){return b.key===nn.ArrowLeft?si(N,tn.Previous|tn.WrapAround):b.key===nn.ArrowRight?si(N,tn.Next|tn.WrapAround):Zo.Error}}))===Zo.Success)return b.preventDefault()}),V=v.useRef(!1),O=jr(()=>{var b;V.current||(V.current=!0,(b=x.current)==null||b.focus({preventScroll:!0}),m.change(k),fM(()=>{V.current=!1}))}),C=jr(b=>{b.preventDefault()}),_=v.useMemo(()=>{var b;return{selected:w,disabled:(b=t.disabled)!=null?b:!1}},[w,t.disabled]),I={ref:S,onKeyDown:R,onMouseDown:C,onClick:O,id:i,role:"tab",type:kM(t,x),"aria-controls":(r=(n=f[k])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":w,tabIndex:w?0:-1};return ho({ourProps:I,theirProps:o,slot:_,defaultTag:WM,name:"Tabs.Tab"})}let qM="div";function KM(t,e){let{selectedIndex:n}=Zi("Tab.Panels"),r=_l(e),s=v.useMemo(()=>({selectedIndex:n}),[n]);return ho({ourProps:{ref:r},theirProps:t,slot:s,defaultTag:qM,name:"Tabs.Panels"})}let GM="div",QM=jp.RenderStrategy|jp.Static;function YM(t,e){var n,r,s,i;let o=Zk(),{id:a=`headlessui-tabs-panel-${o}`,tabIndex:l=0,...d}=t,{selectedIndex:h,tabs:f,panels:m}=Zi("Tab.Panel"),y=Yg("Tab.Panel"),x=v.useRef(null),S=_l(x,e);lr(()=>y.registerPanel(x),[y,x,a]);let P=sI("panels"),k=m.indexOf(x);k===-1&&(k=P);let w=k===h,E=v.useMemo(()=>({selected:w}),[w]),R={ref:S,id:a,role:"tabpanel","aria-labelledby":(r=(n=f[k])==null?void 0:n.current)==null?void 0:r.id,tabIndex:w?l:-1};return!w&&((s=d.unmount)==null||s)&&!((i=d.static)!=null&&i)?Nt.createElement(nI,{as:"span","aria-hidden":"true",...R}):ho({ourProps:R,theirProps:d,slot:E,defaultTag:GM,features:QM,visible:w,name:"Tabs.Panel"})}let XM=fo(HM),JM=fo(BM),ZM=fo(zM),e7=fo(KM),t7=fo(YM),en=Object.assign(XM,{Group:JM,List:ZM,Panels:e7,Panel:t7});function pu(...t){return t.filter(Boolean).join(" ")}function n7(){const{courseId:t}=MC(),[e,n]=v.useState(null),[r,s]=v.useState(!0),[i,o]=v.useState(!1);if(v.useEffect(()=>{setTimeout(()=>{const h={id:parseInt(t),title:"Introduction to Web Development",description:"Learn the fundamentals of HTML, CSS, and JavaScript to build your first website. This comprehensive course takes you from zero to hero in web development, covering everything from basic page structure to advanced interactive features and responsive design.",longDescription:`This hands-on course is designed for complete beginners who want to learn how to build modern, responsive websites from scratch. 

You'll start with the basics of HTML to structure your content, then move on to CSS to style your pages and make them look professional. Finally, you'll add interactivity with JavaScript, the programming language of the web.

By the end of this course, you'll have built several real-world projects, including a personal portfolio website that you can use to showcase your skills to potential employers or clients.`,coverImage:"https://images.pexels.com/photos/1181263/pexels-photo-1181263.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",category:"Web Development",difficulty:"Beginner",duration:"8 weeks",totalHours:42,rating:4.8,reviewsCount:342,studentsCount:"2.5k+",lastUpdated:"March 2025",language:"English",price:"$49.99",progress:15,instructor:{name:"Alex Morgan",title:"Senior Web Developer",bio:"Alex has over 10 years of experience in web development and has worked with companies like Google and Facebook. He's passionate about teaching and making complex concepts accessible to beginners.",avatarUrl:"https://images.pexels.com/photos/3763188/pexels-photo-3763188.jpeg?auto=compress&cs=tinysrgb&w=1600",coursesCount:12,studentsCount:"15k+",rating:4.9},whatYouWillLearn:["Build websites using HTML, CSS, and JavaScript from scratch","Understand web development fundamentals and best practices","Create responsive layouts that work on all devices","Implement interactive features using JavaScript","Deploy websites to the internet for others to see","Use modern development tools and workflows"],prerequisites:["Basic computer skills","No prior programming experience required","A computer with internet access"],sections:[{id:1,title:"Getting Started with HTML",lectures:[{id:1,title:"Introduction to Web Development",type:"video",duration:"15:30",isCompleted:!0,isFree:!0},{id:2,title:"Setting Up Your Development Environment",type:"video",duration:"12:45",isCompleted:!0,isFree:!0},{id:3,title:"HTML Document Structure",type:"video",duration:"18:20",isCompleted:!1,isFree:!1},{id:4,title:"Working with Text Elements",type:"video",duration:"20:15",isCompleted:!1,isFree:!1},{id:5,title:"HTML Practice Quiz",type:"quiz",duration:"10:00",isCompleted:!1,isFree:!1}]},{id:2,title:"Styling with CSS",lectures:[{id:6,title:"Introduction to CSS",type:"video",duration:"22:10",isCompleted:!1,isFree:!1},{id:7,title:"Selectors and Properties",type:"video",duration:"25:40",isCompleted:!1,isFree:!1},{id:8,title:"The Box Model",type:"video",duration:"18:55",isCompleted:!1,isFree:!1},{id:9,title:"Flexbox and Grid Layout",type:"video",duration:"30:25",isCompleted:!1,isFree:!1},{id:10,title:"Responsive Design",type:"video",duration:"28:15",isCompleted:!1,isFree:!1},{id:11,title:"CSS Assignment: Build a Landing Page",type:"assignment",duration:"60:00",isCompleted:!1,isFree:!1}]},{id:3,title:"JavaScript Fundamentals",lectures:[{id:12,title:"Introduction to JavaScript",type:"video",duration:"20:30",isCompleted:!1,isFree:!1},{id:13,title:"Variables and Data Types",type:"video",duration:"22:45",isCompleted:!1,isFree:!1},{id:14,title:"Control Flow: Conditionals and Loops",type:"video",duration:"25:50",isCompleted:!1,isFree:!1},{id:15,title:"Functions and Scope",type:"video",duration:"28:15",isCompleted:!1,isFree:!1},{id:16,title:"Working with the DOM",type:"video",duration:"32:20",isCompleted:!1,isFree:!1},{id:17,title:"Event Handling",type:"video",duration:"24:40",isCompleted:!1,isFree:!1},{id:18,title:"JavaScript Mid-Course Quiz",type:"quiz",duration:"15:00",isCompleted:!1,isFree:!1}]},{id:4,title:"Building Interactive Web Projects",lectures:[{id:19,title:"Project Planning and Structure",type:"video",duration:"18:30",isCompleted:!1,isFree:!1},{id:20,title:"Creating a Todo List App",type:"video",duration:"35:45",isCompleted:!1,isFree:!1},{id:21,title:"Building a Weather App",type:"video",duration:"40:20",isCompleted:!1,isFree:!1},{id:22,title:"Personal Portfolio Website",type:"video",duration:"45:15",isCompleted:!1,isFree:!1},{id:23,title:"Deploying Your Website",type:"video",duration:"22:30",isCompleted:!1,isFree:!1},{id:24,title:"Final Project Submission",type:"assignment",duration:"120:00",isCompleted:!1,isFree:!1}]}],reviews:[{id:1,name:"Sarah Johnson",date:"2 weeks ago",rating:5,comment:"This course was exactly what I needed to start my web development journey. Alex explains everything in a way that's easy to understand, and the projects helped solidify my knowledge. Highly recommend!",avatarUrl:"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=1600"},{id:2,name:"Michael Chen",date:"1 month ago",rating:4,comment:"Great introduction to web development. The content is well-structured and the instructor's explanations are clear. I would have liked more advanced JavaScript concepts, but overall it's an excellent course for beginners.",avatarUrl:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=1600"},{id:3,name:"Jessica Miller",date:"2 months ago",rating:5,comment:"As someone with no prior programming experience, I was worried this would be too difficult, but the instructor breaks everything down so well. I'm now able to build my own websites from scratch! The AI tutor feature was also incredibly helpful whenever I got stuck.",avatarUrl:"https://images.pexels.com/photos/415829/pexels-photo-415829.jpeg?auto=compress&cs=tinysrgb&w=1600"}]};n(h),s(!1),o(!0)},1e3)},[t]),r)return c.jsx(Kr,{children:c.jsx("div",{className:"flex justify-center items-center h-96",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})})});if(!e)return c.jsx(Kr,{children:c.jsxs("div",{className:"container mx-auto px-4 py-16 text-center",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Course not found"}),c.jsx("p",{className:"mt-4",children:"The course you're looking for doesn't exist or has been removed."}),c.jsx(te,{to:"/courses",className:"mt-8 inline-block btn btn-primary",children:"Browse Courses"})]})});const a=e.sections.reduce((h,f)=>h+f.lectures.length,0),l=e.sections.reduce((h,f)=>h+f.lectures.filter(m=>m.isCompleted).length,0),d=Math.round(l/a*100);return c.jsxs(Kr,{children:[c.jsx("div",{className:"bg-gradient-to-r from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900 pt-16 pb-12",children:c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex flex-col lg:flex-row",children:[c.jsxs("div",{className:"lg:w-2/3 lg:pr-12",children:[c.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:e.title}),c.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-400 mb-6",children:e.description}),c.jsxs("div",{className:"flex flex-wrap items-center gap-x-6 gap-y-2 mb-6",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(h=>c.jsx(Xo,{className:`h-5 w-5 ${h<=Math.floor(e.rating)?"text-yellow-400":"text-gray-300 dark:text-gray-600"}`},h))}),c.jsxs("span",{className:"ml-2 text-gray-700 dark:text-gray-300",children:[e.rating," (",e.reviewsCount," reviews)"]})]}),c.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[c.jsx(Fc,{className:"h-5 w-5 mr-1"}),c.jsxs("span",{children:[e.studentsCount," students"]})]}),c.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[c.jsx(qg,{className:"h-5 w-5 mr-1"}),c.jsxs("span",{children:[e.totalHours," hours"]})]}),c.jsxs("div",{className:"flex items-center text-gray-600 dark:text-gray-400",children:[c.jsx(hO,{className:"h-5 w-5 mr-1"}),c.jsxs("span",{children:[a," lectures"]})]}),c.jsx("div",{className:"flex items-center",children:c.jsx("span",{className:`badge ${e.difficulty==="Beginner"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100":e.difficulty==="Intermediate"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-100":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100"}`,children:e.difficulty})}),c.jsx("div",{children:c.jsx("span",{className:"badge bg-primary/10 text-primary dark:bg-primary/20",children:e.category})})]}),c.jsxs("div",{className:"flex items-center mb-8",children:[c.jsx("img",{src:e.instructor.avatarUrl,alt:e.instructor.name,className:"h-12 w-12 rounded-full object-cover mr-3"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:e.instructor.name}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.instructor.title})]})]}),i?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"text-lg font-medium",children:["Your progress: ",d,"%"]}),c.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[l,"/",a," lessons completed"]})]}),c.jsx("div",{className:"w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-primary transition-all duration-500 ease-out",style:{width:`${d}%`}})}),c.jsxs("div",{className:"flex space-x-4",children:[c.jsx(te,{to:`/courses/${e.id}/learn`,className:"btn btn-primary",children:d>0?"Continue Learning":"Start Learning"}),c.jsx("button",{className:"btn btn-outline",children:"View Syllabus"})]})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-baseline",children:[c.jsx("span",{className:"text-3xl font-bold",children:e.price}),c.jsx("span",{className:"ml-2 text-lg text-gray-500 line-through",children:"$99.99"}),c.jsx("span",{className:"ml-2 text-sm bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100 px-2 py-0.5 rounded",children:"50% off"})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsx("button",{className:"btn btn-primary",children:"Enroll Now"}),c.jsxs("button",{className:"btn btn-outline flex items-center justify-center",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),"Add to Wishlist"]})]}),c.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"30-Day Money-Back Guarantee"})]})]}),c.jsxs("div",{className:"lg:w-1/3 mt-8 lg:mt-0",children:[c.jsxs("div",{className:"relative rounded-lg overflow-hidden shadow-lg",children:[c.jsx("img",{src:e.coverImage,alt:e.title,className:"w-full h-48 object-cover"}),c.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center",children:c.jsx("button",{className:"bg-white rounded-full p-3 text-gray-800 hover:bg-gray-100 transition-colors",children:c.jsx(Gh,{className:"h-8 w-8"})})})]}),c.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 mt-6",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"This course includes:"}),c.jsxs("ul",{className:"space-y-3",children:[c.jsxs("li",{className:"flex items-start",children:[c.jsx(GO,{className:"h-5 w-5 text-gray-500 mt-0.5 mr-3"}),c.jsxs("span",{children:[e.totalHours," hours of on-demand video"]})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx(kO,{className:"h-5 w-5 text-gray-500 mt-0.5 mr-3"}),c.jsx("span",{children:"25 downloadable resources"})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx(Xk,{className:"h-5 w-5 text-gray-500 mt-0.5 mr-3"}),c.jsx("span",{children:"10 coding exercises"})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500 mt-0.5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),c.jsx("span",{children:"Full lifetime access"})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500 mt-0.5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),c.jsx("span",{children:"Certificate of completion"})]})]})]}),c.jsxs("div",{className:"mt-6 text-center",children:[c.jsx("button",{className:"text-primary hover:text-primary/80 text-sm font-medium",children:"Share this course"}),c.jsxs("div",{className:"flex justify-center mt-3 space-x-4",children:[c.jsx("button",{className:"text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-primary",children:c.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M22.675 0h-21.35c-.732 0-1.325.593-1.325 1.325v21.351c0 .731.593 1.324 1.325 1.324h11.495v-9.294h-3.128v-3.622h3.128v-2.671c0-3.1 1.893-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.795.715-1.795 1.763v2.313h3.587l-.467 3.622h-3.12v9.293h6.116c.73 0 1.323-.593 1.323-1.325v-21.35c0-.732-.593-1.325-1.325-1.325z"})})}),c.jsx("button",{className:"text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-primary",children:c.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723 10.1 10.1 0 01-3.127 1.184 4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})})}),c.jsx("button",{className:"text-gray-600 dark:text-gray-400 hover:text-primary dark:hover:text-primary",children:c.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})})]})]})]})]})})}),c.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:c.jsxs(en.Group,{children:[c.jsxs(en.List,{className:"flex flex-wrap -mb-px border-b border-gray-200 dark:border-gray-700",children:[c.jsx(en,{className:({selected:h})=>pu("inline-block py-4 px-4 text-sm font-medium focus:outline-none",h?"text-primary border-b-2 border-primary":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:"Overview"}),c.jsx(en,{className:({selected:h})=>pu("inline-block py-4 px-4 text-sm font-medium focus:outline-none",h?"text-primary border-b-2 border-primary":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:"Curriculum"}),c.jsx(en,{className:({selected:h})=>pu("inline-block py-4 px-4 text-sm font-medium focus:outline-none",h?"text-primary border-b-2 border-primary":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:"Instructor"}),c.jsx(en,{className:({selected:h})=>pu("inline-block py-4 px-4 text-sm font-medium focus:outline-none",h?"text-primary border-b-2 border-primary":"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-300"),children:"Reviews"})]}),c.jsxs(en.Panels,{className:"mt-6",children:[c.jsx(en.Panel,{children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[c.jsxs("section",{children:[c.jsx("h2",{className:"text-2xl font-bold mb-4",children:"About This Course"}),c.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none",children:c.jsx("p",{children:e.longDescription})})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-2xl font-bold mb-4",children:"What You'll Learn"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:e.whatYouWillLearn.map((h,f)=>c.jsxs("div",{className:"flex",children:[c.jsx(gn,{className:"h-6 w-6 text-green-500 mr-2 flex-shrink-0"}),c.jsx("span",{children:h})]},f))})]}),c.jsxs("section",{children:[c.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Prerequisites"}),c.jsx("ul",{className:"space-y-2",children:e.prerequisites.map((h,f)=>c.jsxs("li",{className:"flex items-start",children:[c.jsx(gn,{className:"h-5 w-5 text-green-500 mr-2 mt-0.5"}),c.jsx("span",{children:h})]},f))})]})]}),c.jsx("div",{children:c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-medium mb-4",children:"Course Details"}),c.jsxs("ul",{className:"space-y-3",children:[c.jsxs("li",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Language:"}),c.jsx("span",{className:"font-medium",children:e.language})]}),c.jsxs("li",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Last updated:"}),c.jsx("span",{className:"font-medium",children:e.lastUpdated})]}),c.jsxs("li",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),c.jsx("span",{className:"font-medium",children:e.duration})]}),c.jsxs("li",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total videos:"}),c.jsxs("span",{className:"font-medium",children:[a," lectures"]})]}),c.jsxs("li",{className:"flex justify-between",children:[c.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Skill level:"}),c.jsx("span",{className:"font-medium",children:e.difficulty})]})]}),c.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[c.jsx("h3",{className:"text-lg font-medium mb-4",children:"This Course Is For:"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsxs("li",{className:"flex items-start",children:[c.jsx(gn,{className:"h-5 w-5 text-green-500 mr-2 mt-0.5"}),c.jsx("span",{children:"Complete beginners with no prior experience"})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx(gn,{className:"h-5 w-5 text-green-500 mr-2 mt-0.5"}),c.jsx("span",{children:"Anyone interested in learning web development"})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx(gn,{className:"h-5 w-5 text-green-500 mr-2 mt-0.5"}),c.jsx("span",{children:"Students looking to build their own websites"})]})]})]})]})})]})}),c.jsx(en.Panel,{children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Course Content"}),c.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:[e.sections.length," sections • ",a," lectures • ",e.totalHours," total hours"]})]}),c.jsx("button",{className:"text-primary hover:underline text-sm font-medium",children:"Expand All Sections"})]}),c.jsx("div",{className:"space-y-3",children:e.sections.map(h=>c.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 px-6 py-4 flex justify-between items-center cursor-pointer",children:[c.jsx("h3",{className:"text-lg font-medium",children:h.title}),c.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[c.jsxs("span",{children:[h.lectures.length," lectures"]}),c.jsx(ChevronDownIcon,{className:"h-5 w-5 ml-2"})]})]}),c.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:h.lectures.map(f=>c.jsxs("div",{className:`px-6 py-4 flex justify-between items-center ${i||f.isFree?"hover:bg-gray-50 dark:hover:bg-gray-800":""}`,children:[c.jsxs("div",{className:"flex items-start",children:[c.jsxs("div",{className:"mr-3 mt-0.5",children:[f.type==="video"&&c.jsx(Gh,{className:"h-5 w-5 text-gray-500"}),f.type==="quiz"&&c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),f.type==="assignment"&&c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})]}),c.jsxs("div",{children:[c.jsx("h4",{className:`font-medium ${f.isCompleted?"line-through text-gray-500 dark:text-gray-500":""}`,children:f.title}),c.jsxs("p",{className:"text-xs text-gray-500",children:[f.type.charAt(0).toUpperCase()+f.type.slice(1)," • ",f.duration]})]})]}),c.jsxs("div",{className:"flex items-center",children:[f.isFree&&!i&&c.jsx("span",{className:"text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100 px-2 py-0.5 rounded mr-2",children:"Preview"}),i||f.isFree?c.jsx("button",{className:"text-primary hover:text-primary/80",title:f.isCompleted?"Completed":"Start",children:f.isCompleted?c.jsx(gn,{className:"h-5 w-5"}):c.jsx(Oc,{className:"h-5 w-5"})}):c.jsx(Mc,{className:"h-4 w-4 text-gray-400"})]})]},f.id))})]},h.id))})]})}),c.jsx(en.Panel,{children:c.jsx("div",{className:"max-w-3xl",children:c.jsxs("div",{className:"flex flex-col md:flex-row md:items-start",children:[c.jsx("div",{className:"flex-shrink-0 mb-4 md:mb-0 md:mr-6",children:c.jsx("img",{src:e.instructor.avatarUrl,alt:e.instructor.name,className:"h-32 w-32 rounded-full object-cover"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold",children:e.instructor.name}),c.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:e.instructor.title}),c.jsxs("div",{className:"flex items-center mt-2 space-x-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Xo,{className:"h-5 w-5 text-yellow-400"}),c.jsxs("span",{className:"ml-1",children:[e.instructor.rating," Instructor Rating"]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Fc,{className:"h-5 w-5 text-gray-500"}),c.jsxs("span",{className:"ml-1",children:[e.instructor.studentsCount," Students"]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Gh,{className:"h-5 w-5 text-gray-500"}),c.jsxs("span",{className:"ml-1",children:[e.instructor.coursesCount," Courses"]})]})]}),c.jsx("p",{className:"mt-4 text-gray-700 dark:text-gray-300",children:e.instructor.bio}),c.jsx("div",{className:"mt-4",children:c.jsxs("a",{href:"#",className:"text-primary hover:underline font-medium flex items-center",children:["View all courses by ",e.instructor.name,c.jsx(Oc,{className:"h-4 w-4 ml-1"})]})})]})]})})}),c.jsx(en.Panel,{children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"lg:col-span-2",children:[c.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Student Reviews"}),c.jsx("div",{className:"space-y-6",children:e.reviews.map(h=>c.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-6 last:border-0",children:c.jsxs("div",{className:"flex items-start",children:[c.jsx("img",{src:h.avatarUrl,alt:h.name,className:"h-10 w-10 rounded-full object-cover mr-4"}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("h3",{className:"font-medium",children:h.name}),c.jsx("span",{className:"mx-2 text-gray-500",children:"•"}),c.jsx("span",{className:"text-sm text-gray-500",children:h.date})]}),c.jsx("div",{className:"flex mt-1 mb-3",children:[1,2,3,4,5].map(f=>c.jsx(Xo,{className:`h-4 w-4 ${f<=h.rating?"text-yellow-400":"text-gray-300 dark:text-gray-600"}`},f))}),c.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:h.comment}),c.jsxs("div",{className:"mt-3 flex items-center",children:[c.jsx("button",{className:"text-sm text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 mr-4",children:"Helpful?"}),c.jsx("button",{className:"text-sm text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:"Report"})]})]})]})},h.id))}),c.jsx("div",{className:"mt-8",children:c.jsx("button",{className:"btn btn-outline",children:"Load More Reviews"})})]}),c.jsx("div",{children:c.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-6",children:[c.jsx("h3",{className:"text-lg font-medium mb-4",children:"Rating Overview"}),c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx("div",{className:"text-3xl font-bold mr-2",children:e.rating}),c.jsxs("div",{children:[c.jsx("div",{className:"flex",children:[1,2,3,4,5].map(h=>c.jsx(Xo,{className:`h-5 w-5 ${h<=Math.floor(e.rating)?"text-yellow-400":"text-gray-300 dark:text-gray-600"}`},h))}),c.jsx("p",{className:"text-sm text-gray-500",children:"Course Rating"})]})]}),c.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(h=>c.jsxs("div",{className:"flex items-center",children:[c.jsxs("div",{className:"flex items-center w-10",children:[c.jsx("span",{children:h}),c.jsx(Kg,{className:"h-4 w-4 ml-1 text-gray-400"})]}),c.jsx("div",{className:"w-full h-2 mx-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-yellow-400",style:{width:`${h===5?"70":h===4?"20":h===3?"7":h===2?"2":"1"}%`}})}),c.jsxs("div",{className:"w-8 text-right text-sm text-gray-500",children:[h===5?"70":h===4?"20":h===3?"7":h===2?"2":"1","%"]})]},h))}),i&&c.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200 dark:border-gray-700",children:[c.jsx("h3",{className:"text-lg font-medium mb-2",children:"Leave a Review"}),c.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Share your experience with this course"}),c.jsx("button",{className:"btn btn-outline w-full",children:"Write a Review"})]})]})})]})})]})]})}),c.jsx(Jk,{courseContext:e})]})}function r7(){return c.jsxs(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"container mx-auto px-4 py-8",children:[c.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Learning Path"}),c.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:c.jsx("p",{className:"text-gray-600",children:"Your personalized learning journey will appear here."})})]})}function s7(){const{currentUser:t}=us();return c.jsxs(ue.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"container mx-auto px-4 py-8",children:[c.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Profile"}),c.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:c.jsxs("div",{className:"mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Email"}),c.jsx("p",{children:t==null?void 0:t.email})]})})]})}function i7(){return c.jsx(Kr,{children:c.jsx("div",{className:"container mx-auto px-4 py-16 flex flex-col items-center justify-center text-center",children:c.jsxs(ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-lg",children:[c.jsx("h1",{className:"text-9xl font-bold text-primary",children:"404"}),c.jsx("h2",{className:"text-3xl font-bold mt-4 mb-2",children:"Page Not Found"}),c.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 mb-8",children:"Oops! The page you're looking for doesn't exist or has been moved."}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(te,{to:"/",className:"btn btn-primary",children:"Return to Home"}),c.jsxs("div",{className:"flex justify-center items-center space-x-4 mt-4",children:[c.jsx(te,{to:"/courses",className:"text-primary hover:underline",children:"Browse Courses"}),c.jsx("span",{className:"text-gray-400",children:"•"}),c.jsx(te,{to:"/support",className:"text-primary hover:underline",children:"Contact Support"})]})]})]})})})}function iI(){return c.jsxs("div",{className:"fixed inset-0 flex flex-col items-center justify-center bg-white dark:bg-gray-900 z-50",children:[c.jsx(ue.div,{animate:{scale:[1,1.1,1],rotate:[0,0,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:c.jsx(An,{className:"h-16 w-16 text-primary"})}),c.jsx(ue.div,{initial:{width:0},animate:{width:200},transition:{duration:1.5,repeat:1/0,repeatType:"reverse",ease:"easeInOut"},className:"h-1 bg-gradient-to-r from-primary to-secondary rounded-full mt-8",style:{maxWidth:200}}),c.jsx(ue.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading your learning experience..."})]})}function Uo({children:t}){const{currentUser:e,loading:n}=us();return n?c.jsx(iI,{}):e?t:c.jsx(ZC,{to:"/signin",replace:!0})}function o7(){const{loading:t}=us();return t?c.jsx(iI,{}):c.jsx(AE,{mode:"wait",children:c.jsxs(tP,{children:[c.jsx(pn,{path:"/",element:c.jsx(JO,{})}),c.jsx(pn,{path:"/signin",element:c.jsx(ZO,{})}),c.jsx(pn,{path:"/signup",element:c.jsx(eM,{})}),c.jsx(pn,{path:"/dashboard",element:c.jsx(Uo,{children:c.jsx(lM,{})})}),c.jsx(pn,{path:"/courses",element:c.jsx(Uo,{children:c.jsx(uM,{})})}),c.jsx(pn,{path:"/courses/:courseId",element:c.jsx(Uo,{children:c.jsx(n7,{})})}),c.jsx(pn,{path:"/learning-path",element:c.jsx(Uo,{children:c.jsx(r7,{})})}),c.jsx(pn,{path:"/profile",element:c.jsx(Uo,{children:c.jsx(s7,{})})}),c.jsx(pn,{path:"*",element:c.jsx(i7,{})})]})})}Jh.createRoot(document.getElementById("root")).render(c.jsx(Nt.StrictMode,{children:c.jsx(lP,{children:c.jsx(iO,{children:c.jsxs(rO,{children:[c.jsx(o7,{}),c.jsx(nO,{position:"top-center"})]})})})}));
